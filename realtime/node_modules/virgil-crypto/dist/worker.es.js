class t{constructor(t){if(null==t)throw new Error("`crypto` is required");this.crypto=t}getAlgorithm(){return"VEDS512"}generateTokenSignature(t,e){return this.crypto.calculateSignature(t,e)}verifyTokenSignature(t,e,r){return this.crypto.verifySignature(t,e,r)}}class e{constructor(t){if(null==t)throw new Error("`crypto` is required");this.crypto=t}generateSignature(t,e){return this.crypto.calculateSignature(t,e)}verifySignature(t,e,r){return this.crypto.verifySignature(t,e,r)}exportPublicKey(t){return this.crypto.exportPublicKey(t)}importPublicKey(t){return this.crypto.importPublicKey(t)}generateSha512(t){return this.crypto.calculateHash(t)}}class r{constructor(t){if(null==t)throw new Error("`crypto` is required");this.crypto=t}exportPrivateKey(t){return this.crypto.exportPrivateKey(t)}importPrivateKey(t){return this.crypto.importPrivateKey(t)}}var n=function(t,e){return function(t,e){var r,n=(r="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(t){var e;t=t||{},e||(e=void 0!==t?t:{});var n,s={};for(n in e)e.hasOwnProperty(n)&&(s[n]=e[n]);var _,c="";c=self.location.href,r&&(c=r),c=0!==c.indexOf("blob:")?c.substr(0,c.lastIndexOf("/")+1):"",_=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)};var a,i=e.print||console.log.bind(console),o=e.printErr||console.warn.bind(console);for(n in s)s.hasOwnProperty(n)&&(e[n]=s[n]);s=null,e.wasmBinary&&(a=e.wasmBinary),"object"!=typeof WebAssembly&&o("no native wasm support detected");var l,u,f,d,p,h,y=new WebAssembly.Table({initial:717,maximum:717,element:"anyfunc"}),v=!1,P="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function m(t,e,r){var n=e+r;for(r=e;t[r]&&!(r>=n);)++r;if(16<r-e&&t.subarray&&P)return P.decode(t.subarray(e,r));for(n="";e<r;){var s=t[e++];if(128&s){var _=63&t[e++];if(192==(224&s))n+=String.fromCharCode((31&s)<<6|_);else{var c=63&t[e++];65536>(s=224==(240&s)?(15&s)<<12|_<<6|c:(7&s)<<18|_<<12|c<<6|63&t[e++])?n+=String.fromCharCode(s):(s-=65536,n+=String.fromCharCode(55296|s>>10,56320|1023&s))}}else n+=String.fromCharCode(s)}return n}function x(t){return 0<t%65536&&(t+=65536-t%65536),t}function g(t){u=t,e.HEAP8=f=new Int8Array(t),e.HEAP16=p=new Int16Array(t),e.HEAP32=h=new Int32Array(t),e.HEAPU8=d=new Uint8Array(t),e.HEAPU16=new Uint16Array(t),e.HEAPU32=new Uint32Array(t),e.HEAPF32=new Float32Array(t),e.HEAPF64=new Float64Array(t)}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var E=e.TOTAL_MEMORY||16777216;function I(t){for(;0<t.length;){var r=t.shift();if("function"==typeof r)r();else{var n=r.mu;"number"==typeof n?void 0===r.Vt?e.dynCall_v(n):e.dynCall_vi(n,r.Vt):n(void 0===r.Vt?null:r.Vt)}}}(l=e.wasmMemory?e.wasmMemory:new WebAssembly.Memory({initial:E/65536}))&&(u=l.buffer),E=u.byteLength,g(u),h[39960]=5402880;var N=[],w=[],b=[],A=[];function k(){var t=e.preRun.shift();N.unshift(t)}var C=Math.abs,T=Math.ceil,F=Math.floor,K=Math.min,S=0,L=null;function R(t){throw e.onAbort&&e.onAbort(t),i(t),o(t),v=!0,new WebAssembly.RuntimeError("abort("+t+"). Build with -s ASSERTIONS=1 for more info.")}function B(){var t=D;return String.prototype.startsWith?t.startsWith("data:application/octet-stream;base64,"):0===t.indexOf("data:application/octet-stream;base64,")}e.preloadedImages={},e.preloadedAudios={};var z,U,D="libfoundation.worker.wasm";if(!B()){var Y=D;D=e.locateFile?e.locateFile(Y,c):c+Y}function M(){try{if(a)return new Uint8Array(a);if(_)return _(D);throw"both async and sync fetching of the wasm failed"}catch(t){R(t)}}function H(t,e){for(var r=0,n=t.length-1;0<=n;n--){var s=t[n];"."===s?t.splice(n,1):".."===s?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r;r--)t.unshift("..");return t}function O(t){var e="/"===t.charAt(0),r="/"===t.substr(-1);return(t=H(t.split("/").filter((function(t){return!!t})),!e).join("/"))||e||(t="."),t&&r&&(t+="/"),(e?"/":"")+t}function G(t){var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(t).slice(1);return t=e[0],e=e[1],t||e?(e&&(e=e.substr(0,e.length-1)),t+e):"."}function V(t){if("/"===t)return"/";var e=t.lastIndexOf("/");return-1===e?t:t.substr(e+1)}function j(){for(var t="",e=!1,r=arguments.length-1;-1<=r&&!e;r--){if("string"!=typeof(e=0<=r?arguments[r]:"/"))throw new TypeError("Arguments to path.resolve must be strings");if(!e)return"";t=e+"/"+t,e="/"===e.charAt(0)}return(e?"/":"")+(t=H(t.split("/").filter((function(t){return!!t})),!e).join("/"))||"."}w.push({mu:function(){Yt()}});var q=[];function X(t,e){q[t]={input:[],Gt:[],Ot:e},mt(t,W)}var W={open:function(t){var e=q[t.node.Tt];if(!e)throw new ct(43);t.Ft=e,t.seekable=!1},close:function(t){t.Ft.Ot.flush(t.Ft)},flush:function(t){t.Ft.Ot.flush(t.Ft)},read:function(t,e,r,n){if(!t.Ft||!t.Ft.Ot.du)throw new ct(60);for(var s=0,_=0;_<n;_++){try{var c=t.Ft.Ot.du(t.Ft)}catch(t){throw new ct(29)}if(void 0===c&&0===s)throw new ct(6);if(null==c)break;s++,e[r+_]=c}return s&&(t.node.timestamp=Date.now()),s},write:function(t,e,r,n){if(!t.Ft||!t.Ft.Ot.Xt)throw new ct(60);try{for(var s=0;s<n;s++)t.Ft.Ot.Xt(t.Ft,e[r+s])}catch(t){throw new ct(29)}return n&&(t.node.timestamp=Date.now()),s}},Z={du:function(t){if(!t.input.length){var e=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(e=window.prompt("Input: "))&&(e+="\n"):"function"==typeof readline&&null!==(e=readline())&&(e+="\n"),!e)return null;for(var r=0,n=0;n<e.length;++n){var s=e.charCodeAt(n);55296<=s&&57343>=s&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++n)),127>=s?++r:r=2047>=s?r+2:65535>=s?r+3:r+4}var _=(r=Array(r+1)).length;if(n=0,0<_){s=n,_=n+_-1;for(var c=0;c<e.length;++c){var a=e.charCodeAt(c);if(55296<=a&&57343>=a&&(a=65536+((1023&a)<<10)|1023&e.charCodeAt(++c)),127>=a){if(n>=_)break;r[n++]=a}else{if(2047>=a){if(n+1>=_)break;r[n++]=192|a>>6}else{if(65535>=a){if(n+2>=_)break;r[n++]=224|a>>12}else{if(n+3>=_)break;r[n++]=240|a>>18,r[n++]=128|a>>12&63}r[n++]=128|a>>6&63}r[n++]=128|63&a}}r[n]=0,e=n-s}else e=0;r.length=e,t.input=r}return t.input.shift()},Xt:function(t,e){null===e||10===e?(i(m(t.Gt,0)),t.Gt=[]):0!=e&&t.Gt.push(e)},flush:function(t){t.Gt&&0<t.Gt.length&&(i(m(t.Gt,0)),t.Gt=[])}},$={Xt:function(t,e){null===e||10===e?(o(m(t.Gt,0)),t.Gt=[]):0!=e&&t.Gt.push(e)},flush:function(t){t.Gt&&0<t.Gt.length&&(o(m(t.Gt,0)),t.Gt=[])}},J={Ht:null,Jt:function(){return J.createNode(null,"/",16895,0)},createNode:function(t,e,r,n){if(24576==(61440&r)||4096==(61440&r))throw new ct(63);return J.Ht||(J.Ht={dir:{node:{Lt:J.Ct.Lt,It:J.Ct.It,Pt:J.Ct.Pt,Rt:J.Ct.Rt,iu:J.Ct.iu,ku:J.Ct.ku,ju:J.Ct.ju,hu:J.Ct.hu,Ut:J.Ct.Ut},stream:{Nt:J.Dt.Nt}},file:{node:{Lt:J.Ct.Lt,It:J.Ct.It},stream:{Nt:J.Dt.Nt,read:J.Dt.read,write:J.Dt.write,Zt:J.Dt.Zt,eu:J.Dt.eu,gu:J.Dt.gu}},link:{node:{Lt:J.Ct.Lt,It:J.Ct.It,Qt:J.Ct.Qt},stream:{}},$t:{node:{Lt:J.Ct.Lt,It:J.Ct.It},stream:Pt}}),16384==(61440&(r=ft(t,e,r,n)).mode)?(r.Ct=J.Ht.dir.node,r.Dt=J.Ht.dir.stream,r.Bt={}):32768==(61440&r.mode)?(r.Ct=J.Ht.file.node,r.Dt=J.Ht.file.stream,r.Et=0,r.Bt=null):40960==(61440&r.mode)?(r.Ct=J.Ht.link.node,r.Dt=J.Ht.link.stream):8192==(61440&r.mode)&&(r.Ct=J.Ht.$t.node,r.Dt=J.Ht.$t.stream),r.timestamp=Date.now(),t&&(t.Bt[e]=r),r},yu:function(t){if(t.Bt&&t.Bt.subarray){for(var e=[],r=0;r<t.Et;++r)e.push(t.Bt[r]);return e}return t.Bt},zu:function(t){return t.Bt?t.Bt.subarray?t.Bt.subarray(0,t.Et):new Uint8Array(t.Bt):new Uint8Array},au:function(t,e){var r=t.Bt?t.Bt.length:0;r>=e||(e=Math.max(e,r*(1048576>r?2:1.125)|0),0!=r&&(e=Math.max(e,256)),r=t.Bt,t.Bt=new Uint8Array(e),0<t.Et&&t.Bt.set(r.subarray(0,t.Et),0))},qu:function(t,e){if(t.Et!=e)if(0==e)t.Bt=null,t.Et=0;else{if(!t.Bt||t.Bt.subarray){var r=t.Bt;t.Bt=new Uint8Array(new ArrayBuffer(e)),r&&t.Bt.set(r.subarray(0,Math.min(e,t.Et)))}else if(t.Bt||(t.Bt=[]),t.Bt.length>e)t.Bt.length=e;else for(;t.Bt.length<e;)t.Bt.push(0);t.Et=e}},Ct:{Lt:function(t){var e={};return e.xu=8192==(61440&t.mode)?t.id:1,e.Bu=t.id,e.mode=t.mode,e.Du=1,e.uid=0,e.Au=0,e.Tt=t.Tt,16384==(61440&t.mode)?e.size=4096:32768==(61440&t.mode)?e.size=t.Et:40960==(61440&t.mode)?e.size=t.link.length:e.size=0,e.uu=new Date(t.timestamp),e.Cu=new Date(t.timestamp),e.wu=new Date(t.timestamp),e.lu=4096,e.vu=Math.ceil(e.size/e.lu),e},It:function(t,e){void 0!==e.mode&&(t.mode=e.mode),void 0!==e.timestamp&&(t.timestamp=e.timestamp),void 0!==e.size&&J.qu(t,e.size)},Pt:function(){throw at[44]},Rt:function(t,e,r,n){return J.createNode(t,e,r,n)},iu:function(t,e,r){if(16384==(61440&t.mode)){try{var n=ut(e,r)}catch(t){}if(n)for(var s in n.Bt)throw new ct(55)}delete t.parent.Bt[t.name],t.name=r,e.Bt[r]=t,t.parent=e},ku:function(t,e){delete t.Bt[e]},ju:function(t,e){var r,n=ut(t,e);for(r in n.Bt)throw new ct(55);delete t.Bt[e]},hu:function(t){var e,r=[".",".."];for(e in t.Bt)t.Bt.hasOwnProperty(e)&&r.push(e);return r},Ut:function(t,e,r){return(t=J.createNode(t,e,41471,0)).link=r,t},Qt:function(t){if(40960!=(61440&t.mode))throw new ct(28);return t.link}},Dt:{read:function(t,e,r,n,s){var _=t.node.Bt;if(s>=t.node.Et)return 0;if(8<(t=Math.min(t.node.Et-s,n))&&_.subarray)e.set(_.subarray(s,s+t),r);else for(n=0;n<t;n++)e[r+n]=_[s+n];return t},write:function(t,e,r,n,s,_){if(e.buffer===f.buffer&&(_=!1),!n)return 0;if((t=t.node).timestamp=Date.now(),e.subarray&&(!t.Bt||t.Bt.subarray)){if(_)return t.Bt=e.subarray(r,r+n),t.Et=n;if(0===t.Et&&0===s)return t.Bt=new Uint8Array(e.subarray(r,r+n)),t.Et=n;if(s+n<=t.Et)return t.Bt.set(e.subarray(r,r+n),s),n}if(J.au(t,s+n),t.Bt.subarray&&e.subarray)t.Bt.set(e.subarray(r,r+n),s);else for(_=0;_<n;_++)t.Bt[s+_]=e[r+_];return t.Et=Math.max(t.Et,s+n),n},Nt:function(t,e,r){if(1===r?e+=t.position:2===r&&32768==(61440&t.node.mode)&&(e+=t.node.Et),0>e)throw new ct(28);return e},Zt:function(t,e,r){J.au(t.node,e+r),t.node.Et=Math.max(t.node.Et,e+r)},eu:function(t,e,r,n,s,_,c){if(32768!=(61440&t.node.mode))throw new ct(43);if(r=t.node.Bt,2&c||r.buffer!==e.buffer){if((0<s||s+n<t.node.Et)&&(r=r.subarray?r.subarray(s,s+n):Array.prototype.slice.call(r,s,s+n)),t=!0,s=e.buffer==f.buffer,!(n=Ht(n)))throw new ct(48);(s?f:e).set(r,n)}else t=!1,n=r.byteOffset;return{Fu:n,tu:t}},gu:function(t,e,r,n,s){if(32768!=(61440&t.node.mode))throw new ct(43);return 2&s||J.Dt.write(t,e,0,n,r,!1),0}}},Q=null,tt={},et=[],rt=1,nt=null,st=!0,_t={},ct=null,at={};function it(t,e){if(e=e||{},!(t=j("/",t)))return{path:"",node:null};var r,n={cu:!0,Yt:0};for(r in n)void 0===e[r]&&(e[r]=n[r]);if(8<e.Yt)throw new ct(32);t=H(t.split("/").filter((function(t){return!!t})),!1);var s=Q;for(n="/",r=0;r<t.length;r++){var _=r===t.length-1;if(_&&e.parent)break;if(s=ut(s,t[r]),n=O(n+"/"+t[r]),s.St&&(!_||_&&e.cu)&&(s=s.St.root),!_||e.bu)for(_=0;40960==(61440&s.mode);)if(s=wt(n),s=it(n=j(G(n),s),{Yt:e.Yt}).node,40<_++)throw new ct(32)}return{path:n,node:s}}function ot(t){for(var e;;){if(t===t.parent)return t=t.Jt.fu,e?"/"!==t[t.length-1]?t+"/"+e:t+e:t;e=e?t.name+"/"+e:t.name,t=t.parent}}function lt(t,e){for(var r=0,n=0;n<e.length;n++)r=(r<<5)-r+e.charCodeAt(n)|0;return(t+r>>>0)%nt.length}function ut(t,e){var r;if(r=(r=ht(t,"x"))?r:t.Ct.Pt?0:2)throw new ct(r,t);for(r=nt[lt(t.id,e)];r;r=r.pu){var n=r.name;if(r.parent.id===t.id&&n===e)return r}return t.Ct.Pt(t,e)}function ft(t,e,r,n){return Ft||((Ft=function(t,e,r,n){t||(t=this),this.parent=t,this.Jt=t.Jt,this.St=null,this.id=rt++,this.name=e,this.mode=r,this.Ct={},this.Dt={},this.Tt=n}).prototype={},Object.defineProperties(Ft.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(t){t?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(t){t?this.mode|=146:this.mode&=-147}}})),function(t){var e=lt(t.parent.id,t.name);t.pu=nt[e],nt[e]=t}(t=new Ft(t,e,r,n)),t}var dt={r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218};function pt(t){var e=["r","w","rw"][3&t];return 512&t&&(e+="w"),e}function ht(t,e){return st||(-1===e.indexOf("r")||292&t.mode)&&(-1===e.indexOf("w")||146&t.mode)&&(-1===e.indexOf("x")||73&t.mode)?0:2}function yt(t,e){try{return ut(t,e),20}catch(t){}return ht(t,"wx")}var vt,Pt={open:function(t){t.Dt=tt[t.node.Tt].Dt,t.Dt.open&&t.Dt.open(t)},Nt:function(){throw new ct(70)}};function mt(t,e){tt[t]={Dt:e}}function xt(t,e){var r="/"===e,n=!e;if(r&&Q)throw new ct(10);if(!r&&!n){var s=it(e,{cu:!1});if(e=s.path,(s=s.node).St)throw new ct(10);if(16384!=(61440&s.mode))throw new ct(54)}e={type:t,Eu:{},fu:e,ou:[]},(t=t.Jt(e)).Jt=e,e.root=t,r?Q=t:s&&(s.St=e,s.Jt&&s.Jt.ou.push(e))}function gt(t,e,r){var n=it(t,{parent:!0}).node;if(!(t=V(t))||"."===t||".."===t)throw new ct(28);var s=yt(n,t);if(s)throw new ct(s);if(!n.Ct.Rt)throw new ct(63);return n.Ct.Rt(n,t,e,r)}function Et(t){gt(t,16895,0)}function It(t,e,r){void 0===r&&(r=e,e=438),gt(t,8192|e,r)}function Nt(t,e){if(!j(t))throw new ct(44);var r=it(e,{parent:!0}).node;if(!r)throw new ct(44);var n=yt(r,e=V(e));if(n)throw new ct(n);if(!r.Ct.Ut)throw new ct(63);r.Ct.Ut(r,e,t)}function wt(t){if(!(t=it(t).node))throw new ct(44);if(!t.Ct.Qt)throw new ct(28);return j(ot(t.parent),t.Ct.Qt(t))}function bt(t,r,n,s){if(""===t)throw new ct(44);if("string"==typeof r){var _=dt[r];if(void 0===_)throw Error("Unknown file open mode: "+r);r=_}if(n=64&r?4095&(void 0===n?438:n)|32768:0,"object"==typeof t)var c=t;else{t=O(t);try{c=it(t,{bu:!(131072&r)}).node}catch(t){}}if(_=!1,64&r)if(c){if(128&r)throw new ct(20)}else c=gt(t,n,0),_=!0;if(!c)throw new ct(44);if(8192==(61440&c.mode)&&(r&=-513),65536&r&&16384!=(61440&c.mode))throw new ct(54);if(!_&&(n=c?40960==(61440&c.mode)?32:16384==(61440&c.mode)&&("r"!==pt(r)||512&r)?31:ht(c,pt(r)):44))throw new ct(n);if(512&r){var a;if(!(a="string"==typeof(n=c)?it(n,{bu:!0}).node:n).Ct.It)throw new ct(63);if(16384==(61440&a.mode))throw new ct(31);if(32768!=(61440&a.mode))throw new ct(28);if(n=ht(a,"w"))throw new ct(n);a.Ct.It(a,{size:0,timestamp:Date.now()})}r&=-641,(s=function(t,e){Kt||((Kt=function(){}).prototype={},Object.defineProperties(Kt.prototype,{object:{get:function(){return this.node},set:function(t){this.node=t}}}));var r,n=new Kt;for(r in t)n[r]=t[r];return t=n,e=function(t){for(t=t||0;t<=4096;t++)if(!et[t])return t;throw new ct(33)}(e),t.Kt=e,et[e]=t}({node:c,path:ot(c),flags:r,seekable:!0,position:0,Dt:c.Dt,su:[],error:!1},s)).Dt.open&&s.Dt.open(s),!e.logReadFiles||1&r||(St||(St={}),t in St||(St[t]=1,console.log("FS.trackingDelegate error on read file: "+t)));try{_t.onOpenFile&&(c=0,1!=(2097155&r)&&(c|=1),0!=(2097155&r)&&(c|=2),_t.onOpenFile(t,c))}catch(e){console.log("FS.trackingDelegate['onOpenFile']('"+t+"', flags) threw an exception: "+e.message)}return s}function At(t,e,r){if(null===t.Kt)throw new ct(8);if(!t.seekable||!t.Dt.Nt)throw new ct(70);if(0!=r&&1!=r&&2!=r)throw new ct(28);t.position=t.Dt.Nt(t,e,r),t.su=[]}function kt(){ct||((ct=function(t,e){this.node=e,this.ru=function(t){this.Mt=t},this.ru(t),this.message="FS error"}).prototype=Error(),ct.prototype.constructor=ct,[44].forEach((function(t){at[t]=new ct(t),at[t].stack="<generic error, no stack>"})))}function Ct(t,e,r){t=O("/dev/"+t);var n=function(t,e){var r=0;return t&&(r|=365),e&&(r|=146),r}(!!e,!!r);Tt||(Tt=64);var s=Tt++<<8|0;mt(s,{open:function(t){t.seekable=!1},close:function(){r&&r.buffer&&r.buffer.length&&r(10)},read:function(t,r,n,s){for(var _=0,c=0;c<s;c++){try{var a=e()}catch(t){throw new ct(29)}if(void 0===a&&0===_)throw new ct(6);if(null==a)break;_++,r[n+c]=a}return _&&(t.node.timestamp=Date.now()),_},write:function(t,e,n,s){for(var _=0;_<s;_++)try{r(e[n+_])}catch(t){throw new ct(29)}return s&&(t.node.timestamp=Date.now()),_}}),It(t,n,s)}var Tt,Ft,Kt,St,Lt={},Rt=0;function Bt(){return h[(Rt+=4)-4>>2]}function zt(t){if(void 0===t&&(t=Bt()),!(t=et[t]))throw new ct(8);return t}kt(),nt=Array(4096),xt(J,"/"),Et("/tmp"),Et("/home"),Et("/home/web_user"),function(){if(Et("/dev"),mt(259,{read:function(){return 0},write:function(t,e,r,n){return n}}),It("/dev/null",259),X(1280,Z),X(1536,$),It("/dev/tty",1280),It("/dev/tty1",1536),"object"==typeof crypto&&"function"==typeof crypto.getRandomValues)var t=new Uint8Array(1),e=function(){return crypto.getRandomValues(t),t[0]};e||(e=function(){R("random_device")}),Ct("random",e),Ct("urandom",e),Et("/dev/shm"),Et("/dev/shm/tmp")}(),Et("/proc"),Et("/proc/self"),Et("/proc/self/fd"),xt({Jt:function(){var t=ft("/proc/self","fd",16895,73);return t.Ct={Pt:function(t,e){var r=et[+e];if(!r)throw new ct(8);return(t={parent:null,Jt:{fu:"fake"},Ct:{Qt:function(){return r.path}}}).parent=t}},t}},"/proc/self/fd");var Ut={h:function(){},c:function(t,r){Rt=r;try{var n=zt();switch(Bt()){case 0:var s=Bt();return 0>s?-28:bt(n.path,n.flags,0,s).Kt;case 1:case 2:return 0;case 3:return n.flags;case 4:return s=Bt(),n.flags|=s,0;case 12:return s=Bt(),p[s+0>>1]=2,0;case 13:case 14:return 0;case 16:case 8:return-28;case 9:return e.___errno_location&&(h[e.___errno_location()>>2]=28),-1;default:return-28}}catch(t){return void 0!==Lt&&t instanceof ct||R(t),-t.Mt}},g:function(t,e){Rt=e;try{var r=Bt();return bt(r?m(d,r,void 0):"",Bt(),Bt()).Kt}catch(t){return void 0!==Lt&&t instanceof ct||R(t),-t.Mt}},l:function(t,e){Rt=e;try{var r=zt(),n=Bt();switch(n){case 21509:case 21505:return r.Ft?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return r.Ft?0:-59;case 21519:if(!r.Ft)return-59;var s=Bt();return h[s>>2]=0;case 21520:return r.Ft?-28:-59;case 21531:if(t=s=Bt(),!r.Dt.nu)throw new ct(59);return r.Dt.nu(r,n,t);case 21523:case 21524:return r.Ft?0:-59;default:R("bad ioctl syscall "+n)}}catch(t){return void 0!==Lt&&t instanceof ct||R(t),-t.Mt}},b:function(){},a:function(){R()},m:function(t,e,r){d.set(d.subarray(e,e+r),t)},n:function(t){if(2147418112<t)return!1;for(var e=Math.max(f.length,16777216);e<t;)e=536870912>=e?x(2*e):Math.min(x((3*e+2147483648)/4),2147418112);t:{try{l.grow(e-u.byteLength+65535>>16),g(l.buffer);var r=1;break t}catch(t){}r=void 0}return!!r},e:function(t){try{var e=zt(t);if(null===e.Kt)throw new ct(8);e.Wt&&(e.Wt=null);try{e.Dt.close&&e.Dt.close(e)}catch(t){throw t}finally{et[e.Kt]=null}return e.Kt=null,0}catch(t){return void 0!==Lt&&t instanceof ct||R(t),t.Mt}},k:function(t,e,r,n){try{t:{for(var s=zt(t),_=t=0;_<r;_++){var c=h[e+(8*_+4)>>2],a=s,i=h[e+8*_>>2],o=c,l=void 0,u=f;if(0>o||0>l)throw new ct(28);if(null===a.Kt)throw new ct(8);if(1==(2097155&a.flags))throw new ct(8);if(16384==(61440&a.node.mode))throw new ct(31);if(!a.Dt.read)throw new ct(28);var d=void 0!==l;if(d){if(!a.seekable)throw new ct(70)}else l=a.position;var p=a.Dt.read(a,u,i,o,l);d||(a.position+=p);var y=p;if(0>y){var v=-1;break t}if(t+=y,y<c)break}v=t}return h[n>>2]=v,0}catch(t){return void 0!==Lt&&t instanceof ct||R(t),t.Mt}},j:function(t,e,r,n,s){try{var _=zt(t);return-9007199254740992>=(t=4294967296*r+(e>>>0))||9007199254740992<=t?-61:(At(_,t,n),U=[_.position>>>0,(z=_.position,1<=+C(z)?0<z?(0|K(+F(z/4294967296),4294967295))>>>0:~~+T((z-+(~~z>>>0))/4294967296)>>>0:0)],h[s>>2]=U[0],h[s+4>>2]=U[1],_.Wt&&0===t&&0===n&&(_.Wt=null),0)}catch(t){return void 0!==Lt&&t instanceof ct||R(t),t.Mt}},i:function(t,e,r,n){try{t:{for(var s=zt(t),_=t=0;_<r;_++){var c=s,a=h[e+8*_>>2],i=h[e+(8*_+4)>>2],o=void 0,l=f;if(0>i||0>o)throw new ct(28);if(null===c.Kt)throw new ct(8);if(0==(2097155&c.flags))throw new ct(8);if(16384==(61440&c.node.mode))throw new ct(31);if(!c.Dt.write)throw new ct(28);1024&c.flags&&At(c,0,2);var u=void 0!==o;if(u){if(!c.seekable)throw new ct(70)}else o=c.position;var d=c.Dt.write(c,l,a,i,o,void 0);u||(c.position+=d);try{c.path&&_t.onWriteToFile&&_t.onWriteToFile(c.path)}catch(t){console.log("FS.trackingDelegate['onWriteToFile']('"+c.path+"') threw an exception: "+t.message)}var p=d;if(0>p){var y=-1;break t}t+=p}y=t}return h[n>>2]=y,0}catch(t){return void 0!==Lt&&t instanceof ct||R(t),t.Mt}},d:function(t){var e=Date.now();return h[t>>2]=e/1e3|0,h[t+4>>2]=e%1e3*1e3|0,0},memory:l,f:function(){},table:y},Dt=function(){function t(t){e.asm=t.exports,S--,e.monitorRunDependencies&&e.monitorRunDependencies(S),0==S&&L&&(t=L,L=null,t())}function r(e){t(e.instance)}function n(t){return(a||"function"!=typeof fetch?new Promise((function(t){t(M())})):fetch(D,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at '"+D+"'";return t.arrayBuffer()})).catch((function(){return M()}))).then((function(t){return WebAssembly.instantiate(t,s)})).then(t,(function(t){o("failed to asynchronously prepare wasm: "+t),R(t)}))}var s={env:Ut,wasi_unstable:Ut};if(S++,e.monitorRunDependencies&&e.monitorRunDependencies(S),e.instantiateWasm)try{return e.instantiateWasm(s,t)}catch(t){return o("Module.instantiateWasm callback failed with error: "+t),!1}return function(){if(a||"function"!=typeof WebAssembly.instantiateStreaming||B()||"function"!=typeof fetch)return n(r);fetch(D,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,s).then(r,(function(t){o("wasm streaming compile failed: "+t),o("falling back to ArrayBuffer instantiation"),n(r)}))}))}(),{}}();e.asm=Dt;var Yt=e.___wasm_call_ctors=function(){return e.asm.o.apply(null,arguments)};e._vscf_impl_api=function(){return e.asm.p.apply(null,arguments)},e._vscf_impl_tag=function(){return e.asm.q.apply(null,arguments)},e._vscf_impl_shallow_copy=function(){return e.asm.r.apply(null,arguments)},e._vscf_aes256_cbc_alg_id=function(){return e.asm.s.apply(null,arguments)},e._vscf_aes256_cbc_produce_alg_info=function(){return e.asm.t.apply(null,arguments)},e._vscf_aes256_cbc_restore_alg_info=function(){return e.asm.u.apply(null,arguments)},e._vscf_aes256_cbc_set_nonce=function(){return e.asm.v.apply(null,arguments)},e._vscf_aes256_cbc_encrypt=function(){return e.asm.w.apply(null,arguments)},e._vscf_aes256_cbc_start_encryption=function(){return e.asm.x.apply(null,arguments)},e._vscf_aes256_cbc_update=function(){return e.asm.y.apply(null,arguments)},e._vscf_aes256_cbc_finish=function(){return e.asm.z.apply(null,arguments)},e._vscf_aes256_cbc_encrypted_len=function(){return e.asm.A.apply(null,arguments)},e._vscf_aes256_cbc_precise_encrypted_len=function(){return e.asm.B.apply(null,arguments)},e._vscf_aes256_cbc_decrypt=function(){return e.asm.C.apply(null,arguments)},e._vscf_aes256_cbc_start_decryption=function(){return e.asm.D.apply(null,arguments)},e._vscf_aes256_cbc_decrypted_len=function(){return e.asm.E.apply(null,arguments)},e._vscf_aes256_cbc_set_key=function(){return e.asm.F.apply(null,arguments)},e._vscf_aes256_cbc_state=function(){return e.asm.G.apply(null,arguments)},e._vscf_aes256_cbc_out_len=function(){return e.asm.H.apply(null,arguments)},e._vscf_aes256_cbc_decrypted_out_len=function(){return e.asm.I.apply(null,arguments)},e._vscf_aes256_cbc_encrypted_out_len=function(){return e.asm.J.apply(null,arguments)},e._vscf_aes256_cbc_new=function(){return e.asm.K.apply(null,arguments)},e._vscf_aes256_cbc_delete=function(){return e.asm.L.apply(null,arguments)},e._vscf_aes256_cbc_shallow_copy=function(){return e.asm.M.apply(null,arguments)},e._vscf_aes256_gcm_out_len=function(){return e.asm.N.apply(null,arguments)},e._vscf_aes256_gcm_alg_id=function(){return e.asm.O.apply(null,arguments)},e._vscf_aes256_gcm_produce_alg_info=function(){return e.asm.P.apply(null,arguments)},e._vscf_aes256_gcm_restore_alg_info=function(){return e.asm.Q.apply(null,arguments)},e._vscf_aes256_gcm_set_nonce=function(){return e.asm.R.apply(null,arguments)},e._vscf_aes256_gcm_encrypt=function(){return e.asm.S.apply(null,arguments)},e._vscf_aes256_gcm_start_encryption=function(){return e.asm.T.apply(null,arguments)},e._vscf_aes256_gcm_update=function(){return e.asm.U.apply(null,arguments)},e._vscf_aes256_gcm_finish=function(){return e.asm.V.apply(null,arguments)},e._vscf_aes256_gcm_encrypted_len=function(){return e.asm.W.apply(null,arguments)},e._vscf_aes256_gcm_finish_auth_decryption=function(){return e.asm.X.apply(null,arguments)},e._vscf_aes256_gcm_finish_auth_encryption=function(){return e.asm.Y.apply(null,arguments)},e._vscf_aes256_gcm_precise_encrypted_len=function(){return e.asm.Z.apply(null,arguments)},e._vscf_aes256_gcm_decrypt=function(){return e.asm._.apply(null,arguments)},e._vscf_aes256_gcm_start_decryption=function(){return e.asm.$.apply(null,arguments)},e._vscf_aes256_gcm_decrypted_len=function(){return e.asm.aa.apply(null,arguments)},e._vscf_aes256_gcm_set_key=function(){return e.asm.ba.apply(null,arguments)},e._vscf_aes256_gcm_state=function(){return e.asm.ca.apply(null,arguments)},e._vscf_aes256_gcm_decrypted_out_len=function(){return e.asm.da.apply(null,arguments)},e._vscf_aes256_gcm_encrypted_out_len=function(){return e.asm.ea.apply(null,arguments)},e._vscf_aes256_gcm_auth_encrypt=function(){return e.asm.fa.apply(null,arguments)},e._vscf_aes256_gcm_auth_encrypted_len=function(){return e.asm.ga.apply(null,arguments)},e._vscf_aes256_gcm_set_auth_data=function(){return e.asm.ha.apply(null,arguments)},e._vscf_aes256_gcm_auth_decrypt=function(){return e.asm.ia.apply(null,arguments)},e._vscf_aes256_gcm_auth_decrypted_len=function(){return e.asm.ja.apply(null,arguments)},e._vscf_aes256_gcm_new=function(){return e.asm.ka.apply(null,arguments)},e._vscf_aes256_gcm_delete=function(){return e.asm.la.apply(null,arguments)},e._vscf_aes256_gcm_shallow_copy=function(){return e.asm.ma.apply(null,arguments)},e._vscf_alg_info_der_deserializer_setup_defaults=function(){return e.asm.na.apply(null,arguments)},e._vscf_alg_info_der_deserializer_deserialize_inplace=function(){return e.asm.oa.apply(null,arguments)},e._vscf_alg_info_der_deserializer_deserialize=function(){return e.asm.pa.apply(null,arguments)},e._vscf_alg_info_der_deserializer_release_asn1_reader=function(){return e.asm.qa.apply(null,arguments)},e._vscf_alg_info_der_deserializer_new=function(){return e.asm.ra.apply(null,arguments)},e._vscf_alg_info_der_deserializer_delete=function(){return e.asm.sa.apply(null,arguments)},e._vscf_alg_info_der_deserializer_shallow_copy=function(){return e.asm.ta.apply(null,arguments)},e._vscf_alg_info_der_deserializer_use_asn1_reader=function(){return e.asm.ua.apply(null,arguments)},e._vscf_alg_info_der_serializer_setup_defaults=function(){return e.asm.va.apply(null,arguments)},e._vscf_alg_info_der_serializer_serialize_inplace=function(){return e.asm.wa.apply(null,arguments)},e._vscf_alg_info_der_serializer_serialized_len=function(){return e.asm.xa.apply(null,arguments)},e._vscf_alg_info_der_serializer_serialize=function(){return e.asm.ya.apply(null,arguments)},e._vscf_alg_info_der_serializer_release_asn1_writer=function(){return e.asm.za.apply(null,arguments)},e._vscf_alg_info_der_serializer_new=function(){return e.asm.Aa.apply(null,arguments)},e._vscf_alg_info_der_serializer_delete=function(){return e.asm.Ba.apply(null,arguments)},e._vscf_alg_info_der_serializer_shallow_copy=function(){return e.asm.Ca.apply(null,arguments)},e._vscf_alg_info_der_serializer_use_asn1_writer=function(){return e.asm.Da.apply(null,arguments)},e._vscf_asn1rd_reset=function(){return e.asm.Ea.apply(null,arguments)},e._vscf_asn1rd_left_len=function(){return e.asm.Fa.apply(null,arguments)},e._vscf_asn1rd_has_error=function(){return e.asm.Ga.apply(null,arguments)},e._vscf_asn1rd_status=function(){return e.asm.Ha.apply(null,arguments)},e._vscf_asn1rd_get_tag=function(){return e.asm.Ia.apply(null,arguments)},e._vscf_asn1rd_get_len=function(){return e.asm.Ja.apply(null,arguments)},e._vscf_asn1rd_get_data_len=function(){return e.asm.Ka.apply(null,arguments)},e._vscf_asn1rd_read_tag=function(){return e.asm.La.apply(null,arguments)},e._vscf_asn1rd_read_context_tag=function(){return e.asm.Ma.apply(null,arguments)},e._vscf_asn1rd_read_int=function(){return e.asm.Na.apply(null,arguments)},e._vscf_asn1rd_read_int64=function(){return e.asm.Oa.apply(null,arguments)},e._vscf_asn1rd_read_int8=function(){return e.asm.Pa.apply(null,arguments)},e._vscf_asn1rd_read_int16=function(){return e.asm.Qa.apply(null,arguments)},e._vscf_asn1rd_read_int32=function(){return e.asm.Ra.apply(null,arguments)},e._vscf_asn1rd_read_uint=function(){return e.asm.Sa.apply(null,arguments)},e._vscf_asn1rd_read_uint64=function(){return e.asm.Ta.apply(null,arguments)},e._vscf_asn1rd_read_uint8=function(){return e.asm.Ua.apply(null,arguments)},e._vscf_asn1rd_read_uint16=function(){return e.asm.Va.apply(null,arguments)},e._vscf_asn1rd_read_uint32=function(){return e.asm.Wa.apply(null,arguments)},e._vscf_asn1rd_read_bool=function(){return e.asm.Xa.apply(null,arguments)},e._vscf_asn1rd_read_null=function(){return e.asm.Ya.apply(null,arguments)},e._vscf_asn1rd_read_null_optional=function(){return e.asm.Za.apply(null,arguments)},e._vscf_asn1rd_read_octet_str=function(){return e.asm._a.apply(null,arguments)},e._vscf_asn1rd_read_bitstring_as_octet_str=function(){return e.asm.$a.apply(null,arguments)},e._vscf_asn1rd_read_utf8_str=function(){return e.asm.ab.apply(null,arguments)},e._vscf_asn1rd_read_oid=function(){return e.asm.bb.apply(null,arguments)},e._vscf_asn1rd_read_data=function(){return e.asm.cb.apply(null,arguments)},e._vscf_asn1rd_read_sequence=function(){return e.asm.db.apply(null,arguments)},e._vscf_asn1rd_read_set=function(){return e.asm.eb.apply(null,arguments)},e._vscf_asn1rd_new=function(){return e.asm.fb.apply(null,arguments)},e._vscf_asn1rd_delete=function(){return e.asm.gb.apply(null,arguments)},e._vscf_asn1rd_shallow_copy=function(){return e.asm.hb.apply(null,arguments)},e._vscf_asn1wr_reset=function(){return e.asm.ib.apply(null,arguments)},e._vscf_asn1wr_finish=function(){return e.asm.jb.apply(null,arguments)},e._vscf_asn1wr_bytes=function(){return e.asm.kb.apply(null,arguments)},e._vscf_asn1wr_len=function(){return e.asm.lb.apply(null,arguments)},e._vscf_asn1wr_written_len=function(){return e.asm.mb.apply(null,arguments)},e._vscf_asn1wr_unwritten_len=function(){return e.asm.nb.apply(null,arguments)},e._vscf_asn1wr_has_error=function(){return e.asm.ob.apply(null,arguments)},e._vscf_asn1wr_status=function(){return e.asm.pb.apply(null,arguments)},e._vscf_asn1wr_reserve=function(){return e.asm.qb.apply(null,arguments)},e._vscf_asn1wr_write_tag=function(){return e.asm.rb.apply(null,arguments)},e._vscf_asn1wr_write_context_tag=function(){return e.asm.sb.apply(null,arguments)},e._vscf_asn1wr_write_len=function(){return e.asm.tb.apply(null,arguments)},e._vscf_asn1wr_write_int=function(){return e.asm.ub.apply(null,arguments)},e._vscf_asn1wr_write_int64=function(){return e.asm.vb.apply(null,arguments)},e._vscf_asn1wr_write_int8=function(){return e.asm.wb.apply(null,arguments)},e._vscf_asn1wr_write_int16=function(){return e.asm.xb.apply(null,arguments)},e._vscf_asn1wr_write_int32=function(){return e.asm.yb.apply(null,arguments)},e._vscf_asn1wr_write_uint=function(){return e.asm.zb.apply(null,arguments)},e._vscf_asn1wr_write_uint64=function(){return e.asm.Ab.apply(null,arguments)},e._vscf_asn1wr_write_uint8=function(){return e.asm.Bb.apply(null,arguments)},e._vscf_asn1wr_write_uint16=function(){return e.asm.Cb.apply(null,arguments)},e._vscf_asn1wr_write_uint32=function(){return e.asm.Db.apply(null,arguments)},e._vscf_asn1wr_write_bool=function(){return e.asm.Eb.apply(null,arguments)},e._vscf_asn1wr_write_null=function(){return e.asm.Fb.apply(null,arguments)},e._vscf_asn1wr_write_octet_str=function(){return e.asm.Gb.apply(null,arguments)},e._vscf_asn1wr_write_octet_str_as_bitstring=function(){return e.asm.Hb.apply(null,arguments)},e._vscf_asn1wr_write_data=function(){return e.asm.Ib.apply(null,arguments)},e._vscf_asn1wr_write_utf8_str=function(){return e.asm.Jb.apply(null,arguments)},e._vscf_asn1wr_write_oid=function(){return e.asm.Kb.apply(null,arguments)},e._vscf_asn1wr_write_sequence=function(){return e.asm.Lb.apply(null,arguments)},e._vscf_asn1wr_write_set=function(){return e.asm.Mb.apply(null,arguments)},e._vscf_asn1wr_new=function(){return e.asm.Nb.apply(null,arguments)},e._vscf_asn1wr_delete=function(){return e.asm.Ob.apply(null,arguments)},e._vscf_asn1wr_shallow_copy=function(){return e.asm.Pb.apply(null,arguments)},e._vscf_cipher_alg_info_nonce=function(){return e.asm.Qb.apply(null,arguments)},e._vscf_cipher_alg_info_alg_id=function(){return e.asm.Rb.apply(null,arguments)},e._vscf_cipher_alg_info_new=function(){return e.asm.Sb.apply(null,arguments)},e._vscf_cipher_alg_info_delete=function(){return e.asm.Tb.apply(null,arguments)},e._vscf_cipher_alg_info_shallow_copy=function(){return e.asm.Ub.apply(null,arguments)},e._vscf_cipher_alg_info_new_with_members=function(){return e.asm.Vb.apply(null,arguments)},e._vscf_compound_key_alg_setup_defaults=function(){return e.asm.Wb.apply(null,arguments)},e._vscf_compound_key_alg_make_key=function(){return e.asm.Xb.apply(null,arguments)},e._vscf_compound_key_alg_alg_id=function(){return e.asm.Yb.apply(null,arguments)},e._vscf_compound_key_alg_produce_alg_info=function(){return e.asm.Zb.apply(null,arguments)},e._vscf_compound_key_alg_restore_alg_info=function(){return e.asm._b.apply(null,arguments)},e._vscf_compound_key_alg_generate_ephemeral_key=function(){return e.asm.$b.apply(null,arguments)},e._vscf_compound_key_alg_import_public_key=function(){return e.asm.ac.apply(null,arguments)},e._vscf_compound_key_alg_import_public_key_data=function(){return e.asm.bc.apply(null,arguments)},e._vscf_compound_key_alg_export_public_key=function(){return e.asm.cc.apply(null,arguments)},e._vscf_compound_key_alg_exported_public_key_data_len=function(){return e.asm.dc.apply(null,arguments)},e._vscf_compound_key_alg_export_public_key_data=function(){return e.asm.ec.apply(null,arguments)},e._vscf_compound_key_alg_import_private_key=function(){return e.asm.fc.apply(null,arguments)},e._vscf_compound_key_alg_import_private_key_data=function(){return e.asm.gc.apply(null,arguments)},e._vscf_compound_key_alg_export_private_key=function(){return e.asm.hc.apply(null,arguments)},e._vscf_compound_key_alg_exported_private_key_data_len=function(){return e.asm.ic.apply(null,arguments)},e._vscf_compound_key_alg_export_private_key_data=function(){return e.asm.jc.apply(null,arguments)},e._vscf_compound_key_alg_can_encrypt=function(){return e.asm.kc.apply(null,arguments)},e._vscf_compound_key_alg_encrypted_len=function(){return e.asm.lc.apply(null,arguments)},e._vscf_compound_key_alg_encrypt=function(){return e.asm.mc.apply(null,arguments)},e._vscf_compound_key_alg_can_decrypt=function(){return e.asm.nc.apply(null,arguments)},e._vscf_compound_key_alg_decrypted_len=function(){return e.asm.oc.apply(null,arguments)},e._vscf_compound_key_alg_decrypt=function(){return e.asm.pc.apply(null,arguments)},e._vscf_compound_key_alg_can_sign=function(){return e.asm.qc.apply(null,arguments)},e._vscf_compound_key_alg_signature_len=function(){return e.asm.rc.apply(null,arguments)},e._vscf_compound_key_alg_sign_hash=function(){return e.asm.sc.apply(null,arguments)},e._vscf_compound_key_alg_can_verify=function(){return e.asm.tc.apply(null,arguments)},e._vscf_compound_key_alg_verify_hash=function(){return e.asm.uc.apply(null,arguments)},e._vscf_compound_key_alg_release_random=function(){return e.asm.vc.apply(null,arguments)},e._vscf_compound_key_alg_new=function(){return e.asm.wc.apply(null,arguments)},e._vscf_compound_key_alg_delete=function(){return e.asm.xc.apply(null,arguments)},e._vscf_compound_key_alg_shallow_copy=function(){return e.asm.yc.apply(null,arguments)},e._vscf_compound_key_alg_use_random=function(){return e.asm.zc.apply(null,arguments)},e._vscf_compound_key_alg_info_cipher_alg_info=function(){return e.asm.Ac.apply(null,arguments)},e._vscf_compound_key_alg_info_signer_alg_info=function(){return e.asm.Bc.apply(null,arguments)},e._vscf_compound_key_alg_info_alg_id=function(){return e.asm.Cc.apply(null,arguments)},e._vscf_compound_key_alg_info_new=function(){return e.asm.Dc.apply(null,arguments)},e._vscf_compound_key_alg_info_delete=function(){return e.asm.Ec.apply(null,arguments)},e._vscf_compound_key_alg_info_shallow_copy=function(){return e.asm.Fc.apply(null,arguments)},e._vscf_compound_private_key_cipher_key=function(){return e.asm.Gc.apply(null,arguments)},e._vscf_compound_private_key_signer_key=function(){return e.asm.Hc.apply(null,arguments)},e._vscf_compound_private_key_alg_id=function(){return e.asm.Ic.apply(null,arguments)},e._vscf_compound_private_key_alg_info=function(){return e.asm.Jc.apply(null,arguments)},e._vscf_compound_private_key_len=function(){return e.asm.Kc.apply(null,arguments)},e._vscf_compound_private_key_bitlen=function(){return e.asm.Lc.apply(null,arguments)},e._vscf_compound_private_key_impl_tag=function(){return e.asm.Mc.apply(null,arguments)},e._vscf_compound_private_key_is_valid=function(){return e.asm.Nc.apply(null,arguments)},e._vscf_compound_private_key_extract_public_key=function(){return e.asm.Oc.apply(null,arguments)},e._vscf_compound_private_key_new=function(){return e.asm.Pc.apply(null,arguments)},e._vscf_compound_private_key_delete=function(){return e.asm.Qc.apply(null,arguments)},e._vscf_compound_private_key_shallow_copy=function(){return e.asm.Rc.apply(null,arguments)},e._vscf_compound_public_key_cipher_key=function(){return e.asm.Sc.apply(null,arguments)},e._vscf_compound_public_key_signer_key=function(){return e.asm.Tc.apply(null,arguments)},e._vscf_compound_public_key_alg_id=function(){return e.asm.Uc.apply(null,arguments)},e._vscf_compound_public_key_alg_info=function(){return e.asm.Vc.apply(null,arguments)},e._vscf_compound_public_key_len=function(){return e.asm.Wc.apply(null,arguments)},e._vscf_compound_public_key_bitlen=function(){return e.asm.Xc.apply(null,arguments)},e._vscf_compound_public_key_impl_tag=function(){return e.asm.Yc.apply(null,arguments)},e._vscf_compound_public_key_is_valid=function(){return e.asm.Zc.apply(null,arguments)},e._vscf_compound_public_key_new=function(){return e.asm._c.apply(null,arguments)},e._vscf_compound_public_key_delete=function(){return e.asm.$c.apply(null,arguments)},e._vscf_compound_public_key_shallow_copy=function(){return e.asm.ad.apply(null,arguments)},e._vscf_ctr_drbg_setup_defaults=function(){return e.asm.bd.apply(null,arguments)},e._vscf_ctr_drbg_enable_prediction_resistance=function(){return e.asm.cd.apply(null,arguments)},e._vscf_ctr_drbg_set_reseed_interval=function(){return e.asm.dd.apply(null,arguments)},e._vscf_ctr_drbg_set_entropy_len=function(){return e.asm.ed.apply(null,arguments)},e._vscf_ctr_drbg_random=function(){return e.asm.fd.apply(null,arguments)},e._vscf_ctr_drbg_reseed=function(){return e.asm.gd.apply(null,arguments)},e._vscf_ctr_drbg_release_entropy_source=function(){return e.asm.hd.apply(null,arguments)},e._vscf_ctr_drbg_new=function(){return e.asm.id.apply(null,arguments)},e._vscf_ctr_drbg_delete=function(){return e.asm.jd.apply(null,arguments)},e._vscf_ctr_drbg_shallow_copy=function(){return e.asm.kd.apply(null,arguments)},e._vscf_ctr_drbg_use_entropy_source=function(){return e.asm.ld.apply(null,arguments)},e._vscf_curve25519_setup_defaults=function(){return e.asm.md.apply(null,arguments)},e._vscf_curve25519_generate_key=function(){return e.asm.nd.apply(null,arguments)},e._vscf_curve25519_generate_ephemeral_key=function(){return e.asm.od.apply(null,arguments)},e._vscf_curve25519_import_public_key=function(){return e.asm.pd.apply(null,arguments)},e._vscf_curve25519_import_public_key_data=function(){return e.asm.qd.apply(null,arguments)},e._vscf_curve25519_export_public_key=function(){return e.asm.rd.apply(null,arguments)},e._vscf_curve25519_exported_public_key_data_len=function(){return e.asm.sd.apply(null,arguments)},e._vscf_curve25519_export_public_key_data=function(){return e.asm.td.apply(null,arguments)},e._vscf_curve25519_import_private_key=function(){return e.asm.ud.apply(null,arguments)},e._vscf_curve25519_import_private_key_data=function(){return e.asm.vd.apply(null,arguments)},e._vscf_curve25519_export_private_key=function(){return e.asm.wd.apply(null,arguments)},e._vscf_curve25519_exported_private_key_data_len=function(){return e.asm.xd.apply(null,arguments)},e._vscf_curve25519_export_private_key_data=function(){return e.asm.yd.apply(null,arguments)},e._vscf_curve25519_can_encrypt=function(){return e.asm.zd.apply(null,arguments)},e._vscf_curve25519_encrypted_len=function(){return e.asm.Ad.apply(null,arguments)},e._vscf_curve25519_encrypt=function(){return e.asm.Bd.apply(null,arguments)},e._vscf_curve25519_can_decrypt=function(){return e.asm.Cd.apply(null,arguments)},e._vscf_curve25519_decrypted_len=function(){return e.asm.Dd.apply(null,arguments)},e._vscf_curve25519_decrypt=function(){return e.asm.Ed.apply(null,arguments)},e._vscf_curve25519_compute_shared_key=function(){return e.asm.Fd.apply(null,arguments)},e._vscf_curve25519_shared_key_len=function(){return e.asm.Gd.apply(null,arguments)},e._vscf_curve25519_kem_shared_key_len=function(){return e.asm.Hd.apply(null,arguments)},e._vscf_curve25519_kem_encapsulated_key_len=function(){return e.asm.Id.apply(null,arguments)},e._vscf_curve25519_kem_encapsulate=function(){return e.asm.Jd.apply(null,arguments)},e._vscf_curve25519_kem_decapsulate=function(){return e.asm.Kd.apply(null,arguments)},e._vscf_curve25519_release_random=function(){return e.asm.Ld.apply(null,arguments)},e._vscf_curve25519_release_ecies=function(){return e.asm.Md.apply(null,arguments)},e._vscf_curve25519_new=function(){return e.asm.Nd.apply(null,arguments)},e._vscf_curve25519_delete=function(){return e.asm.Od.apply(null,arguments)},e._vscf_curve25519_shallow_copy=function(){return e.asm.Pd.apply(null,arguments)},e._vscf_curve25519_use_random=function(){return e.asm.Qd.apply(null,arguments)},e._vscf_curve25519_use_ecies=function(){return e.asm.Rd.apply(null,arguments)},e._vscf_ecc_setup_defaults=function(){return e.asm.Sd.apply(null,arguments)},e._vscf_ecc_generate_key=function(){return e.asm.Td.apply(null,arguments)},e._vscf_ecc_generate_ephemeral_key=function(){return e.asm.Ud.apply(null,arguments)},e._vscf_ecc_import_public_key=function(){return e.asm.Vd.apply(null,arguments)},e._vscf_ecc_import_public_key_data=function(){return e.asm.Wd.apply(null,arguments)},e._vscf_ecc_export_public_key=function(){return e.asm.Xd.apply(null,arguments)},e._vscf_ecc_exported_public_key_data_len=function(){return e.asm.Yd.apply(null,arguments)},e._vscf_ecc_export_public_key_data=function(){return e.asm.Zd.apply(null,arguments)},e._vscf_ecc_import_private_key=function(){return e.asm._d.apply(null,arguments)},e._vscf_ecc_import_private_key_data=function(){return e.asm.$d.apply(null,arguments)},e._vscf_ecc_export_private_key=function(){return e.asm.ae.apply(null,arguments)},e._vscf_ecc_exported_private_key_data_len=function(){return e.asm.be.apply(null,arguments)},e._vscf_ecc_export_private_key_data=function(){return e.asm.ce.apply(null,arguments)},e._vscf_ecc_can_encrypt=function(){return e.asm.de.apply(null,arguments)},e._vscf_ecc_encrypted_len=function(){return e.asm.ee.apply(null,arguments)},e._vscf_ecc_encrypt=function(){return e.asm.fe.apply(null,arguments)},e._vscf_ecc_can_decrypt=function(){return e.asm.ge.apply(null,arguments)},e._vscf_ecc_decrypted_len=function(){return e.asm.he.apply(null,arguments)},e._vscf_ecc_decrypt=function(){return e.asm.ie.apply(null,arguments)},e._vscf_ecc_can_sign=function(){return e.asm.je.apply(null,arguments)},e._vscf_ecc_signature_len=function(){return e.asm.ke.apply(null,arguments)},e._vscf_ecc_sign_hash=function(){return e.asm.le.apply(null,arguments)},e._vscf_ecc_can_verify=function(){return e.asm.me.apply(null,arguments)},e._vscf_ecc_verify_hash=function(){return e.asm.ne.apply(null,arguments)},e._vscf_ecc_compute_shared_key=function(){return e.asm.oe.apply(null,arguments)},e._vscf_ecc_shared_key_len=function(){return e.asm.pe.apply(null,arguments)},e._vscf_ecc_kem_shared_key_len=function(){return e.asm.qe.apply(null,arguments)},e._vscf_ecc_kem_encapsulated_key_len=function(){return e.asm.re.apply(null,arguments)},e._vscf_ecc_kem_encapsulate=function(){return e.asm.se.apply(null,arguments)},e._vscf_ecc_kem_decapsulate=function(){return e.asm.te.apply(null,arguments)},e._vscf_ecc_release_random=function(){return e.asm.ue.apply(null,arguments)},e._vscf_ecc_release_ecies=function(){return e.asm.ve.apply(null,arguments)},e._vscf_ecc_new=function(){return e.asm.we.apply(null,arguments)},e._vscf_ecc_delete=function(){return e.asm.xe.apply(null,arguments)},e._vscf_ecc_shallow_copy=function(){return e.asm.ye.apply(null,arguments)},e._vscf_ecc_use_random=function(){return e.asm.ze.apply(null,arguments)},e._vscf_ecc_use_ecies=function(){return e.asm.Ae.apply(null,arguments)},e._vscf_ecc_alg_info_key_id=function(){return e.asm.Be.apply(null,arguments)},e._vscf_ecc_alg_info_domain_id=function(){return e.asm.Ce.apply(null,arguments)},e._vscf_ecc_alg_info_alg_id=function(){return e.asm.De.apply(null,arguments)},e._vscf_ecc_alg_info_new=function(){return e.asm.Ee.apply(null,arguments)},e._vscf_ecc_alg_info_delete=function(){return e.asm.Fe.apply(null,arguments)},e._vscf_ecc_alg_info_shallow_copy=function(){return e.asm.Ge.apply(null,arguments)},e._vscf_ecc_alg_info_new_with_members=function(){return e.asm.He.apply(null,arguments)},e._vscf_ecc_private_key_alg_id=function(){return e.asm.Ie.apply(null,arguments)},e._vscf_ecc_private_key_alg_info=function(){return e.asm.Je.apply(null,arguments)},e._vscf_ecc_private_key_len=function(){return e.asm.Ke.apply(null,arguments)},e._vscf_ecc_private_key_bitlen=function(){return e.asm.Le.apply(null,arguments)},e._vscf_ecc_private_key_impl_tag=function(){return e.asm.Me.apply(null,arguments)},e._vscf_ecc_private_key_is_valid=function(){return e.asm.Ne.apply(null,arguments)},e._vscf_ecc_private_key_extract_public_key=function(){return e.asm.Oe.apply(null,arguments)},e._vscf_ecc_private_key_new=function(){return e.asm.Pe.apply(null,arguments)},e._vscf_ecc_private_key_delete=function(){return e.asm.Qe.apply(null,arguments)},e._vscf_ecc_private_key_shallow_copy=function(){return e.asm.Re.apply(null,arguments)},e._vscf_ecc_public_key_alg_id=function(){return e.asm.Se.apply(null,arguments)},e._vscf_ecc_public_key_alg_info=function(){return e.asm.Te.apply(null,arguments)},e._vscf_ecc_public_key_len=function(){return e.asm.Ue.apply(null,arguments)},e._vscf_ecc_public_key_bitlen=function(){return e.asm.Ve.apply(null,arguments)},e._vscf_ecc_public_key_impl_tag=function(){return e.asm.We.apply(null,arguments)},e._vscf_ecc_public_key_is_valid=function(){return e.asm.Xe.apply(null,arguments)},e._vscf_ecc_public_key_new=function(){return e.asm.Ye.apply(null,arguments)},e._vscf_ecc_public_key_delete=function(){return e.asm.Ze.apply(null,arguments)},e._vscf_ecc_public_key_shallow_copy=function(){return e.asm._e.apply(null,arguments)},e._vscf_ed25519_setup_defaults=function(){return e.asm.$e.apply(null,arguments)},e._vscf_ed25519_generate_key=function(){return e.asm.af.apply(null,arguments)},e._vscf_ed25519_generate_ephemeral_key=function(){return e.asm.bf.apply(null,arguments)},e._vscf_ed25519_import_public_key=function(){return e.asm.cf.apply(null,arguments)},e._vscf_ed25519_import_public_key_data=function(){return e.asm.df.apply(null,arguments)},e._vscf_ed25519_export_public_key=function(){return e.asm.ef.apply(null,arguments)},e._vscf_ed25519_exported_public_key_data_len=function(){return e.asm.ff.apply(null,arguments)},e._vscf_ed25519_export_public_key_data=function(){return e.asm.gf.apply(null,arguments)},e._vscf_ed25519_import_private_key=function(){return e.asm.hf.apply(null,arguments)},e._vscf_ed25519_import_private_key_data=function(){return e.asm.jf.apply(null,arguments)},e._vscf_ed25519_export_private_key=function(){return e.asm.kf.apply(null,arguments)},e._vscf_ed25519_exported_private_key_data_len=function(){return e.asm.lf.apply(null,arguments)},e._vscf_ed25519_export_private_key_data=function(){return e.asm.mf.apply(null,arguments)},e._vscf_ed25519_can_encrypt=function(){return e.asm.nf.apply(null,arguments)},e._vscf_ed25519_encrypted_len=function(){return e.asm.of.apply(null,arguments)},e._vscf_ed25519_encrypt=function(){return e.asm.pf.apply(null,arguments)},e._vscf_ed25519_can_decrypt=function(){return e.asm.qf.apply(null,arguments)},e._vscf_ed25519_decrypted_len=function(){return e.asm.rf.apply(null,arguments)},e._vscf_ed25519_decrypt=function(){return e.asm.sf.apply(null,arguments)},e._vscf_ed25519_can_sign=function(){return e.asm.tf.apply(null,arguments)},e._vscf_ed25519_signature_len=function(){return e.asm.uf.apply(null,arguments)},e._vscf_ed25519_sign_hash=function(){return e.asm.vf.apply(null,arguments)},e._vscf_ed25519_can_verify=function(){return e.asm.wf.apply(null,arguments)},e._vscf_ed25519_verify_hash=function(){return e.asm.xf.apply(null,arguments)},e._vscf_ed25519_compute_shared_key=function(){return e.asm.yf.apply(null,arguments)},e._vscf_ed25519_shared_key_len=function(){return e.asm.zf.apply(null,arguments)},e._vscf_ed25519_kem_shared_key_len=function(){return e.asm.Af.apply(null,arguments)},e._vscf_ed25519_kem_encapsulated_key_len=function(){return e.asm.Bf.apply(null,arguments)},e._vscf_ed25519_kem_encapsulate=function(){return e.asm.Cf.apply(null,arguments)},e._vscf_ed25519_kem_decapsulate=function(){return e.asm.Df.apply(null,arguments)},e._vscf_ed25519_release_random=function(){return e.asm.Ef.apply(null,arguments)},e._vscf_ed25519_release_ecies=function(){return e.asm.Ff.apply(null,arguments)},e._vscf_ed25519_new=function(){return e.asm.Gf.apply(null,arguments)},e._vscf_ed25519_delete=function(){return e.asm.Hf.apply(null,arguments)},e._vscf_ed25519_shallow_copy=function(){return e.asm.If.apply(null,arguments)},e._vscf_ed25519_use_random=function(){return e.asm.Jf.apply(null,arguments)},e._vscf_ed25519_use_ecies=function(){return e.asm.Kf.apply(null,arguments)},e._vscf_entropy_accumulator_setup_defaults=function(){return e.asm.Lf.apply(null,arguments)},e._vscf_entropy_accumulator_add_source=function(){return e.asm.Mf.apply(null,arguments)},e._vscf_entropy_accumulator_is_strong=function(){return e.asm.Nf.apply(null,arguments)},e._vscf_entropy_accumulator_gather=function(){return e.asm.Of.apply(null,arguments)},e._vscf_entropy_accumulator_new=function(){return e.asm.Pf.apply(null,arguments)},e._vscf_entropy_accumulator_delete=function(){return e.asm.Qf.apply(null,arguments)},e._vscf_entropy_accumulator_shallow_copy=function(){return e.asm.Rf.apply(null,arguments)},e._vscf_fake_random_setup_source_byte=function(){return e.asm.Sf.apply(null,arguments)},e._vscf_fake_random_setup_source_data=function(){return e.asm.Tf.apply(null,arguments)},e._vscf_fake_random_random=function(){return e.asm.Uf.apply(null,arguments)},e._vscf_fake_random_reseed=function(){return e.asm.Vf.apply(null,arguments)},e._vscf_fake_random_is_strong=function(){return e.asm.Wf.apply(null,arguments)},e._vscf_fake_random_gather=function(){return e.asm.Xf.apply(null,arguments)},e._vscf_fake_random_new=function(){return e.asm.Yf.apply(null,arguments)},e._vscf_fake_random_delete=function(){return e.asm.Zf.apply(null,arguments)},e._vscf_fake_random_shallow_copy=function(){return e.asm._f.apply(null,arguments)},e._vscf_falcon_setup_defaults=function(){return e.asm.$f.apply(null,arguments)},e._vscf_falcon_generate_key=function(){return e.asm.ag.apply(null,arguments)},e._vscf_falcon_produce_alg_info=function(){return e.asm.bg.apply(null,arguments)},e._vscf_falcon_alg_id=function(){return e.asm.cg.apply(null,arguments)},e._vscf_falcon_restore_alg_info=function(){return e.asm.dg.apply(null,arguments)},e._vscf_falcon_generate_ephemeral_key=function(){return e.asm.eg.apply(null,arguments)},e._vscf_falcon_import_public_key=function(){return e.asm.fg.apply(null,arguments)},e._vscf_falcon_import_public_key_data=function(){return e.asm.gg.apply(null,arguments)},e._vscf_falcon_export_public_key=function(){return e.asm.hg.apply(null,arguments)},e._vscf_falcon_exported_public_key_data_len=function(){return e.asm.ig.apply(null,arguments)},e._vscf_falcon_export_public_key_data=function(){return e.asm.jg.apply(null,arguments)},e._vscf_falcon_import_private_key=function(){return e.asm.kg.apply(null,arguments)},e._vscf_falcon_import_private_key_data=function(){return e.asm.lg.apply(null,arguments)},e._vscf_falcon_export_private_key=function(){return e.asm.mg.apply(null,arguments)},e._vscf_falcon_exported_private_key_data_len=function(){return e.asm.ng.apply(null,arguments)},e._vscf_falcon_export_private_key_data=function(){return e.asm.og.apply(null,arguments)},e._vscf_falcon_can_sign=function(){return e.asm.pg.apply(null,arguments)},e._vscf_falcon_signature_len=function(){return e.asm.qg.apply(null,arguments)},e._vscf_falcon_sign_hash=function(){return e.asm.rg.apply(null,arguments)},e._vscf_falcon_can_verify=function(){return e.asm.sg.apply(null,arguments)},e._vscf_falcon_verify_hash=function(){return e.asm.tg.apply(null,arguments)},e._vscf_falcon_release_random=function(){return e.asm.ug.apply(null,arguments)},e._vscf_falcon_new=function(){return e.asm.vg.apply(null,arguments)},e._vscf_falcon_delete=function(){return e.asm.wg.apply(null,arguments)},e._vscf_falcon_shallow_copy=function(){return e.asm.xg.apply(null,arguments)},e._vscf_falcon_use_random=function(){return e.asm.yg.apply(null,arguments)},e._vscf_hash_based_alg_info_hash_alg_info=function(){return e.asm.zg.apply(null,arguments)},e._vscf_hash_based_alg_info_alg_id=function(){return e.asm.Ag.apply(null,arguments)},e._vscf_hash_based_alg_info_new=function(){return e.asm.Bg.apply(null,arguments)},e._vscf_hash_based_alg_info_delete=function(){return e.asm.Cg.apply(null,arguments)},e._vscf_hash_based_alg_info_shallow_copy=function(){return e.asm.Dg.apply(null,arguments)},e._vscf_hkdf_alg_id=function(){return e.asm.Eg.apply(null,arguments)},e._vscf_hkdf_produce_alg_info=function(){return e.asm.Fg.apply(null,arguments)},e._vscf_hkdf_restore_alg_info=function(){return e.asm.Gg.apply(null,arguments)},e._vscf_hkdf_derive=function(){return e.asm.Hg.apply(null,arguments)},e._vscf_hkdf_reset=function(){return e.asm.Ig.apply(null,arguments)},e._vscf_hkdf_set_info=function(){return e.asm.Jg.apply(null,arguments)},e._vscf_hkdf_release_hash=function(){return e.asm.Kg.apply(null,arguments)},e._vscf_hkdf_new=function(){return e.asm.Lg.apply(null,arguments)},e._vscf_hkdf_delete=function(){return e.asm.Mg.apply(null,arguments)},e._vscf_hkdf_shallow_copy=function(){return e.asm.Ng.apply(null,arguments)},e._vscf_hkdf_use_hash=function(){return e.asm.Og.apply(null,arguments)},e._vscf_hmac_alg_id=function(){return e.asm.Pg.apply(null,arguments)},e._vscf_hmac_produce_alg_info=function(){return e.asm.Qg.apply(null,arguments)},e._vscf_hmac_restore_alg_info=function(){return e.asm.Rg.apply(null,arguments)},e._vscf_hmac_digest_len=function(){return e.asm.Sg.apply(null,arguments)},e._vscf_hmac_mac=function(){return e.asm.Tg.apply(null,arguments)},e._vscf_hmac_start=function(){return e.asm.Ug.apply(null,arguments)},e._vscf_hmac_finish=function(){return e.asm.Vg.apply(null,arguments)},e._vscf_hmac_update=function(){return e.asm.Wg.apply(null,arguments)},e._vscf_hmac_reset=function(){return e.asm.Xg.apply(null,arguments)},e._vscf_hmac_release_hash=function(){return e.asm.Yg.apply(null,arguments)},e._vscf_hmac_new=function(){return e.asm.Zg.apply(null,arguments)},e._vscf_hmac_delete=function(){return e.asm._g.apply(null,arguments)},e._vscf_hmac_shallow_copy=function(){return e.asm.$g.apply(null,arguments)},e._vscf_hmac_use_hash=function(){return e.asm.ah.apply(null,arguments)},e._vscf_hybrid_key_alg_setup_defaults=function(){return e.asm.bh.apply(null,arguments)},e._vscf_hybrid_key_alg_make_key=function(){return e.asm.ch.apply(null,arguments)},e._vscf_hybrid_key_alg_generate_ephemeral_key=function(){return e.asm.dh.apply(null,arguments)},e._vscf_hybrid_key_alg_import_public_key=function(){return e.asm.eh.apply(null,arguments)},e._vscf_hybrid_key_alg_import_public_key_data=function(){return e.asm.fh.apply(null,arguments)},e._vscf_hybrid_key_alg_export_public_key=function(){return e.asm.gh.apply(null,arguments)},e._vscf_hybrid_key_alg_exported_public_key_data_len=function(){return e.asm.hh.apply(null,arguments)},e._vscf_hybrid_key_alg_export_public_key_data=function(){return e.asm.ih.apply(null,arguments)},e._vscf_hybrid_key_alg_import_private_key=function(){return e.asm.jh.apply(null,arguments)},e._vscf_hybrid_key_alg_import_private_key_data=function(){return e.asm.kh.apply(null,arguments)},e._vscf_hybrid_key_alg_export_private_key=function(){return e.asm.lh.apply(null,arguments)},e._vscf_hybrid_key_alg_exported_private_key_data_len=function(){return e.asm.mh.apply(null,arguments)},e._vscf_hybrid_key_alg_export_private_key_data=function(){return e.asm.nh.apply(null,arguments)},e._vscf_hybrid_key_alg_can_encrypt=function(){return e.asm.oh.apply(null,arguments)},e._vscf_hybrid_key_alg_encrypted_len=function(){return e.asm.ph.apply(null,arguments)},e._vscf_hybrid_key_alg_encrypt=function(){return e.asm.qh.apply(null,arguments)},e._vscf_hybrid_key_alg_can_decrypt=function(){return e.asm.rh.apply(null,arguments)},e._vscf_hybrid_key_alg_decrypted_len=function(){return e.asm.sh.apply(null,arguments)},e._vscf_hybrid_key_alg_decrypt=function(){return e.asm.th.apply(null,arguments)},e._vscf_hybrid_key_alg_can_sign=function(){return e.asm.uh.apply(null,arguments)},e._vscf_hybrid_key_alg_signature_len=function(){return e.asm.vh.apply(null,arguments)},e._vscf_hybrid_key_alg_sign_hash=function(){return e.asm.wh.apply(null,arguments)},e._vscf_hybrid_key_alg_can_verify=function(){return e.asm.xh.apply(null,arguments)},e._vscf_hybrid_key_alg_verify_hash=function(){return e.asm.yh.apply(null,arguments)},e._vscf_hybrid_key_alg_release_random=function(){return e.asm.zh.apply(null,arguments)},e._vscf_hybrid_key_alg_release_cipher=function(){return e.asm.Ah.apply(null,arguments)},e._vscf_hybrid_key_alg_release_hash=function(){return e.asm.Bh.apply(null,arguments)},e._vscf_hybrid_key_alg_new=function(){return e.asm.Ch.apply(null,arguments)},e._vscf_hybrid_key_alg_delete=function(){return e.asm.Dh.apply(null,arguments)},e._vscf_hybrid_key_alg_shallow_copy=function(){return e.asm.Eh.apply(null,arguments)},e._vscf_hybrid_key_alg_use_random=function(){return e.asm.Fh.apply(null,arguments)},e._vscf_hybrid_key_alg_use_cipher=function(){return e.asm.Gh.apply(null,arguments)},e._vscf_hybrid_key_alg_use_hash=function(){return e.asm.Hh.apply(null,arguments)},e._vscf_hybrid_key_alg_info_first_key_alg_info=function(){return e.asm.Ih.apply(null,arguments)},e._vscf_hybrid_key_alg_info_second_key_alg_info=function(){return e.asm.Jh.apply(null,arguments)},e._vscf_hybrid_key_alg_info_alg_id=function(){return e.asm.Kh.apply(null,arguments)},e._vscf_hybrid_key_alg_info_new=function(){return e.asm.Lh.apply(null,arguments)},e._vscf_hybrid_key_alg_info_delete=function(){return e.asm.Mh.apply(null,arguments)},e._vscf_hybrid_key_alg_info_shallow_copy=function(){return e.asm.Nh.apply(null,arguments)},e._vscf_hybrid_private_key_first_key=function(){return e.asm.Oh.apply(null,arguments)},e._vscf_hybrid_private_key_second_key=function(){return e.asm.Ph.apply(null,arguments)},e._vscf_hybrid_private_key_alg_id=function(){return e.asm.Qh.apply(null,arguments)},e._vscf_hybrid_private_key_alg_info=function(){return e.asm.Rh.apply(null,arguments)},e._vscf_hybrid_private_key_len=function(){return e.asm.Sh.apply(null,arguments)},e._vscf_hybrid_private_key_bitlen=function(){return e.asm.Th.apply(null,arguments)},e._vscf_hybrid_private_key_impl_tag=function(){return e.asm.Uh.apply(null,arguments)},e._vscf_hybrid_private_key_is_valid=function(){return e.asm.Vh.apply(null,arguments)},e._vscf_hybrid_private_key_extract_public_key=function(){return e.asm.Wh.apply(null,arguments)},e._vscf_hybrid_private_key_new=function(){return e.asm.Xh.apply(null,arguments)},e._vscf_hybrid_private_key_delete=function(){return e.asm.Yh.apply(null,arguments)},e._vscf_hybrid_private_key_shallow_copy=function(){return e.asm.Zh.apply(null,arguments)},e._vscf_hybrid_public_key_first_key=function(){return e.asm._h.apply(null,arguments)},e._vscf_hybrid_public_key_second_key=function(){return e.asm.$h.apply(null,arguments)},e._vscf_hybrid_public_key_alg_id=function(){return e.asm.ai.apply(null,arguments)},e._vscf_hybrid_public_key_alg_info=function(){return e.asm.bi.apply(null,arguments)},e._vscf_hybrid_public_key_len=function(){return e.asm.ci.apply(null,arguments)},e._vscf_hybrid_public_key_bitlen=function(){return e.asm.di.apply(null,arguments)},e._vscf_hybrid_public_key_impl_tag=function(){return e.asm.ei.apply(null,arguments)},e._vscf_hybrid_public_key_is_valid=function(){return e.asm.fi.apply(null,arguments)},e._vscf_hybrid_public_key_new=function(){return e.asm.gi.apply(null,arguments)},e._vscf_hybrid_public_key_delete=function(){return e.asm.hi.apply(null,arguments)},e._vscf_hybrid_public_key_shallow_copy=function(){return e.asm.ii.apply(null,arguments)},e._vscf_kdf1_alg_id=function(){return e.asm.ji.apply(null,arguments)},e._vscf_kdf1_produce_alg_info=function(){return e.asm.ki.apply(null,arguments)},e._vscf_kdf1_restore_alg_info=function(){return e.asm.li.apply(null,arguments)},e._vscf_kdf1_derive=function(){return e.asm.mi.apply(null,arguments)},e._vscf_kdf1_release_hash=function(){return e.asm.ni.apply(null,arguments)},e._vscf_kdf1_new=function(){return e.asm.oi.apply(null,arguments)},e._vscf_kdf1_delete=function(){return e.asm.pi.apply(null,arguments)},e._vscf_kdf1_shallow_copy=function(){return e.asm.qi.apply(null,arguments)},e._vscf_kdf1_use_hash=function(){return e.asm.ri.apply(null,arguments)},e._vscf_kdf2_alg_id=function(){return e.asm.si.apply(null,arguments)},e._vscf_kdf2_produce_alg_info=function(){return e.asm.ti.apply(null,arguments)},e._vscf_kdf2_restore_alg_info=function(){return e.asm.ui.apply(null,arguments)},e._vscf_kdf2_derive=function(){return e.asm.vi.apply(null,arguments)},e._vscf_kdf2_release_hash=function(){return e.asm.wi.apply(null,arguments)},e._vscf_kdf2_new=function(){return e.asm.xi.apply(null,arguments)},e._vscf_kdf2_delete=function(){return e.asm.yi.apply(null,arguments)},e._vscf_kdf2_shallow_copy=function(){return e.asm.zi.apply(null,arguments)},e._vscf_kdf2_use_hash=function(){return e.asm.Ai.apply(null,arguments)},e._vscf_key_asn1_deserializer_setup_defaults=function(){return e.asm.Bi.apply(null,arguments)},e._vscf_key_asn1_deserializer_deserialize_public_key_inplace=function(){return e.asm.Ci.apply(null,arguments)},e._vscf_key_asn1_deserializer_deserialize_private_key_inplace=function(){return e.asm.Di.apply(null,arguments)},e._vscf_key_asn1_deserializer_deserialize_public_key=function(){return e.asm.Ei.apply(null,arguments)},e._vscf_key_asn1_deserializer_deserialize_private_key=function(){return e.asm.Fi.apply(null,arguments)},e._vscf_key_asn1_deserializer_release_asn1_reader=function(){return e.asm.Gi.apply(null,arguments)},e._vscf_key_asn1_deserializer_new=function(){return e.asm.Hi.apply(null,arguments)},e._vscf_key_asn1_deserializer_delete=function(){return e.asm.Ii.apply(null,arguments)},e._vscf_key_asn1_deserializer_shallow_copy=function(){return e.asm.Ji.apply(null,arguments)},e._vscf_key_asn1_deserializer_use_asn1_reader=function(){return e.asm.Ki.apply(null,arguments)},e._vscf_key_asn1_serializer_setup_defaults=function(){return e.asm.Li.apply(null,arguments)},e._vscf_key_asn1_serializer_serialize_public_key_inplace=function(){return e.asm.Mi.apply(null,arguments)},e._vscf_key_asn1_serializer_serialized_public_key_len=function(){return e.asm.Ni.apply(null,arguments)},e._vscf_key_asn1_serializer_serialize_private_key_inplace=function(){return e.asm.Oi.apply(null,arguments)},e._vscf_key_asn1_serializer_serialized_private_key_len=function(){return e.asm.Pi.apply(null,arguments)},e._vscf_key_asn1_serializer_serialize_public_key=function(){return e.asm.Qi.apply(null,arguments)},e._vscf_key_asn1_serializer_serialize_private_key=function(){return e.asm.Ri.apply(null,arguments)},e._vscf_key_asn1_serializer_release_asn1_writer=function(){return e.asm.Si.apply(null,arguments)},e._vscf_key_asn1_serializer_new=function(){return e.asm.Ti.apply(null,arguments)},e._vscf_key_asn1_serializer_delete=function(){return e.asm.Ui.apply(null,arguments)},e._vscf_key_asn1_serializer_shallow_copy=function(){return e.asm.Vi.apply(null,arguments)},e._vscf_key_asn1_serializer_use_asn1_writer=function(){return e.asm.Wi.apply(null,arguments)},e._vscf_key_material_rng_reset_key_material=function(){return e.asm.Xi.apply(null,arguments)},e._vscf_key_material_rng_random=function(){return e.asm.Yi.apply(null,arguments)},e._vscf_key_material_rng_reseed=function(){return e.asm.Zi.apply(null,arguments)},e._vscf_key_material_rng_new=function(){return e.asm._i.apply(null,arguments)},e._vscf_key_material_rng_delete=function(){return e.asm.$i.apply(null,arguments)},e._vscf_key_material_rng_shallow_copy=function(){return e.asm.aj.apply(null,arguments)},e._vscf_message_info_der_serializer_setup_defaults=function(){return e.asm.bj.apply(null,arguments)},e._vscf_message_info_der_serializer_serialized_len=function(){return e.asm.cj.apply(null,arguments)},e._vscf_message_info_der_serializer_serialize=function(){return e.asm.dj.apply(null,arguments)},e._vscf_message_info_der_serializer_read_prefix=function(){return e.asm.ej.apply(null,arguments)},e._vscf_message_info_der_serializer_deserialize=function(){return e.asm.fj.apply(null,arguments)},e._vscf_message_info_der_serializer_serialized_footer_len=function(){return e.asm.gj.apply(null,arguments)},e._vscf_message_info_der_serializer_serialize_footer=function(){return e.asm.hj.apply(null,arguments)},e._vscf_message_info_der_serializer_deserialize_footer=function(){return e.asm.ij.apply(null,arguments)},e._vscf_message_info_der_serializer_release_asn1_reader=function(){return e.asm.jj.apply(null,arguments)},e._vscf_message_info_der_serializer_release_asn1_writer=function(){return e.asm.kj.apply(null,arguments)},e._vscf_message_info_der_serializer_new=function(){return e.asm.lj.apply(null,arguments)},e._vscf_message_info_der_serializer_delete=function(){return e.asm.mj.apply(null,arguments)},e._vscf_message_info_der_serializer_shallow_copy=function(){return e.asm.nj.apply(null,arguments)},e._vscf_message_info_der_serializer_use_asn1_reader=function(){return e.asm.oj.apply(null,arguments)},e._vscf_message_info_der_serializer_use_asn1_writer=function(){return e.asm.pj.apply(null,arguments)},e._vscf_pbe_alg_info_kdf_alg_info=function(){return e.asm.qj.apply(null,arguments)},e._vscf_pbe_alg_info_cipher_alg_info=function(){return e.asm.rj.apply(null,arguments)},e._vscf_pbe_alg_info_alg_id=function(){return e.asm.sj.apply(null,arguments)},e._vscf_pbe_alg_info_new=function(){return e.asm.tj.apply(null,arguments)},e._vscf_pbe_alg_info_delete=function(){return e.asm.uj.apply(null,arguments)},e._vscf_pbe_alg_info_shallow_copy=function(){return e.asm.vj.apply(null,arguments)},e._vscf_pkcs5_pbes2_reset=function(){return e.asm.wj.apply(null,arguments)},e._vscf_pkcs5_pbes2_alg_id=function(){return e.asm.xj.apply(null,arguments)},e._vscf_pkcs5_pbes2_produce_alg_info=function(){return e.asm.yj.apply(null,arguments)},e._vscf_pkcs5_pbes2_restore_alg_info=function(){return e.asm.zj.apply(null,arguments)},e._vscf_pkcs5_pbes2_encrypt=function(){return e.asm.Aj.apply(null,arguments)},e._vscf_pkcs5_pbes2_encrypted_len=function(){return e.asm.Bj.apply(null,arguments)},e._vscf_pkcs5_pbes2_precise_encrypted_len=function(){return e.asm.Cj.apply(null,arguments)},e._vscf_pkcs5_pbes2_decrypt=function(){return e.asm.Dj.apply(null,arguments)},e._vscf_pkcs5_pbes2_decrypted_len=function(){return e.asm.Ej.apply(null,arguments)},e._vscf_pkcs5_pbes2_release_kdf=function(){return e.asm.Fj.apply(null,arguments)},e._vscf_pkcs5_pbes2_release_cipher=function(){return e.asm.Gj.apply(null,arguments)},e._vscf_pkcs5_pbes2_new=function(){return e.asm.Hj.apply(null,arguments)},e._vscf_pkcs5_pbes2_delete=function(){return e.asm.Ij.apply(null,arguments)},e._vscf_pkcs5_pbes2_shallow_copy=function(){return e.asm.Jj.apply(null,arguments)},e._vscf_pkcs5_pbes2_use_kdf=function(){return e.asm.Kj.apply(null,arguments)},e._vscf_pkcs5_pbes2_use_cipher=function(){return e.asm.Lj.apply(null,arguments)},e._vscf_pkcs5_pbkdf2_setup_defaults=function(){return e.asm.Mj.apply(null,arguments)},e._vscf_pkcs5_pbkdf2_alg_id=function(){return e.asm.Nj.apply(null,arguments)},e._vscf_pkcs5_pbkdf2_produce_alg_info=function(){return e.asm.Oj.apply(null,arguments)},e._vscf_pkcs5_pbkdf2_restore_alg_info=function(){return e.asm.Pj.apply(null,arguments)},e._vscf_pkcs5_pbkdf2_reset=function(){return e.asm.Qj.apply(null,arguments)},e._vscf_pkcs5_pbkdf2_derive=function(){return e.asm.Rj.apply(null,arguments)},e._vscf_pkcs5_pbkdf2_set_info=function(){return e.asm.Sj.apply(null,arguments)},e._vscf_pkcs5_pbkdf2_release_hmac=function(){return e.asm.Tj.apply(null,arguments)},e._vscf_pkcs5_pbkdf2_new=function(){return e.asm.Uj.apply(null,arguments)},e._vscf_pkcs5_pbkdf2_delete=function(){return e.asm.Vj.apply(null,arguments)},e._vscf_pkcs5_pbkdf2_shallow_copy=function(){return e.asm.Wj.apply(null,arguments)},e._vscf_pkcs5_pbkdf2_use_hmac=function(){return e.asm.Xj.apply(null,arguments)},e._vscf_pkcs8_serializer_setup_defaults=function(){return e.asm.Yj.apply(null,arguments)},e._vscf_pkcs8_serializer_serialize_public_key_inplace=function(){return e.asm.Zj.apply(null,arguments)},e._vscf_pkcs8_serializer_serialized_public_key_len=function(){return e.asm._j.apply(null,arguments)},e._vscf_pkcs8_serializer_serialize_private_key_inplace=function(){return e.asm.$j.apply(null,arguments)},e._vscf_pkcs8_serializer_serialized_private_key_len=function(){return e.asm.ak.apply(null,arguments)},e._vscf_pkcs8_serializer_serialize_public_key=function(){return e.asm.bk.apply(null,arguments)},e._vscf_pkcs8_serializer_serialize_private_key=function(){return e.asm.ck.apply(null,arguments)},e._vscf_pkcs8_serializer_release_asn1_writer=function(){return e.asm.dk.apply(null,arguments)},e._vscf_pkcs8_serializer_new=function(){return e.asm.ek.apply(null,arguments)},e._vscf_pkcs8_serializer_delete=function(){return e.asm.fk.apply(null,arguments)},e._vscf_pkcs8_serializer_shallow_copy=function(){return e.asm.gk.apply(null,arguments)},e._vscf_pkcs8_serializer_use_asn1_writer=function(){return e.asm.hk.apply(null,arguments)},e._vscf_random_padding_alg_id=function(){return e.asm.ik.apply(null,arguments)},e._vscf_random_padding_produce_alg_info=function(){return e.asm.jk.apply(null,arguments)},e._vscf_random_padding_restore_alg_info=function(){return e.asm.kk.apply(null,arguments)},e._vscf_random_padding_configure=function(){return e.asm.lk.apply(null,arguments)},e._vscf_random_padding_padded_data_len=function(){return e.asm.mk.apply(null,arguments)},e._vscf_random_padding_len=function(){return e.asm.nk.apply(null,arguments)},e._vscf_random_padding_len_max=function(){return e.asm.ok.apply(null,arguments)},e._vscf_random_padding_start_data_processing=function(){return e.asm.pk.apply(null,arguments)},e._vscf_random_padding_process_data=function(){return e.asm.qk.apply(null,arguments)},e._vscf_random_padding_finish_data_processing=function(){return e.asm.rk.apply(null,arguments)},e._vscf_random_padding_start_padded_data_processing=function(){return e.asm.sk.apply(null,arguments)},e._vscf_random_padding_process_padded_data=function(){return e.asm.tk.apply(null,arguments)},e._vscf_random_padding_finish_padded_data_processing_out_len=function(){return e.asm.uk.apply(null,arguments)},e._vscf_random_padding_finish_padded_data_processing=function(){return e.asm.vk.apply(null,arguments)},e._vscf_random_padding_release_random=function(){return e.asm.wk.apply(null,arguments)},e._vscf_random_padding_new=function(){return e.asm.xk.apply(null,arguments)},e._vscf_random_padding_delete=function(){return e.asm.yk.apply(null,arguments)},e._vscf_random_padding_shallow_copy=function(){return e.asm.zk.apply(null,arguments)},e._vscf_random_padding_use_random=function(){return e.asm.Ak.apply(null,arguments)},e._vscf_raw_private_key_data=function(){return e.asm.Bk.apply(null,arguments)},e._vscf_raw_private_key_has_public_key=function(){return e.asm.Ck.apply(null,arguments)},e._vscf_raw_private_key_set_public_key=function(){return e.asm.Dk.apply(null,arguments)},e._vscf_raw_private_key_get_public_key=function(){return e.asm.Ek.apply(null,arguments)},e._vscf_raw_private_key_alg_id=function(){return e.asm.Fk.apply(null,arguments)},e._vscf_raw_private_key_alg_info=function(){return e.asm.Gk.apply(null,arguments)},e._vscf_raw_private_key_len=function(){return e.asm.Hk.apply(null,arguments)},e._vscf_raw_private_key_bitlen=function(){return e.asm.Ik.apply(null,arguments)},e._vscf_raw_private_key_impl_tag=function(){return e.asm.Jk.apply(null,arguments)},e._vscf_raw_private_key_is_valid=function(){return e.asm.Kk.apply(null,arguments)},e._vscf_raw_private_key_extract_public_key=function(){return e.asm.Lk.apply(null,arguments)},e._vscf_raw_private_key_new=function(){return e.asm.Mk.apply(null,arguments)},e._vscf_raw_private_key_delete=function(){return e.asm.Nk.apply(null,arguments)},e._vscf_raw_private_key_shallow_copy=function(){return e.asm.Ok.apply(null,arguments)},e._vscf_raw_public_key_data=function(){return e.asm.Pk.apply(null,arguments)},e._vscf_raw_public_key_alg_id=function(){return e.asm.Qk.apply(null,arguments)},e._vscf_raw_public_key_alg_info=function(){return e.asm.Rk.apply(null,arguments)},e._vscf_raw_public_key_len=function(){return e.asm.Sk.apply(null,arguments)},e._vscf_raw_public_key_bitlen=function(){return e.asm.Tk.apply(null,arguments)},e._vscf_raw_public_key_impl_tag=function(){return e.asm.Uk.apply(null,arguments)},e._vscf_raw_public_key_is_valid=function(){return e.asm.Vk.apply(null,arguments)},e._vscf_raw_public_key_new=function(){return e.asm.Wk.apply(null,arguments)},e._vscf_raw_public_key_delete=function(){return e.asm.Xk.apply(null,arguments)},e._vscf_raw_public_key_shallow_copy=function(){return e.asm.Yk.apply(null,arguments)},e._vscf_round5_setup_defaults=function(){return e.asm.Zk.apply(null,arguments)},e._vscf_round5_generate_key=function(){return e.asm._k.apply(null,arguments)},e._vscf_round5_generate_ephemeral_key=function(){return e.asm.$k.apply(null,arguments)},e._vscf_round5_import_public_key=function(){return e.asm.al.apply(null,arguments)},e._vscf_round5_import_public_key_data=function(){return e.asm.bl.apply(null,arguments)},e._vscf_round5_export_public_key=function(){return e.asm.cl.apply(null,arguments)},e._vscf_round5_exported_public_key_data_len=function(){return e.asm.dl.apply(null,arguments)},e._vscf_round5_export_public_key_data=function(){return e.asm.el.apply(null,arguments)},e._vscf_round5_import_private_key=function(){return e.asm.fl.apply(null,arguments)},e._vscf_round5_import_private_key_data=function(){return e.asm.gl.apply(null,arguments)},e._vscf_round5_export_private_key=function(){return e.asm.hl.apply(null,arguments)},e._vscf_round5_exported_private_key_data_len=function(){return e.asm.il.apply(null,arguments)},e._vscf_round5_export_private_key_data=function(){return e.asm.jl.apply(null,arguments)},e._vscf_round5_kem_shared_key_len=function(){return e.asm.kl.apply(null,arguments)},e._vscf_round5_kem_encapsulated_key_len=function(){return e.asm.ll.apply(null,arguments)},e._vscf_round5_kem_encapsulate=function(){return e.asm.ml.apply(null,arguments)},e._vscf_round5_kem_decapsulate=function(){return e.asm.nl.apply(null,arguments)},e._vscf_round5_release_random=function(){return e.asm.ol.apply(null,arguments)},e._vscf_round5_new=function(){return e.asm.pl.apply(null,arguments)},e._vscf_round5_delete=function(){return e.asm.ql.apply(null,arguments)},e._vscf_round5_shallow_copy=function(){return e.asm.rl.apply(null,arguments)},e._vscf_round5_use_random=function(){return e.asm.sl.apply(null,arguments)},e._vscf_rsa_setup_defaults=function(){return e.asm.tl.apply(null,arguments)},e._vscf_rsa_generate_key=function(){return e.asm.ul.apply(null,arguments)},e._vscf_rsa_generate_ephemeral_key=function(){return e.asm.vl.apply(null,arguments)},e._vscf_rsa_import_public_key=function(){return e.asm.wl.apply(null,arguments)},e._vscf_rsa_import_public_key_data=function(){return e.asm.xl.apply(null,arguments)},e._vscf_rsa_export_public_key=function(){return e.asm.yl.apply(null,arguments)},e._vscf_rsa_exported_public_key_data_len=function(){return e.asm.zl.apply(null,arguments)},e._vscf_rsa_export_public_key_data=function(){return e.asm.Al.apply(null,arguments)},e._vscf_rsa_import_private_key=function(){return e.asm.Bl.apply(null,arguments)},e._vscf_rsa_import_private_key_data=function(){return e.asm.Cl.apply(null,arguments)},e._vscf_rsa_export_private_key=function(){return e.asm.Dl.apply(null,arguments)},e._vscf_rsa_exported_private_key_data_len=function(){return e.asm.El.apply(null,arguments)},e._vscf_rsa_export_private_key_data=function(){return e.asm.Fl.apply(null,arguments)},e._vscf_rsa_can_encrypt=function(){return e.asm.Gl.apply(null,arguments)},e._vscf_rsa_encrypted_len=function(){return e.asm.Hl.apply(null,arguments)},e._vscf_rsa_encrypt=function(){return e.asm.Il.apply(null,arguments)},e._vscf_rsa_can_decrypt=function(){return e.asm.Jl.apply(null,arguments)},e._vscf_rsa_decrypted_len=function(){return e.asm.Kl.apply(null,arguments)},e._vscf_rsa_decrypt=function(){return e.asm.Ll.apply(null,arguments)},e._vscf_rsa_can_sign=function(){return e.asm.Ml.apply(null,arguments)},e._vscf_rsa_signature_len=function(){return e.asm.Nl.apply(null,arguments)},e._vscf_rsa_sign_hash=function(){return e.asm.Ol.apply(null,arguments)},e._vscf_rsa_can_verify=function(){return e.asm.Pl.apply(null,arguments)},e._vscf_rsa_verify_hash=function(){return e.asm.Ql.apply(null,arguments)},e._vscf_rsa_release_random=function(){return e.asm.Rl.apply(null,arguments)},e._vscf_rsa_new=function(){return e.asm.Sl.apply(null,arguments)},e._vscf_rsa_delete=function(){return e.asm.Tl.apply(null,arguments)},e._vscf_rsa_shallow_copy=function(){return e.asm.Ul.apply(null,arguments)},e._vscf_rsa_use_random=function(){return e.asm.Vl.apply(null,arguments)},e._vscf_rsa_private_key_is_valid=function(){return e.asm.Wl.apply(null,arguments)},e._vscf_rsa_private_key_len=function(){return e.asm.Xl.apply(null,arguments)},e._vscf_rsa_private_key_alg_id=function(){return e.asm.Yl.apply(null,arguments)},e._vscf_rsa_private_key_alg_info=function(){return e.asm.Zl.apply(null,arguments)},e._vscf_rsa_private_key_bitlen=function(){return e.asm._l.apply(null,arguments)},e._vscf_rsa_private_key_impl_tag=function(){return e.asm.$l.apply(null,arguments)},e._vscf_rsa_private_key_extract_public_key=function(){return e.asm.am.apply(null,arguments)},e._vscf_rsa_private_key_new=function(){return e.asm.bm.apply(null,arguments)},e._vscf_rsa_private_key_delete=function(){return e.asm.cm.apply(null,arguments)},e._vscf_rsa_private_key_shallow_copy=function(){return e.asm.dm.apply(null,arguments)},e._vscf_rsa_public_key_key_exponent=function(){return e.asm.em.apply(null,arguments)},e._vscf_rsa_public_key_is_valid=function(){return e.asm.fm.apply(null,arguments)},e._vscf_rsa_public_key_len=function(){return e.asm.gm.apply(null,arguments)},e._vscf_rsa_public_key_alg_id=function(){return e.asm.hm.apply(null,arguments)},e._vscf_rsa_public_key_alg_info=function(){return e.asm.im.apply(null,arguments)},e._vscf_rsa_public_key_bitlen=function(){return e.asm.jm.apply(null,arguments)},e._vscf_rsa_public_key_impl_tag=function(){return e.asm.km.apply(null,arguments)},e._vscf_rsa_public_key_new=function(){return e.asm.lm.apply(null,arguments)},e._vscf_rsa_public_key_delete=function(){return e.asm.mm.apply(null,arguments)},e._vscf_rsa_public_key_shallow_copy=function(){return e.asm.nm.apply(null,arguments)},e._vscf_salted_kdf_alg_info_hash_alg_info=function(){return e.asm.om.apply(null,arguments)},e._vscf_salted_kdf_alg_info_salt=function(){return e.asm.pm.apply(null,arguments)},e._vscf_salted_kdf_alg_info_iteration_count=function(){return e.asm.qm.apply(null,arguments)},e._vscf_salted_kdf_alg_info_alg_id=function(){return e.asm.rm.apply(null,arguments)},e._vscf_salted_kdf_alg_info_new=function(){return e.asm.sm.apply(null,arguments)},e._vscf_salted_kdf_alg_info_delete=function(){return e.asm.tm.apply(null,arguments)},e._vscf_salted_kdf_alg_info_shallow_copy=function(){return e.asm.um.apply(null,arguments)},e._vscf_sec1_serializer_setup_defaults=function(){return e.asm.vm.apply(null,arguments)},e._vscf_sec1_serializer_serialize_public_key_inplace=function(){return e.asm.wm.apply(null,arguments)},e._vscf_sec1_serializer_serialized_public_key_len=function(){return e.asm.xm.apply(null,arguments)},e._vscf_sec1_serializer_serialize_private_key_inplace=function(){return e.asm.ym.apply(null,arguments)},e._vscf_sec1_serializer_serialized_private_key_len=function(){return e.asm.zm.apply(null,arguments)},e._vscf_sec1_serializer_serialize_public_key=function(){return e.asm.Am.apply(null,arguments)},e._vscf_sec1_serializer_serialize_private_key=function(){return e.asm.Bm.apply(null,arguments)},e._vscf_sec1_serializer_release_asn1_writer=function(){return e.asm.Cm.apply(null,arguments)},e._vscf_sec1_serializer_new=function(){return e.asm.Dm.apply(null,arguments)},e._vscf_sec1_serializer_delete=function(){return e.asm.Em.apply(null,arguments)},e._vscf_sec1_serializer_shallow_copy=function(){return e.asm.Fm.apply(null,arguments)},e._vscf_sec1_serializer_use_asn1_writer=function(){return e.asm.Gm.apply(null,arguments)},e._vscf_seed_entropy_source_reset_seed=function(){return e.asm.Hm.apply(null,arguments)},e._vscf_seed_entropy_source_is_strong=function(){return e.asm.Im.apply(null,arguments)},e._vscf_seed_entropy_source_gather=function(){return e.asm.Jm.apply(null,arguments)},e._vscf_seed_entropy_source_new=function(){return e.asm.Km.apply(null,arguments)},e._vscf_seed_entropy_source_delete=function(){return e.asm.Lm.apply(null,arguments)},e._vscf_seed_entropy_source_shallow_copy=function(){return e.asm.Mm.apply(null,arguments)},e._vscf_sha224_alg_id=function(){return e.asm.Nm.apply(null,arguments)},e._vscf_sha224_produce_alg_info=function(){return e.asm.Om.apply(null,arguments)},e._vscf_sha224_restore_alg_info=function(){return e.asm.Pm.apply(null,arguments)},e._vscf_sha224_hash=function(){return e.asm.Qm.apply(null,arguments)},e._vscf_sha224_finish=function(){return e.asm.Rm.apply(null,arguments)},e._vscf_sha224_start=function(){return e.asm.Sm.apply(null,arguments)},e._vscf_sha224_update=function(){return e.asm.Tm.apply(null,arguments)},e._vscf_sha224_new=function(){return e.asm.Um.apply(null,arguments)},e._vscf_sha224_delete=function(){return e.asm.Vm.apply(null,arguments)},e._vscf_sha224_shallow_copy=function(){return e.asm.Wm.apply(null,arguments)},e._vscf_sha256_alg_id=function(){return e.asm.Xm.apply(null,arguments)},e._vscf_sha256_produce_alg_info=function(){return e.asm.Ym.apply(null,arguments)},e._vscf_sha256_restore_alg_info=function(){return e.asm.Zm.apply(null,arguments)},e._vscf_sha256_hash=function(){return e.asm._m.apply(null,arguments)},e._vscf_sha256_finish=function(){return e.asm.$m.apply(null,arguments)},e._vscf_sha256_start=function(){return e.asm.an.apply(null,arguments)},e._vscf_sha256_update=function(){return e.asm.bn.apply(null,arguments)},e._vscf_sha256_new=function(){return e.asm.cn.apply(null,arguments)},e._vscf_sha256_delete=function(){return e.asm.dn.apply(null,arguments)},e._vscf_sha256_shallow_copy=function(){return e.asm.en.apply(null,arguments)},e._vscf_sha384_alg_id=function(){return e.asm.fn.apply(null,arguments)},e._vscf_sha384_produce_alg_info=function(){return e.asm.gn.apply(null,arguments)},e._vscf_sha384_restore_alg_info=function(){return e.asm.hn.apply(null,arguments)},e._vscf_sha384_hash=function(){return e.asm.jn.apply(null,arguments)},e._vscf_sha384_finish=function(){return e.asm.kn.apply(null,arguments)},e._vscf_sha384_start=function(){return e.asm.ln.apply(null,arguments)},e._vscf_sha384_update=function(){return e.asm.mn.apply(null,arguments)},e._vscf_sha384_new=function(){return e.asm.nn.apply(null,arguments)},e._vscf_sha384_delete=function(){return e.asm.on.apply(null,arguments)},e._vscf_sha384_shallow_copy=function(){return e.asm.pn.apply(null,arguments)},e._vscf_sha512_alg_id=function(){return e.asm.qn.apply(null,arguments)},e._vscf_sha512_produce_alg_info=function(){return e.asm.rn.apply(null,arguments)},e._vscf_sha512_restore_alg_info=function(){return e.asm.sn.apply(null,arguments)},e._vscf_sha512_hash=function(){return e.asm.tn.apply(null,arguments)},e._vscf_sha512_finish=function(){return e.asm.un.apply(null,arguments)},e._vscf_sha512_start=function(){return e.asm.vn.apply(null,arguments)},e._vscf_sha512_update=function(){return e.asm.wn.apply(null,arguments)},e._vscf_sha512_new=function(){return e.asm.xn.apply(null,arguments)},e._vscf_sha512_delete=function(){return e.asm.yn.apply(null,arguments)},e._vscf_sha512_shallow_copy=function(){return e.asm.zn.apply(null,arguments)},e._vscf_simple_alg_info_alg_id=function(){return e.asm.An.apply(null,arguments)},e._vscf_simple_alg_info_new=function(){return e.asm.Bn.apply(null,arguments)},e._vscf_simple_alg_info_delete=function(){return e.asm.Cn.apply(null,arguments)},e._vscf_simple_alg_info_shallow_copy=function(){return e.asm.Dn.apply(null,arguments)},e._vscf_simple_alg_info_new_with_alg_id=function(){return e.asm.En.apply(null,arguments)},e._vscf_alg_factory_create_hash_from_info=function(){return e.asm.Fn.apply(null,arguments)},e._vscf_alg_factory_create_mac_from_info=function(){return e.asm.Gn.apply(null,arguments)},e._vscf_alg_factory_create_kdf_from_info=function(){return e.asm.Hn.apply(null,arguments)},e._vscf_alg_factory_create_salted_kdf_from_info=function(){return e.asm.In.apply(null,arguments)},e._vscf_alg_factory_create_cipher_from_info=function(){return e.asm.Jn.apply(null,arguments)},e._vscf_alg_factory_create_padding_from_info=function(){return e.asm.Kn.apply(null,arguments)},e._vscf_base64_encoded_len=function(){return e.asm.Ln.apply(null,arguments)},e._vscf_base64_encode=function(){return e.asm.Mn.apply(null,arguments)},e._vscf_base64_decoded_len=function(){return e.asm.Nn.apply(null,arguments)},e._vscf_base64_decode=function(){return e.asm.On.apply(null,arguments)},e._vscf_brainkey_client_release_random=function(){return e.asm.Pn.apply(null,arguments)},e._vscf_brainkey_client_release_operation_random=function(){return e.asm.Qn.apply(null,arguments)},e._vscf_brainkey_client_new=function(){return e.asm.Rn.apply(null,arguments)},e._vscf_brainkey_client_delete=function(){return e.asm.Sn.apply(null,arguments)},e._vscf_brainkey_client_shallow_copy=function(){return e.asm.Tn.apply(null,arguments)},e._vscf_brainkey_client_use_random=function(){return e.asm.Un.apply(null,arguments)},e._vscf_brainkey_client_use_operation_random=function(){return e.asm.Vn.apply(null,arguments)},e._vscf_brainkey_client_setup_defaults=function(){return e.asm.Wn.apply(null,arguments)},e._vscf_brainkey_client_blind=function(){return e.asm.Xn.apply(null,arguments)},e._vscf_brainkey_client_deblind=function(){return e.asm.Yn.apply(null,arguments)},e._vscf_brainkey_server_release_random=function(){return e.asm.Zn.apply(null,arguments)},e._vscf_brainkey_server_release_operation_random=function(){return e.asm._n.apply(null,arguments)},e._vscf_brainkey_server_new=function(){return e.asm.$n.apply(null,arguments)},e._vscf_brainkey_server_delete=function(){return e.asm.ao.apply(null,arguments)},e._vscf_brainkey_server_shallow_copy=function(){return e.asm.bo.apply(null,arguments)},e._vscf_brainkey_server_use_random=function(){return e.asm.co.apply(null,arguments)},e._vscf_brainkey_server_use_operation_random=function(){return e.asm.eo.apply(null,arguments)},e._vscf_brainkey_server_setup_defaults=function(){return e.asm.fo.apply(null,arguments)},e._vscf_brainkey_server_generate_identity_secret=function(){return e.asm.go.apply(null,arguments)},e._vscf_brainkey_server_harden=function(){return e.asm.ho.apply(null,arguments)};e._vscf_ecies_release_random=function(){return e.asm.io.apply(null,arguments)},e._vscf_ecies_release_cipher=function(){return e.asm.jo.apply(null,arguments)},e._vscf_ecies_release_mac=function(){return e.asm.ko.apply(null,arguments)},e._vscf_ecies_release_kdf=function(){return e.asm.lo.apply(null,arguments)},e._vscf_ecies_release_ephemeral_key=function(){return e.asm.mo.apply(null,arguments)},e._vscf_ecies_new=function(){return e.asm.no.apply(null,arguments)},e._vscf_ecies_delete=function(){return e.asm.oo.apply(null,arguments)},e._vscf_ecies_shallow_copy=function(){return e.asm.po.apply(null,arguments)},e._vscf_ecies_use_random=function(){return e.asm.qo.apply(null,arguments)},e._vscf_ecies_use_cipher=function(){return e.asm.ro.apply(null,arguments)},e._vscf_ecies_use_mac=function(){return e.asm.so.apply(null,arguments)},e._vscf_ecies_use_kdf=function(){return e.asm.to.apply(null,arguments)},e._vscf_ecies_use_ephemeral_key=function(){return e.asm.uo.apply(null,arguments)},e._vscf_ecies_set_key_alg=function(){return e.asm.vo.apply(null,arguments)},e._vscf_ecies_release_key_alg=function(){return e.asm.wo.apply(null,arguments)},e._vscf_ecies_setup_defaults=function(){return e.asm.xo.apply(null,arguments)},e._vscf_ecies_setup_defaults_no_random=function(){return e.asm.yo.apply(null,arguments)},e._vscf_ecies_encrypted_len=function(){return e.asm.zo.apply(null,arguments)},e._vscf_ecies_encrypt=function(){return e.asm.Ao.apply(null,arguments)},e._vscf_ecies_decrypted_len=function(){return e.asm.Bo.apply(null,arguments)},e._vscf_ecies_decrypt=function(){return e.asm.Co.apply(null,arguments)},e._vscf_error_ctx_size=function(){return e.asm.Do.apply(null,arguments)},e._vscf_error_reset=function(){return e.asm.Eo.apply(null,arguments)},e._vscf_error_status=function(){return e.asm.Fo.apply(null,arguments)},e._vscf_footer_info_new=function(){return e.asm.Go.apply(null,arguments)},e._vscf_footer_info_delete=function(){return e.asm.Ho.apply(null,arguments)},e._vscf_footer_info_shallow_copy=function(){return e.asm.Io.apply(null,arguments)},e._vscf_footer_info_has_signed_data_info=function(){return e.asm.Jo.apply(null,arguments)},e._vscf_footer_info_signed_data_info=function(){return e.asm.Ko.apply(null,arguments)},e._vscf_footer_info_set_data_size=function(){return e.asm.Lo.apply(null,arguments)},e._vscf_footer_info_data_size=function(){return e.asm.Mo.apply(null,arguments)},e._vscf_group_session_release_rng=function(){return e.asm.No.apply(null,arguments)},e._vscf_group_session_new=function(){return e.asm.Oo.apply(null,arguments)},e._vscf_group_session_delete=function(){return e.asm.Po.apply(null,arguments)},e._vscf_group_session_shallow_copy=function(){return e.asm.Qo.apply(null,arguments)},e._vscf_group_session_use_rng=function(){return e.asm.Ro.apply(null,arguments)},e._vscf_group_session_get_current_epoch=function(){return e.asm.So.apply(null,arguments)},e._vscf_group_session_setup_defaults=function(){return e.asm.To.apply(null,arguments)},e._vscf_group_session_get_session_id=function(){return e.asm.Uo.apply(null,arguments)},e._vscf_group_session_add_epoch=function(){return e.asm.Vo.apply(null,arguments)},e._vscf_group_session_encrypt=function(){return e.asm.Wo.apply(null,arguments)},e._vscf_group_session_decrypt_len=function(){return e.asm.Xo.apply(null,arguments)},e._vscf_group_session_decrypt=function(){return e.asm.Yo.apply(null,arguments)},e._vscf_group_session_create_group_ticket=function(){return e.asm.Zo.apply(null,arguments)},e._vscf_group_session_message_new=function(){return e.asm._o.apply(null,arguments)},e._vscf_group_session_message_delete=function(){return e.asm.$o.apply(null,arguments)},e._vscf_group_session_message_shallow_copy=function(){return e.asm.ap.apply(null,arguments)},e._vscf_group_session_message_get_type=function(){return e.asm.bp.apply(null,arguments)},e._vscf_group_session_message_get_session_id=function(){return e.asm.cp.apply(null,arguments)},e._vscf_group_session_message_get_epoch=function(){return e.asm.dp.apply(null,arguments)},e._vscf_group_session_message_serialize_len=function(){return e.asm.ep.apply(null,arguments)},e._vscf_group_session_message_serialize=function(){return e.asm.fp.apply(null,arguments)},e._vscf_group_session_message_deserialize=function(){return e.asm.gp.apply(null,arguments)},e._vscf_group_session_ticket_release_rng=function(){return e.asm.hp.apply(null,arguments)},e._vscf_group_session_ticket_new=function(){return e.asm.ip.apply(null,arguments)},e._vscf_group_session_ticket_delete=function(){return e.asm.jp.apply(null,arguments)},e._vscf_group_session_ticket_shallow_copy=function(){return e.asm.kp.apply(null,arguments)},e._vscf_group_session_ticket_use_rng=function(){return e.asm.lp.apply(null,arguments)},e._vscf_group_session_ticket_setup_defaults=function(){return e.asm.mp.apply(null,arguments)},e._vscf_group_session_ticket_setup_ticket_as_new=function(){return e.asm.np.apply(null,arguments)},e._vscf_group_session_ticket_get_ticket_message=function(){return e.asm.op.apply(null,arguments)},e._vscf_key_alg_factory_create_from_alg_id=function(){return e.asm.pp.apply(null,arguments)},e._vscf_key_alg_factory_create_from_key=function(){return e.asm.qp.apply(null,arguments)},e._vscf_key_alg_factory_create_from_raw_public_key=function(){return e.asm.rp.apply(null,arguments)},e._vscf_key_alg_factory_create_from_raw_private_key=function(){return e.asm.sp.apply(null,arguments)},e._vscf_key_info_new=function(){return e.asm.tp.apply(null,arguments)},e._vscf_key_info_new_with_alg_info=function(){return e.asm.up.apply(null,arguments)},e._vscf_key_info_delete=function(){return e.asm.vp.apply(null,arguments)},e._vscf_key_info_shallow_copy=function(){return e.asm.wp.apply(null,arguments)},e._vscf_key_info_is_compound=function(){return e.asm.xp.apply(null,arguments)},e._vscf_key_info_is_hybrid=function(){return e.asm.yp.apply(null,arguments)},e._vscf_key_info_is_compound_hybrid=function(){return e.asm.zp.apply(null,arguments)},e._vscf_key_info_is_compound_hybrid_cipher=function(){return e.asm.Ap.apply(null,arguments)},e._vscf_key_info_is_compound_hybrid_signer=function(){return e.asm.Bp.apply(null,arguments)},e._vscf_key_info_is_hybrid_post_quantum=function(){return e.asm.Cp.apply(null,arguments)},e._vscf_key_info_is_hybrid_post_quantum_cipher=function(){return e.asm.Dp.apply(null,arguments)},e._vscf_key_info_is_hybrid_post_quantum_signer=function(){return e.asm.Ep.apply(null,arguments)},e._vscf_key_info_alg_id=function(){return e.asm.Fp.apply(null,arguments)},e._vscf_key_info_compound_cipher_alg_id=function(){return e.asm.Gp.apply(null,arguments)},e._vscf_key_info_compound_signer_alg_id=function(){return e.asm.Hp.apply(null,arguments)},e._vscf_key_info_hybrid_first_key_alg_id=function(){return e.asm.Ip.apply(null,arguments)},e._vscf_key_info_hybrid_second_key_alg_id=function(){return e.asm.Jp.apply(null,arguments)},e._vscf_key_info_compound_hybrid_cipher_first_key_alg_id=function(){return e.asm.Kp.apply(null,arguments)},e._vscf_key_info_compound_hybrid_cipher_second_key_alg_id=function(){return e.asm.Lp.apply(null,arguments)},e._vscf_key_info_compound_hybrid_signer_first_key_alg_id=function(){return e.asm.Mp.apply(null,arguments)},e._vscf_key_info_compound_hybrid_signer_second_key_alg_id=function(){return e.asm.Np.apply(null,arguments)},e._vscf_key_provider_release_random=function(){return e.asm.Op.apply(null,arguments)},e._vscf_key_provider_new=function(){return e.asm.Pp.apply(null,arguments)},e._vscf_key_provider_delete=function(){return e.asm.Qp.apply(null,arguments)},e._vscf_key_provider_shallow_copy=function(){return e.asm.Rp.apply(null,arguments)},e._vscf_key_provider_use_random=function(){return e.asm.Sp.apply(null,arguments)},e._vscf_key_provider_setup_defaults=function(){return e.asm.Tp.apply(null,arguments)},e._vscf_key_provider_set_rsa_params=function(){return e.asm.Up.apply(null,arguments)},e._vscf_key_provider_generate_private_key=function(){return e.asm.Vp.apply(null,arguments)},e._vscf_key_provider_generate_post_quantum_private_key=function(){return e.asm.Wp.apply(null,arguments)},e._vscf_key_provider_generate_compound_hybrid_private_key=function(){return e.asm.Xp.apply(null,arguments)},e._vscf_key_provider_generate_hybrid_private_key=function(){return e.asm.Yp.apply(null,arguments)},e._vscf_key_provider_generate_compound_private_key=function(){return e.asm.Zp.apply(null,arguments)},e._vscf_key_provider_import_private_key=function(){return e.asm._p.apply(null,arguments)},e._vscf_key_provider_import_public_key=function(){return e.asm.$p.apply(null,arguments)},e._vscf_key_provider_exported_public_key_len=function(){return e.asm.aq.apply(null,arguments)},e._vscf_key_provider_export_public_key=function(){return e.asm.bq.apply(null,arguments)},e._vscf_key_provider_exported_private_key_len=function(){return e.asm.cq.apply(null,arguments)},e._vscf_key_provider_export_private_key=function(){return e.asm.dq.apply(null,arguments)},e._vscf_key_recipient_info_new=function(){return e.asm.eq.apply(null,arguments)},e._vscf_key_recipient_info_new_with_data=function(){return e.asm.fq.apply(null,arguments)},e._vscf_key_recipient_info_delete=function(){return e.asm.gq.apply(null,arguments)},e._vscf_key_recipient_info_shallow_copy=function(){return e.asm.hq.apply(null,arguments)},e._vscf_key_recipient_info_recipient_id=function(){return e.asm.iq.apply(null,arguments)},e._vscf_key_recipient_info_key_encryption_algorithm=function(){return e.asm.jq.apply(null,arguments)},e._vscf_key_recipient_info_encrypted_key=function(){return e.asm.kq.apply(null,arguments)},e._vscf_key_recipient_info_list_new=function(){return e.asm.lq.apply(null,arguments)},e._vscf_key_recipient_info_list_delete=function(){return e.asm.mq.apply(null,arguments)},e._vscf_key_recipient_info_list_shallow_copy=function(){return e.asm.nq.apply(null,arguments)},e._vscf_key_recipient_info_list_has_item=function(){return e.asm.oq.apply(null,arguments)},e._vscf_key_recipient_info_list_item=function(){return e.asm.pq.apply(null,arguments)},e._vscf_key_recipient_info_list_has_next=function(){return e.asm.qq.apply(null,arguments)},e._vscf_key_recipient_info_list_next=function(){return e.asm.rq.apply(null,arguments)},e._vscf_key_recipient_info_list_has_prev=function(){return e.asm.sq.apply(null,arguments)},e._vscf_key_recipient_info_list_prev=function(){return e.asm.tq.apply(null,arguments)},e._vscf_key_recipient_info_list_clear=function(){return e.asm.uq.apply(null,arguments)},e._vscf_message_info_new=function(){return e.asm.vq.apply(null,arguments)},e._vscf_message_info_delete=function(){return e.asm.wq.apply(null,arguments)},e._vscf_message_info_shallow_copy=function(){return e.asm.xq.apply(null,arguments)},e._vscf_message_info_data_encryption_alg_info=function(){return e.asm.yq.apply(null,arguments)},e._vscf_message_info_key_recipient_info_list=function(){return e.asm.zq.apply(null,arguments)},e._vscf_message_info_password_recipient_info_list=function(){return e.asm.Aq.apply(null,arguments)},e._vscf_message_info_has_custom_params=function(){return e.asm.Bq.apply(null,arguments)},e._vscf_message_info_custom_params=function(){return e.asm.Cq.apply(null,arguments)},e._vscf_message_info_has_cipher_kdf_alg_info=function(){return e.asm.Dq.apply(null,arguments)},e._vscf_message_info_cipher_kdf_alg_info=function(){return e.asm.Eq.apply(null,arguments)},e._vscf_message_info_has_cipher_padding_alg_info=function(){return e.asm.Fq.apply(null,arguments)},e._vscf_message_info_cipher_padding_alg_info=function(){return e.asm.Gq.apply(null,arguments)},e._vscf_message_info_has_footer_info=function(){return e.asm.Hq.apply(null,arguments)},e._vscf_message_info_footer_info=function(){return e.asm.Iq.apply(null,arguments)},e._vscf_message_info_clear=function(){return e.asm.Jq.apply(null,arguments)},e._vscf_message_info_custom_params_new=function(){return e.asm.Kq.apply(null,arguments)},e._vscf_message_info_custom_params_delete=function(){return e.asm.Lq.apply(null,arguments)},e._vscf_message_info_custom_params_shallow_copy=function(){return e.asm.Mq.apply(null,arguments)},e._vscf_message_info_custom_params_add_int=function(){return e.asm.Nq.apply(null,arguments)},e._vscf_message_info_custom_params_add_string=function(){return e.asm.Oq.apply(null,arguments)},e._vscf_message_info_custom_params_add_data=function(){return e.asm.Pq.apply(null,arguments)},e._vscf_message_info_custom_params_clear=function(){return e.asm.Qq.apply(null,arguments)},e._vscf_message_info_custom_params_find_int=function(){return e.asm.Rq.apply(null,arguments)},e._vscf_message_info_custom_params_find_string=function(){return e.asm.Sq.apply(null,arguments)},e._vscf_message_info_custom_params_find_data=function(){return e.asm.Tq.apply(null,arguments)},e._vscf_message_info_custom_params_has_params=function(){return e.asm.Uq.apply(null,arguments)},e._vscf_message_info_editor_release_random=function(){return e.asm.Vq.apply(null,arguments)},e._vscf_message_info_editor_new=function(){return e.asm.Wq.apply(null,arguments)},e._vscf_message_info_editor_delete=function(){return e.asm.Xq.apply(null,arguments)},e._vscf_message_info_editor_shallow_copy=function(){return e.asm.Yq.apply(null,arguments)},e._vscf_message_info_editor_use_random=function(){return e.asm.Zq.apply(null,arguments)},e._vscf_message_info_editor_setup_defaults=function(){return e.asm._q.apply(null,arguments)},e._vscf_message_info_editor_unpack=function(){return e.asm.$q.apply(null,arguments)},e._vscf_message_info_editor_unlock=function(){return e.asm.ar.apply(null,arguments)},e._vscf_message_info_editor_add_key_recipient=function(){return e.asm.br.apply(null,arguments)},e._vscf_message_info_editor_remove_key_recipient=function(){return e.asm.cr.apply(null,arguments)},e._vscf_message_info_editor_remove_all=function(){return e.asm.dr.apply(null,arguments)},e._vscf_message_info_editor_packed_len=function(){return e.asm.er.apply(null,arguments)},e._vscf_message_info_editor_pack=function(){return e.asm.fr.apply(null,arguments)},e._vscf_message_info_footer_new=function(){return e.asm.gr.apply(null,arguments)},e._vscf_message_info_footer_delete=function(){return e.asm.hr.apply(null,arguments)},e._vscf_message_info_footer_shallow_copy=function(){return e.asm.ir.apply(null,arguments)},e._vscf_message_info_footer_has_signer_infos=function(){return e.asm.jr.apply(null,arguments)},e._vscf_message_info_footer_signer_infos=function(){return e.asm.kr.apply(null,arguments)},e._vscf_message_info_footer_signer_hash_alg_info=function(){return e.asm.lr.apply(null,arguments)},e._vscf_message_info_footer_signer_digest=function(){return e.asm.mr.apply(null,arguments)},e._vscf_oid_from_alg_id=function(){return e.asm.nr.apply(null,arguments)},e._vscf_oid_to_alg_id=function(){return e.asm.or.apply(null,arguments)},e._vscf_oid_equal=function(){return e.asm.pr.apply(null,arguments)},e._vscf_oid_from_id=function(){return e.asm.qr.apply(null,arguments)},e._vscf_oid_to_id=function(){return e.asm.rr.apply(null,arguments)},e._vscf_oid_id_to_alg_id=function(){return e.asm.sr.apply(null,arguments)},e._vscf_padding_params_new=function(){return e.asm.tr.apply(null,arguments)},e._vscf_padding_params_new_with_constraints=function(){return e.asm.ur.apply(null,arguments)},e._vscf_padding_params_delete=function(){return e.asm.vr.apply(null,arguments)},e._vscf_padding_params_shallow_copy=function(){return e.asm.wr.apply(null,arguments)},e._vscf_padding_params_frame=function(){return e.asm.xr.apply(null,arguments)},e._vscf_padding_params_frame_max=function(){return e.asm.yr.apply(null,arguments)},e._vscf_password_recipient_info_new=function(){return e.asm.zr.apply(null,arguments)},e._vscf_password_recipient_info_new_with_members=function(){return e.asm.Ar.apply(null,arguments)},e._vscf_password_recipient_info_delete=function(){return e.asm.Br.apply(null,arguments)},e._vscf_password_recipient_info_shallow_copy=function(){return e.asm.Cr.apply(null,arguments)},e._vscf_password_recipient_info_key_encryption_algorithm=function(){return e.asm.Dr.apply(null,arguments)},e._vscf_password_recipient_info_encrypted_key=function(){return e.asm.Er.apply(null,arguments)},e._vscf_password_recipient_info_list_new=function(){return e.asm.Fr.apply(null,arguments)},e._vscf_password_recipient_info_list_delete=function(){return e.asm.Gr.apply(null,arguments)},e._vscf_password_recipient_info_list_shallow_copy=function(){return e.asm.Hr.apply(null,arguments)},e._vscf_password_recipient_info_list_has_item=function(){return e.asm.Ir.apply(null,arguments)},e._vscf_password_recipient_info_list_item=function(){return e.asm.Jr.apply(null,arguments)},e._vscf_password_recipient_info_list_has_next=function(){return e.asm.Kr.apply(null,arguments)},e._vscf_password_recipient_info_list_next=function(){return e.asm.Lr.apply(null,arguments)},e._vscf_password_recipient_info_list_has_prev=function(){return e.asm.Mr.apply(null,arguments)},e._vscf_password_recipient_info_list_prev=function(){return e.asm.Nr.apply(null,arguments)},e._vscf_password_recipient_info_list_clear=function(){return e.asm.Or.apply(null,arguments)},e._vscf_pem_wrapped_len=function(){return e.asm.Pr.apply(null,arguments)},e._vscf_pem_wrap=function(){return e.asm.Qr.apply(null,arguments)},e._vscf_pem_unwrapped_len=function(){return e.asm.Rr.apply(null,arguments)},e._vscf_pem_unwrap=function(){return e.asm.Sr.apply(null,arguments)},e._vscf_pem_title=function(){return e.asm.Tr.apply(null,arguments)},e._vscf_recipient_cipher_release_random=function(){return e.asm.Ur.apply(null,arguments)},e._vscf_recipient_cipher_release_encryption_cipher=function(){return e.asm.Vr.apply(null,arguments)},e._vscf_recipient_cipher_release_encryption_padding=function(){return e.asm.Wr.apply(null,arguments)},e._vscf_recipient_cipher_release_padding_params=function(){return e.asm.Xr.apply(null,arguments)},e._vscf_recipient_cipher_release_signer_hash=function(){return e.asm.Yr.apply(null,arguments)},e._vscf_recipient_cipher_new=function(){return e.asm.Zr.apply(null,arguments)},e._vscf_recipient_cipher_delete=function(){return e.asm._r.apply(null,arguments)},e._vscf_recipient_cipher_shallow_copy=function(){return e.asm.$r.apply(null,arguments)},e._vscf_recipient_cipher_use_random=function(){return e.asm.as.apply(null,arguments)},e._vscf_recipient_cipher_use_encryption_cipher=function(){return e.asm.bs.apply(null,arguments)},e._vscf_recipient_cipher_use_encryption_padding=function(){return e.asm.cs.apply(null,arguments)},e._vscf_recipient_cipher_use_padding_params=function(){return e.asm.ds.apply(null,arguments)},e._vscf_recipient_cipher_use_signer_hash=function(){return e.asm.es.apply(null,arguments)},e._vscf_recipient_cipher_has_key_recipient=function(){return e.asm.fs.apply(null,arguments)},e._vscf_recipient_cipher_add_key_recipient=function(){return e.asm.gs.apply(null,arguments)},e._vscf_recipient_cipher_clear_recipients=function(){return e.asm.hs.apply(null,arguments)},e._vscf_recipient_cipher_add_signer=function(){return e.asm.is.apply(null,arguments)},e._vscf_recipient_cipher_clear_signers=function(){return e.asm.js.apply(null,arguments)},e._vscf_recipient_cipher_custom_params=function(){return e.asm.ks.apply(null,arguments)},e._vscf_recipient_cipher_start_encryption=function(){return e.asm.ls.apply(null,arguments)},e._vscf_recipient_cipher_start_signed_encryption=function(){return e.asm.ms.apply(null,arguments)},e._vscf_recipient_cipher_message_info_len=function(){return e.asm.ns.apply(null,arguments)},e._vscf_recipient_cipher_pack_message_info=function(){return e.asm.os.apply(null,arguments)},e._vscf_recipient_cipher_encryption_out_len=function(){return e.asm.ps.apply(null,arguments)},e._vscf_recipient_cipher_message_info_footer_len=function(){return e.asm.qs.apply(null,arguments)},e._vscf_recipient_cipher_process_encryption=function(){return e.asm.rs.apply(null,arguments)},e._vscf_recipient_cipher_finish_encryption=function(){return e.asm.ss.apply(null,arguments)},e._vscf_recipient_cipher_start_decryption_with_key=function(){return e.asm.ts.apply(null,arguments)},e._vscf_recipient_cipher_start_verified_decryption_with_key=function(){return e.asm.us.apply(null,arguments)},e._vscf_recipient_cipher_decryption_out_len=function(){return e.asm.vs.apply(null,arguments)},e._vscf_recipient_cipher_process_decryption=function(){return e.asm.ws.apply(null,arguments)},e._vscf_recipient_cipher_finish_decryption=function(){return e.asm.xs.apply(null,arguments)},e._vscf_recipient_cipher_is_data_signed=function(){return e.asm.ys.apply(null,arguments)},e._vscf_recipient_cipher_signer_infos=function(){return e.asm.zs.apply(null,arguments)},e._vscf_recipient_cipher_verify_signer_info=function(){return e.asm.As.apply(null,arguments)},e._vscf_recipient_cipher_pack_message_info_footer=function(){return e.asm.Bs.apply(null,arguments)},e._vscf_signed_data_info_new=function(){return e.asm.Cs.apply(null,arguments)},e._vscf_signed_data_info_delete=function(){return e.asm.Ds.apply(null,arguments)},e._vscf_signed_data_info_shallow_copy=function(){return e.asm.Es.apply(null,arguments)},e._vscf_signed_data_info_hash_alg_info=function(){return e.asm.Fs.apply(null,arguments)},e._vscf_signer_release_hash=function(){return e.asm.Gs.apply(null,arguments)},e._vscf_signer_release_random=function(){return e.asm.Hs.apply(null,arguments)},e._vscf_signer_new=function(){return e.asm.Is.apply(null,arguments)},e._vscf_signer_delete=function(){return e.asm.Js.apply(null,arguments)},e._vscf_signer_shallow_copy=function(){return e.asm.Ks.apply(null,arguments)},e._vscf_signer_use_hash=function(){return e.asm.Ls.apply(null,arguments)},e._vscf_signer_use_random=function(){return e.asm.Ms.apply(null,arguments)},e._vscf_signer_reset=function(){return e.asm.Ns.apply(null,arguments)},e._vscf_signer_append_data=function(){return e.asm.Os.apply(null,arguments)},e._vscf_signer_signature_len=function(){return e.asm.Ps.apply(null,arguments)},e._vscf_signer_sign=function(){return e.asm.Qs.apply(null,arguments)},e._vscf_signer_info_new=function(){return e.asm.Rs.apply(null,arguments)},e._vscf_signer_info_delete=function(){return e.asm.Ss.apply(null,arguments)},e._vscf_signer_info_shallow_copy=function(){return e.asm.Ts.apply(null,arguments)},e._vscf_signer_info_signer_id=function(){return e.asm.Us.apply(null,arguments)},e._vscf_signer_info_signer_alg_info=function(){return e.asm.Vs.apply(null,arguments)},e._vscf_signer_info_signature=function(){return e.asm.Ws.apply(null,arguments)},e._vscf_signer_info_list_new=function(){return e.asm.Xs.apply(null,arguments)},e._vscf_signer_info_list_delete=function(){return e.asm.Ys.apply(null,arguments)},e._vscf_signer_info_list_shallow_copy=function(){return e.asm.Zs.apply(null,arguments)},e._vscf_signer_info_list_has_item=function(){return e.asm._s.apply(null,arguments)},e._vscf_signer_info_list_item=function(){return e.asm.$s.apply(null,arguments)},e._vscf_signer_info_list_has_next=function(){return e.asm.at.apply(null,arguments)},e._vscf_signer_info_list_next=function(){return e.asm.bt.apply(null,arguments)},e._vscf_signer_info_list_has_prev=function(){return e.asm.ct.apply(null,arguments)},e._vscf_signer_info_list_prev=function(){return e.asm.dt.apply(null,arguments)},e._vscf_signer_info_list_clear=function(){return e.asm.et.apply(null,arguments)},e._vscf_verifier_new=function(){return e.asm.ft.apply(null,arguments)},e._vscf_verifier_delete=function(){return e.asm.gt.apply(null,arguments)},e._vscf_verifier_shallow_copy=function(){return e.asm.ht.apply(null,arguments)},e._vscf_verifier_reset=function(){return e.asm.it.apply(null,arguments)},e._vscf_verifier_append_data=function(){return e.asm.jt.apply(null,arguments)},e._vscf_verifier_verify=function(){return e.asm.kt.apply(null,arguments)},e._vsc_buffer_new=function(){return e.asm.lt.apply(null,arguments)},e._vsc_buffer_new_with_capacity=function(){return e.asm.mt.apply(null,arguments)},e._vsc_buffer_delete=function(){return e.asm.nt.apply(null,arguments)},e._vsc_buffer_data=function(){return e.asm.ot.apply(null,arguments)},e._vsc_buffer_make_secure=function(){return e.asm.pt.apply(null,arguments)},e._vsc_buffer_bytes=function(){return e.asm.qt.apply(null,arguments)},e._vsc_buffer_len=function(){return e.asm.rt.apply(null,arguments)},e._vsc_data_ctx_size=function(){return e.asm.st.apply(null,arguments)},e._vsc_data=function(){return e.asm.tt.apply(null,arguments)},e._vsc_data_len=function(){return e.asm.ut.apply(null,arguments)},e._vsc_data_bytes=function(){return e.asm.vt.apply(null,arguments)},e.___errno_location=function(){return e.asm.wt.apply(null,arguments)};var Mt,Ht=e._malloc=function(){return e.asm.xt.apply(null,arguments)};function Ot(){function t(){if(!Mt&&(Mt=!0,!v)){if(e.noFSInit||vt||(vt=!0,kt(),e.stdin=e.stdin,e.stdout=e.stdout,e.stderr=e.stderr,e.stdin?Ct("stdin",e.stdin):Nt("/dev/tty","/dev/stdin"),e.stdout?Ct("stdout",null,e.stdout):Nt("/dev/tty","/dev/stdout"),e.stderr?Ct("stderr",null,e.stderr):Nt("/dev/tty1","/dev/stderr"),bt("/dev/stdin","r"),bt("/dev/stdout","w"),bt("/dev/stderr","w")),I(w),st=!1,I(b),e.onRuntimeInitialized&&e.onRuntimeInitialized(),e.postRun)for("function"==typeof e.postRun&&(e.postRun=[e.postRun]);e.postRun.length;){var t=e.postRun.shift();A.unshift(t)}I(A)}}if(!(0<S)){if(e.preRun)for("function"==typeof e.preRun&&(e.preRun=[e.preRun]);e.preRun.length;)k();I(N),0<S||(e.setStatus?(e.setStatus("Running..."),setTimeout((function(){setTimeout((function(){e.setStatus("")}),1),t()}),1)):t())}}if(e._free=function(){return e.asm.yt.apply(null,arguments)},e.stackAlloc=function(){return e.asm.zt.apply(null,arguments)},e.dynCall_vi=function(){return e.asm.At.apply(null,arguments)},e.asm=Dt,e.then=function(t){if(Mt)t(e);else{var r=e.onRuntimeInitialized;e.onRuntimeInitialized=function(){r&&r(),t(e)}}return e},L=function t(){Mt||Ot(),Mt||(L=t)},e.run=Ot,e.preInit)for("function"==typeof e.preInit&&(e.preInit=[e.preInit]);0<e.preInit.length;)e.preInit.pop()();return Ot(),t});t.exports=n}(e={exports:{}}),e.exports}(),s=(t,e)=>{class r extends Error{constructor(t){super(t),this.name="FoundationError",this.message=t}static handleStatusCode(t){if(0!=t){if(-1==t)throw new r("This error should not be returned if assertions is enabled.");if(-2==t)throw new r("Can be used to define that not all context prerequisites are satisfied. Note, this error should not be returned if assertions is enabled.");if(-3==t)throw new r("Define that error code from one of third-party module was not handled. Note, this error should not be returned if assertions is enabled.");if(-101==t)throw new r("Buffer capacity is not enough to hold result.");if(-200==t)throw new r("Unsupported algorithm.");if(-201==t)throw new r("Authentication failed during decryption.");if(-202==t)throw new r("Attempt to read data out of buffer bounds.");if(-203==t)throw new r("ASN.1 encoded data is corrupted.");if(-204==t)throw new r("Attempt to read ASN.1 type that is bigger then requested C type.");if(-205==t)throw new r("ASN.1 representation of PKCS#1 public key is corrupted.");if(-206==t)throw new r("ASN.1 representation of PKCS#1 private key is corrupted.");if(-207==t)throw new r("ASN.1 representation of PKCS#8 public key is corrupted.");if(-208==t)throw new r("ASN.1 representation of PKCS#8 private key is corrupted.");if(-209==t)throw new r("Encrypted data is corrupted.");if(-210==t)throw new r("Underlying random operation returns error.");if(-211==t)throw new r("Generation of the private or secret key failed.");if(-212==t)throw new r("One of the entropy sources failed.");if(-213==t)throw new r("Requested data to be generated is too big.");if(-214==t)throw new r("Base64 encoded string contains invalid characters.");if(-215==t)throw new r("PEM data is corrupted.");if(-216==t)throw new r("Exchange key return zero.");if(-217==t)throw new r("Ed25519 public key is corrupted.");if(-218==t)throw new r("Ed25519 private key is corrupted.");if(-219==t)throw new r("CURVE25519 public key is corrupted.");if(-220==t)throw new r("CURVE25519 private key is corrupted.");if(-221==t)throw new r("Elliptic curve public key format is corrupted see RFC 5480.");if(-222==t)throw new r("Elliptic curve public key format is corrupted see RFC 5915.");if(-223==t)throw new r("ASN.1 representation of a public key is corrupted.");if(-224==t)throw new r("ASN.1 representation of a private key is corrupted.");if(-225==t)throw new r("Key algorithm does not accept given type of public key.");if(-226==t)throw new r("Key algorithm does not accept given type of private key.");if(-227==t)throw new r("Post-quantum Falcon-Sign public key is corrupted.");if(-228==t)throw new r("Post-quantum Falcon-Sign private key is corrupted.");if(-229==t)throw new r("Generic Round5 library error.");if(-230==t)throw new r("Post-quantum NIST Round5 public key is corrupted.");if(-231==t)throw new r("Post-quantum NIST Round5 private key is corrupted.");if(-232==t)throw new r("Compound public key is corrupted.");if(-233==t)throw new r("Compound private key is corrupted.");if(-234==t)throw new r("Compound public hybrid key is corrupted.");if(-235==t)throw new r("Compound private hybrid key is corrupted.");if(-236==t)throw new r("ASN.1 AlgorithmIdentifer is corrupted.");if(-237==t)throw new r("ASN.1 AlgorithmIdentifer with ECParameters is corrupted.");if(-238==t)throw new r("ASN.1 AlgorithmIdentifer with CompoundKeyParams is corrupted.");if(-239==t)throw new r("ASN.1 AlgorithmIdentifer with HybridKeyParams is corrupted.");if(-301==t)throw new r("Decryption failed, because message info was not given explicitly, and was not part of an encrypted message.");if(-302==t)throw new r("Message Info is corrupted.");if(-303==t)throw new r("Recipient defined with id is not found within message info during data decryption.");if(-304==t)throw new r("Content encryption key can not be decrypted with a given private key.");if(-305==t)throw new r("Content encryption key can not be decrypted with a given password.");if(-306==t)throw new r("Custom parameter with a given key is not found within message info.");if(-307==t)throw new r("A custom parameter with a given key is found, but the requested value type does not correspond to the actual type.");if(-308==t)throw new r("Signature format is corrupted.");if(-309==t)throw new r("Message Info footer is corrupted.");if(-401==t)throw new r("Brainkey password length is out of range.");if(-402==t)throw new r("Brainkey number length should be 32 byte.");if(-403==t)throw new r("Brainkey point length should be 65 bytes.");if(-404==t)throw new r("Brainkey name is out of range.");if(-405==t)throw new r("Brainkey internal error.");if(-406==t)throw new r("Brainkey point is invalid.");if(-407==t)throw new r("Brainkey number buffer length capacity should be >= 32 byte.");if(-408==t)throw new r("Brainkey point buffer length capacity should be >= 32 byte.");if(-409==t)throw new r("Brainkey seed buffer length capacity should be >= 32 byte.");if(-410==t)throw new r("Brainkey identity secret is invalid.");if(-411==t)throw new r("KEM encapsulated key is invalid or does not correspond to the private key.");if(-501==t)throw new r("Invalid padding.");if(-601==t)throw new r("Protobuf error.");if(-701==t)throw new r("Session id doesnt match.");if(-702==t)throw new r("Epoch not found.");if(-703==t)throw new r("Wrong key type.");if(-704==t)throw new r("Invalid signature.");if(-705==t)throw new r("Ed25519 error.");if(-706==t)throw new r("Duplicate epoch.");if(-707==t)throw new r("Plain text too long.");throw new r("Unexpected status code:"+t)}}}return r};function _(t,e){if(!("number"==typeof e||e instanceof Number))throw new TypeError(`'${t}' is not a number`);if(Number.isNaN(e))throw new TypeError(`'${t}' is NaN`);if(e===1/0)throw new TypeError(`'${t}' is Infinity`);if(e===-1/0)throw new TypeError(`'${t}' is -Infinity`)}function c(t,e){if(_(t,e),0==e)throw new TypeError(`'${t}' is NULL`)}var a={ensureNumber:_,ensureString:function(t,e){if(!("string"==typeof e||e instanceof String))throw new TypeError(`'${t}' is not a string`)},ensureBoolean:function(t,e){if("boolean"!=typeof e)throw new TypeError(`'${t}' is not a boolean`)},ensureByteArray:function(t,e){if(!(e instanceof Uint8Array))throw new TypeError(`'${t}' is not an Uint8Array`)},ensureClass:function(t,e,r){if(!(e instanceof r))throw new TypeError(`'${t}' is not an instance of the class ${r.name}`);c(t,e.ctxPtr)},ensureNotNull:c,ensureImplementInterface:function(t,e,r,n,s){if(c(t,e.ctxPtr),!s.isImplemented(e.ctxPtr,n))throw new TypeError(`'${t}' does not implement interface '${r}'`)}},i=(t,e)=>{class r{constructor(e){this.name="MessageInfo",this.ctxPtr=void 0===e?t._vscf_message_info_new():e}static newAndUseCContext(e){return new r(t._vscf_message_info_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_message_info_delete(this.ctxPtr),this.ctxPtr=null)}dataEncryptionAlgInfo(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_message_info_data_encryption_alg_info(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}keyRecipientInfoList(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_message_info_key_recipient_info_list(this.ctxPtr),e.KeyRecipientInfoList.newAndUseCContext(r)}passwordRecipientInfoList(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_message_info_password_recipient_info_list(this.ctxPtr),e.PasswordRecipientInfoList.newAndUseCContext(r)}hasCustomParams(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_message_info_has_custom_params(this.ctxPtr),!!e}customParams(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_message_info_custom_params(this.ctxPtr),e.MessageInfoCustomParams.newAndUseCContext(r)}hasCipherKdfAlgInfo(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_message_info_has_cipher_kdf_alg_info(this.ctxPtr),!!e}cipherKdfAlgInfo(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_message_info_cipher_kdf_alg_info(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}hasCipherPaddingAlgInfo(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_message_info_has_cipher_padding_alg_info(this.ctxPtr),!!e}cipherPaddingAlgInfo(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_message_info_cipher_padding_alg_info(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}hasFooterInfo(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_message_info_has_footer_info(this.ctxPtr),!!e}footerInfo(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_message_info_footer_info(this.ctxPtr),e.FooterInfo.newAndUseCContext(r)}clear(){a.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_message_info_clear(this.ctxPtr)}}return r},o=(t,e)=>{class r{constructor(e){this.name="KeyRecipientInfo",this.ctxPtr=void 0===e?t._vscf_key_recipient_info_new():e}static newAndUseCContext(e){return new r(t._vscf_key_recipient_info_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_key_recipient_info_delete(this.ctxPtr),this.ctxPtr=null)}static newWithData(n,s,_){a.ensureByteArray("recipientId",n),a.ensureImplementInterface("keyEncryptionAlgorithm",s,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface),a.ensureByteArray("encryptedKey",_);const c=n.length*n.BYTES_PER_ELEMENT,i=t._malloc(c);t.HEAP8.set(n,i);const o=t._vsc_data_ctx_size(),l=t._malloc(o);t._vsc_data(l,i,c);const u=_.length*_.BYTES_PER_ELEMENT,f=t._malloc(u);t.HEAP8.set(_,f);const d=t._vsc_data_ctx_size(),p=t._malloc(d);let h;t._vsc_data(p,f,u);try{return h=t._vscf_key_recipient_info_new_with_data(l,s.ctxPtr,p),r.newAndTakeCContext(h)}finally{t._free(i),t._free(l),t._free(f),t._free(p)}}recipientId(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const e=t._vsc_data_ctx_size(),r=t._malloc(e);try{t._vscf_key_recipient_info_recipient_id(r,this.ctxPtr);const e=t._vsc_data_len(r),n=t._vsc_data_bytes(r);return t.HEAPU8.slice(n,n+e)}finally{t._free(r)}}keyEncryptionAlgorithm(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_key_recipient_info_key_encryption_algorithm(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}encryptedKey(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const e=t._vsc_data_ctx_size(),r=t._malloc(e);try{t._vscf_key_recipient_info_encrypted_key(r,this.ctxPtr);const e=t._vsc_data_len(r),n=t._vsc_data_bytes(r);return t.HEAPU8.slice(n,n+e)}finally{t._free(r)}}}return r},l=(t,e)=>{class r{constructor(e){this.name="KeyRecipientInfoList",this.ctxPtr=void 0===e?t._vscf_key_recipient_info_list_new():e}static newAndUseCContext(e){return new r(t._vscf_key_recipient_info_list_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_key_recipient_info_list_delete(this.ctxPtr),this.ctxPtr=null)}hasItem(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_key_recipient_info_list_has_item(this.ctxPtr),!!e}item(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_key_recipient_info_list_item(this.ctxPtr),e.KeyRecipientInfo.newAndUseCContext(r)}hasNext(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_key_recipient_info_list_has_next(this.ctxPtr),!!e}next(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_key_recipient_info_list_next(this.ctxPtr),r.newAndUseCContext(e)}hasPrev(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_key_recipient_info_list_has_prev(this.ctxPtr),!!e}prev(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_key_recipient_info_list_prev(this.ctxPtr),r.newAndUseCContext(e)}clear(){a.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_key_recipient_info_list_clear(this.ctxPtr)}}return r},u=(t,e)=>{class r{constructor(e){this.name="PasswordRecipientInfo",this.ctxPtr=void 0===e?t._vscf_password_recipient_info_new():e}static newAndUseCContext(e){return new r(t._vscf_password_recipient_info_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_password_recipient_info_delete(this.ctxPtr),this.ctxPtr=null)}static newWithMembers(n,s){a.ensureImplementInterface("keyEncryptionAlgorithm",n,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface),a.ensureByteArray("encryptedKey",s);const _=s.length*s.BYTES_PER_ELEMENT,c=t._malloc(_);t.HEAP8.set(s,c);const i=t._vsc_data_ctx_size(),o=t._malloc(i);let l;t._vsc_data(o,c,_);try{return l=t._vscf_password_recipient_info_new_with_members(n.ctxPtr,o),r.newAndTakeCContext(l)}finally{t._free(c),t._free(o)}}keyEncryptionAlgorithm(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_password_recipient_info_key_encryption_algorithm(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}encryptedKey(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const e=t._vsc_data_ctx_size(),r=t._malloc(e);try{t._vscf_password_recipient_info_encrypted_key(r,this.ctxPtr);const e=t._vsc_data_len(r),n=t._vsc_data_bytes(r);return t.HEAPU8.slice(n,n+e)}finally{t._free(r)}}}return r},f=(t,e)=>{class r{constructor(e){this.name="PasswordRecipientInfoList",this.ctxPtr=void 0===e?t._vscf_password_recipient_info_list_new():e}static newAndUseCContext(e){return new r(t._vscf_password_recipient_info_list_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_password_recipient_info_list_delete(this.ctxPtr),this.ctxPtr=null)}hasItem(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_password_recipient_info_list_has_item(this.ctxPtr),!!e}item(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_password_recipient_info_list_item(this.ctxPtr),e.PasswordRecipientInfo.newAndUseCContext(r)}hasNext(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_password_recipient_info_list_has_next(this.ctxPtr),!!e}next(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_password_recipient_info_list_next(this.ctxPtr),r.newAndUseCContext(e)}hasPrev(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_password_recipient_info_list_has_prev(this.ctxPtr),!!e}prev(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_password_recipient_info_list_prev(this.ctxPtr),r.newAndUseCContext(e)}clear(){a.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_password_recipient_info_list_clear(this.ctxPtr)}}return r},d=(t,e)=>{class r{constructor(e){this.name="Ecies",this.ctxPtr=void 0===e?t._vscf_ecies_new():e}static newAndUseCContext(e){return new r(t._vscf_ecies_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_ecies_delete(this.ctxPtr),this.ctxPtr=null)}set random(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("random",r,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface),t._vscf_ecies_release_random(this.ctxPtr),t._vscf_ecies_use_random(this.ctxPtr,r.ctxPtr)}set cipher(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("cipher",r,"Foundation.Cipher",e.FoundationInterfaceTag.CIPHER,e.FoundationInterface),t._vscf_ecies_release_cipher(this.ctxPtr),t._vscf_ecies_use_cipher(this.ctxPtr,r.ctxPtr)}set mac(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("mac",r,"Foundation.Mac",e.FoundationInterfaceTag.MAC,e.FoundationInterface),t._vscf_ecies_release_mac(this.ctxPtr),t._vscf_ecies_use_mac(this.ctxPtr,r.ctxPtr)}set kdf(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("kdf",r,"Foundation.Kdf",e.FoundationInterfaceTag.KDF,e.FoundationInterface),t._vscf_ecies_release_kdf(this.ctxPtr),t._vscf_ecies_use_kdf(this.ctxPtr,r.ctxPtr)}set ephemeralKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("ephemeralKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),t._vscf_ecies_release_ephemeral_key(this.ctxPtr),t._vscf_ecies_use_ephemeral_key(this.ctxPtr,r.ctxPtr)}setKeyAlg(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("keyAlg",r,"Foundation.KeyAlg",e.FoundationInterfaceTag.KEY_ALG,e.FoundationInterface),t._vscf_ecies_set_key_alg(this.ctxPtr,r.ctxPtr)}releaseKeyAlg(){a.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_ecies_release_key_alg(this.ctxPtr)}setupDefaults(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_ecies_setup_defaults(this.ctxPtr);e.FoundationError.handleStatusCode(r)}setupDefaultsNoRandom(){a.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_ecies_setup_defaults_no_random(this.ctxPtr)}encryptedLen(r,n){let s;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),a.ensureNumber("dataLen",n),s=t._vscf_ecies_encrypted_len(this.ctxPtr,r.ctxPtr,n),s}encrypt(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),a.ensureByteArray("data",n);const s=n.length*n.BYTES_PER_ELEMENT,_=t._malloc(s);t.HEAP8.set(n,_);const c=t._vsc_data_ctx_size(),i=t._malloc(c);t._vsc_data(i,_,s);const o=this.encryptedLen(r,n.length),l=t._vsc_buffer_new_with_capacity(o);try{const n=t._vscf_ecies_encrypt(this.ctxPtr,r.ctxPtr,i,l);e.FoundationError.handleStatusCode(n);const s=t._vsc_buffer_bytes(l),c=t._vsc_buffer_len(l);return t.HEAPU8.slice(s,s+c)}finally{t._free(_),t._free(i),t._vsc_buffer_delete(l)}}decryptedLen(r,n){let s;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),a.ensureNumber("dataLen",n),s=t._vscf_ecies_decrypted_len(this.ctxPtr,r.ctxPtr,n),s}decrypt(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),a.ensureByteArray("data",n);const s=n.length*n.BYTES_PER_ELEMENT,_=t._malloc(s);t.HEAP8.set(n,_);const c=t._vsc_data_ctx_size(),i=t._malloc(c);t._vsc_data(i,_,s);const o=this.decryptedLen(r,n.length),l=t._vsc_buffer_new_with_capacity(o);try{const n=t._vscf_ecies_decrypt(this.ctxPtr,r.ctxPtr,i,l);e.FoundationError.handleStatusCode(n);const s=t._vsc_buffer_bytes(l),c=t._vsc_buffer_len(l);return t.HEAPU8.slice(s,s+c)}finally{t._free(_),t._free(i),t._vsc_buffer_delete(l)}}}return r},p=(t,e)=>{class r{constructor(e){this.name="RecipientCipher",this.ctxPtr=void 0===e?t._vscf_recipient_cipher_new():e}static newAndUseCContext(e){return new r(t._vscf_recipient_cipher_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_recipient_cipher_delete(this.ctxPtr),this.ctxPtr=null)}set random(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("random",r,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface),t._vscf_recipient_cipher_release_random(this.ctxPtr),t._vscf_recipient_cipher_use_random(this.ctxPtr,r.ctxPtr)}set encryptionCipher(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("encryptionCipher",r,"Foundation.Cipher",e.FoundationInterfaceTag.CIPHER,e.FoundationInterface),t._vscf_recipient_cipher_release_encryption_cipher(this.ctxPtr),t._vscf_recipient_cipher_use_encryption_cipher(this.ctxPtr,r.ctxPtr)}set encryptionPadding(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("encryptionPadding",r,"Foundation.Padding",e.FoundationInterfaceTag.PADDING,e.FoundationInterface),t._vscf_recipient_cipher_release_encryption_padding(this.ctxPtr),t._vscf_recipient_cipher_use_encryption_padding(this.ctxPtr,r.ctxPtr)}set paddingParams(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureClass("paddingParams",r,e.PaddingParams),t._vscf_recipient_cipher_release_padding_params(this.ctxPtr),t._vscf_recipient_cipher_use_padding_params(this.ctxPtr,r.ctxPtr)}set signerHash(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("signerHash",r,"Foundation.Hash",e.FoundationInterfaceTag.HASH,e.FoundationInterface),t._vscf_recipient_cipher_release_signer_hash(this.ctxPtr),t._vscf_recipient_cipher_use_signer_hash(this.ctxPtr,r.ctxPtr)}hasKeyRecipient(e){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("recipientId",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const s=t._vsc_data_ctx_size(),_=t._malloc(s);let c;t._vsc_data(_,n,r);try{return c=t._vscf_recipient_cipher_has_key_recipient(this.ctxPtr,_),!!c}finally{t._free(n),t._free(_)}}addKeyRecipient(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("recipientId",r),a.ensureImplementInterface("publicKey",n,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface);const s=r.length*r.BYTES_PER_ELEMENT,_=t._malloc(s);t.HEAP8.set(r,_);const c=t._vsc_data_ctx_size(),i=t._malloc(c);t._vsc_data(i,_,s);try{t._vscf_recipient_cipher_add_key_recipient(this.ctxPtr,i,n.ctxPtr)}finally{t._free(_),t._free(i)}}clearRecipients(){a.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_recipient_cipher_clear_recipients(this.ctxPtr)}addSigner(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("signerId",r),a.ensureImplementInterface("privateKey",n,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const s=r.length*r.BYTES_PER_ELEMENT,_=t._malloc(s);t.HEAP8.set(r,_);const c=t._vsc_data_ctx_size(),i=t._malloc(c);t._vsc_data(i,_,s);try{const r=t._vscf_recipient_cipher_add_signer(this.ctxPtr,i,n.ctxPtr);e.FoundationError.handleStatusCode(r)}finally{t._free(_),t._free(i)}}clearSigners(){a.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_recipient_cipher_clear_signers(this.ctxPtr)}customParams(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_recipient_cipher_custom_params(this.ctxPtr),e.MessageInfoCustomParams.newAndUseCContext(r)}startEncryption(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_recipient_cipher_start_encryption(this.ctxPtr);e.FoundationError.handleStatusCode(r)}startSignedEncryption(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("dataSize",r);const n=t._vscf_recipient_cipher_start_signed_encryption(this.ctxPtr,r);e.FoundationError.handleStatusCode(n)}messageInfoLen(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_recipient_cipher_message_info_len(this.ctxPtr),e}packMessageInfo(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const e=this.messageInfoLen(),r=t._vsc_buffer_new_with_capacity(e);try{t._vscf_recipient_cipher_pack_message_info(this.ctxPtr,r);const e=t._vsc_buffer_bytes(r),n=t._vsc_buffer_len(r);return t.HEAPU8.slice(e,e+n)}finally{t._vsc_buffer_delete(r)}}encryptionOutLen(e){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("dataLen",e),r=t._vscf_recipient_cipher_encryption_out_len(this.ctxPtr,e),r}processEncryption(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("data",r);const n=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(n);t.HEAP8.set(r,s);const _=t._vsc_data_ctx_size(),c=t._malloc(_);t._vsc_data(c,s,n);const i=this.encryptionOutLen(r.length),o=t._vsc_buffer_new_with_capacity(i);try{const r=t._vscf_recipient_cipher_process_encryption(this.ctxPtr,c,o);e.FoundationError.handleStatusCode(r);const n=t._vsc_buffer_bytes(o),_=t._vsc_buffer_len(o);return t.HEAPU8.slice(n,n+_)}finally{t._free(s),t._free(c),t._vsc_buffer_delete(o)}}finishEncryption(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=this.encryptionOutLen(0),n=t._vsc_buffer_new_with_capacity(r);try{const r=t._vscf_recipient_cipher_finish_encryption(this.ctxPtr,n);e.FoundationError.handleStatusCode(r);const s=t._vsc_buffer_bytes(n),_=t._vsc_buffer_len(n);return t.HEAPU8.slice(s,s+_)}finally{t._vsc_buffer_delete(n)}}startDecryptionWithKey(r,n,s){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("recipientId",r),a.ensureImplementInterface("privateKey",n,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),a.ensureByteArray("messageInfo",s);const _=r.length*r.BYTES_PER_ELEMENT,c=t._malloc(_);t.HEAP8.set(r,c);const i=t._vsc_data_ctx_size(),o=t._malloc(i);t._vsc_data(o,c,_);const l=s.length*s.BYTES_PER_ELEMENT,u=t._malloc(l);t.HEAP8.set(s,u);const f=t._vsc_data_ctx_size(),d=t._malloc(f);t._vsc_data(d,u,l);try{const r=t._vscf_recipient_cipher_start_decryption_with_key(this.ctxPtr,o,n.ctxPtr,d);e.FoundationError.handleStatusCode(r)}finally{t._free(c),t._free(o),t._free(u),t._free(d)}}startVerifiedDecryptionWithKey(r,n,s,_){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("recipientId",r),a.ensureImplementInterface("privateKey",n,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),a.ensureByteArray("messageInfo",s),a.ensureByteArray("messageInfoFooter",_);const c=r.length*r.BYTES_PER_ELEMENT,i=t._malloc(c);t.HEAP8.set(r,i);const o=t._vsc_data_ctx_size(),l=t._malloc(o);t._vsc_data(l,i,c);const u=s.length*s.BYTES_PER_ELEMENT,f=t._malloc(u);t.HEAP8.set(s,f);const d=t._vsc_data_ctx_size(),p=t._malloc(d);t._vsc_data(p,f,u);const h=_.length*_.BYTES_PER_ELEMENT,y=t._malloc(h);t.HEAP8.set(_,y);const v=t._vsc_data_ctx_size(),P=t._malloc(v);t._vsc_data(P,y,h);try{const r=t._vscf_recipient_cipher_start_verified_decryption_with_key(this.ctxPtr,l,n.ctxPtr,p,P);e.FoundationError.handleStatusCode(r)}finally{t._free(i),t._free(l),t._free(f),t._free(p),t._free(y),t._free(P)}}decryptionOutLen(e){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("dataLen",e),r=t._vscf_recipient_cipher_decryption_out_len(this.ctxPtr,e),r}processDecryption(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("data",r);const n=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(n);t.HEAP8.set(r,s);const _=t._vsc_data_ctx_size(),c=t._malloc(_);t._vsc_data(c,s,n);const i=this.decryptionOutLen(r.length),o=t._vsc_buffer_new_with_capacity(i);try{const r=t._vscf_recipient_cipher_process_decryption(this.ctxPtr,c,o);e.FoundationError.handleStatusCode(r);const n=t._vsc_buffer_bytes(o),_=t._vsc_buffer_len(o);return t.HEAPU8.slice(n,n+_)}finally{t._free(s),t._free(c),t._vsc_buffer_delete(o)}}finishDecryption(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=this.decryptionOutLen(0),n=t._vsc_buffer_new_with_capacity(r);try{const r=t._vscf_recipient_cipher_finish_decryption(this.ctxPtr,n);e.FoundationError.handleStatusCode(r);const s=t._vsc_buffer_bytes(n),_=t._vsc_buffer_len(n);return t.HEAPU8.slice(s,s+_)}finally{t._vsc_buffer_delete(n)}}isDataSigned(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_recipient_cipher_is_data_signed(this.ctxPtr),!!e}signerInfos(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_recipient_cipher_signer_infos(this.ctxPtr),e.SignerInfoList.newAndUseCContext(r)}verifySignerInfo(r,n){let s;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureClass("signerInfo",r,e.SignerInfo),a.ensureImplementInterface("publicKey",n,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),s=t._vscf_recipient_cipher_verify_signer_info(this.ctxPtr,r.ctxPtr,n.ctxPtr),!!s}messageInfoFooterLen(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_recipient_cipher_message_info_footer_len(this.ctxPtr),e}packMessageInfoFooter(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=this.messageInfoFooterLen(),n=t._vsc_buffer_new_with_capacity(r);try{const r=t._vscf_recipient_cipher_pack_message_info_footer(this.ctxPtr,n);e.FoundationError.handleStatusCode(r);const s=t._vsc_buffer_bytes(n),_=t._vsc_buffer_len(n);return t.HEAPU8.slice(s,s+_)}finally{t._vsc_buffer_delete(n)}}}return r},h=(t,e)=>{class r{constructor(e){this.name="MessageInfoCustomParams",this.ctxPtr=void 0===e?t._vscf_message_info_custom_params_new():e}static newAndUseCContext(e){return new r(t._vscf_message_info_custom_params_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_message_info_custom_params_delete(this.ctxPtr),this.ctxPtr=null)}addInt(e,r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("key",e),a.ensureNumber("value",r);const n=e.length*e.BYTES_PER_ELEMENT,s=t._malloc(n);t.HEAP8.set(e,s);const _=t._vsc_data_ctx_size(),c=t._malloc(_);t._vsc_data(c,s,n);try{t._vscf_message_info_custom_params_add_int(this.ctxPtr,c,r)}finally{t._free(s),t._free(c)}}addString(e,r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("key",e),a.ensureByteArray("value",r);const n=e.length*e.BYTES_PER_ELEMENT,s=t._malloc(n);t.HEAP8.set(e,s);const _=t._vsc_data_ctx_size(),c=t._malloc(_);t._vsc_data(c,s,n);const i=r.length*r.BYTES_PER_ELEMENT,o=t._malloc(i);t.HEAP8.set(r,o);const l=t._vsc_data_ctx_size(),u=t._malloc(l);t._vsc_data(u,o,i);try{t._vscf_message_info_custom_params_add_string(this.ctxPtr,c,u)}finally{t._free(s),t._free(c),t._free(o),t._free(u)}}addData(e,r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("key",e),a.ensureByteArray("value",r);const n=e.length*e.BYTES_PER_ELEMENT,s=t._malloc(n);t.HEAP8.set(e,s);const _=t._vsc_data_ctx_size(),c=t._malloc(_);t._vsc_data(c,s,n);const i=r.length*r.BYTES_PER_ELEMENT,o=t._malloc(i);t.HEAP8.set(r,o);const l=t._vsc_data_ctx_size(),u=t._malloc(l);t._vsc_data(u,o,i);try{t._vscf_message_info_custom_params_add_data(this.ctxPtr,c,u)}finally{t._free(s),t._free(c),t._free(o),t._free(u)}}clear(){a.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_message_info_custom_params_clear(this.ctxPtr)}findInt(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("key",r);const n=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(n);t.HEAP8.set(r,s);const _=t._vsc_data_ctx_size(),c=t._malloc(_);t._vsc_data(c,s,n);const i=t._vscf_error_ctx_size(),o=t._malloc(i);let l;t._vscf_error_reset(o);try{l=t._vscf_message_info_custom_params_find_int(this.ctxPtr,c,o);const r=t._vscf_error_status(o);return e.FoundationError.handleStatusCode(r),l}finally{t._free(s),t._free(c),t._free(o)}}findString(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("key",r);const n=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(n);t.HEAP8.set(r,s);const _=t._vsc_data_ctx_size(),c=t._malloc(_);t._vsc_data(c,s,n);const i=t._vscf_error_ctx_size(),o=t._malloc(i);t._vscf_error_reset(o);const l=t._vsc_data_ctx_size(),u=t._malloc(l);try{t._vscf_message_info_custom_params_find_string(u,this.ctxPtr,c,o);const r=t._vscf_error_status(o);e.FoundationError.handleStatusCode(r);const n=t._vsc_data_len(u),_=t._vsc_data_bytes(u);return t.HEAPU8.slice(_,_+n)}finally{t._free(s),t._free(c),t._free(o),t._free(u)}}findData(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("key",r);const n=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(n);t.HEAP8.set(r,s);const _=t._vsc_data_ctx_size(),c=t._malloc(_);t._vsc_data(c,s,n);const i=t._vscf_error_ctx_size(),o=t._malloc(i);t._vscf_error_reset(o);const l=t._vsc_data_ctx_size(),u=t._malloc(l);try{t._vscf_message_info_custom_params_find_data(u,this.ctxPtr,c,o);const r=t._vscf_error_status(o);e.FoundationError.handleStatusCode(r);const n=t._vsc_data_len(u),_=t._vsc_data_bytes(u);return t.HEAPU8.slice(_,_+n)}finally{t._free(s),t._free(c),t._free(o),t._free(u)}}hasParams(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_message_info_custom_params_has_params(this.ctxPtr),!!e}}return r},y=(t,e)=>{class r{constructor(e){this.name="KeyProvider",this.ctxPtr=void 0===e?t._vscf_key_provider_new():e}static newAndUseCContext(e){return new r(t._vscf_key_provider_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_key_provider_delete(this.ctxPtr),this.ctxPtr=null)}set random(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("random",r,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface),t._vscf_key_provider_release_random(this.ctxPtr),t._vscf_key_provider_use_random(this.ctxPtr,r.ctxPtr)}setupDefaults(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_key_provider_setup_defaults(this.ctxPtr);e.FoundationError.handleStatusCode(r)}setRsaParams(e){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("bitlen",e),t._vscf_key_provider_set_rsa_params(this.ctxPtr,e)}generatePrivateKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("algId",r);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_key_provider_generate_private_key(this.ctxPtr,r,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(_)}finally{t._free(s)}}generatePostQuantumPrivateKey(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_error_ctx_size(),n=t._malloc(r);let s;t._vscf_error_reset(n);try{s=t._vscf_key_provider_generate_post_quantum_private_key(this.ctxPtr,n);const r=t._vscf_error_status(n);return e.FoundationError.handleStatusCode(r),e.FoundationInterface.newAndTakeCContext(s)}finally{t._free(n)}}generateCompoundPrivateKey(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("cipherAlgId",r),a.ensureNumber("signerAlgId",n);const s=t._vscf_error_ctx_size(),_=t._malloc(s);let c;t._vscf_error_reset(_);try{c=t._vscf_key_provider_generate_compound_private_key(this.ctxPtr,r,n,_);const s=t._vscf_error_status(_);return e.FoundationError.handleStatusCode(s),e.FoundationInterface.newAndTakeCContext(c)}finally{t._free(_)}}generateHybridPrivateKey(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("firstKeyAlgId",r),a.ensureNumber("secondKeyAlgId",n);const s=t._vscf_error_ctx_size(),_=t._malloc(s);let c;t._vscf_error_reset(_);try{c=t._vscf_key_provider_generate_hybrid_private_key(this.ctxPtr,r,n,_);const s=t._vscf_error_status(_);return e.FoundationError.handleStatusCode(s),e.FoundationInterface.newAndTakeCContext(c)}finally{t._free(_)}}generateCompoundHybridPrivateKey(r,n,s,_){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("cipherFirstKeyAlgId",r),a.ensureNumber("cipherSecondKeyAlgId",n),a.ensureNumber("signerFirstKeyAlgId",s),a.ensureNumber("signerSecondKeyAlgId",_);const c=t._vscf_error_ctx_size(),i=t._malloc(c);let o;t._vscf_error_reset(i);try{o=t._vscf_key_provider_generate_compound_hybrid_private_key(this.ctxPtr,r,n,s,_,i);const c=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(c),e.FoundationInterface.newAndTakeCContext(o)}finally{t._free(i)}}importPrivateKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("keyData",r);const n=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(n);t.HEAP8.set(r,s);const _=t._vsc_data_ctx_size(),c=t._malloc(_);t._vsc_data(c,s,n);const i=t._vscf_error_ctx_size(),o=t._malloc(i);let l;t._vscf_error_reset(o);try{l=t._vscf_key_provider_import_private_key(this.ctxPtr,c,o);const r=t._vscf_error_status(o);return e.FoundationError.handleStatusCode(r),e.FoundationInterface.newAndTakeCContext(l)}finally{t._free(s),t._free(c),t._free(o)}}importPublicKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("keyData",r);const n=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(n);t.HEAP8.set(r,s);const _=t._vsc_data_ctx_size(),c=t._malloc(_);t._vsc_data(c,s,n);const i=t._vscf_error_ctx_size(),o=t._malloc(i);let l;t._vscf_error_reset(o);try{l=t._vscf_key_provider_import_public_key(this.ctxPtr,c,o);const r=t._vscf_error_status(o);return e.FoundationError.handleStatusCode(r),e.FoundationInterface.newAndTakeCContext(l)}finally{t._free(s),t._free(c),t._free(o)}}exportedPublicKeyLen(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),n=t._vscf_key_provider_exported_public_key_len(this.ctxPtr,r.ctxPtr),n}exportPublicKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface);const n=this.exportedPublicKeyLen(r),s=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_key_provider_export_public_key(this.ctxPtr,r.ctxPtr,s);e.FoundationError.handleStatusCode(n);const _=t._vsc_buffer_bytes(s),c=t._vsc_buffer_len(s);return t.HEAPU8.slice(_,_+c)}finally{t._vsc_buffer_delete(s)}}exportedPrivateKeyLen(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),n=t._vscf_key_provider_exported_private_key_len(this.ctxPtr,r.ctxPtr),n}exportPrivateKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const n=this.exportedPrivateKeyLen(r),s=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_key_provider_export_private_key(this.ctxPtr,r.ctxPtr,s);e.FoundationError.handleStatusCode(n);const _=t._vsc_buffer_bytes(s),c=t._vsc_buffer_len(s);return t.HEAPU8.slice(_,_+c)}finally{t._vsc_buffer_delete(s)}}}return r},v=(t,e)=>{class r{constructor(e){this.name="Signer",this.ctxPtr=void 0===e?t._vscf_signer_new():e}static newAndUseCContext(e){return new r(t._vscf_signer_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_signer_delete(this.ctxPtr),this.ctxPtr=null)}set hash(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("hash",r,"Foundation.Hash",e.FoundationInterfaceTag.HASH,e.FoundationInterface),t._vscf_signer_release_hash(this.ctxPtr),t._vscf_signer_use_hash(this.ctxPtr,r.ctxPtr)}set random(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("random",r,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface),t._vscf_signer_release_random(this.ctxPtr),t._vscf_signer_use_random(this.ctxPtr,r.ctxPtr)}reset(){a.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_signer_reset(this.ctxPtr)}appendData(e){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("data",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const s=t._vsc_data_ctx_size(),_=t._malloc(s);t._vsc_data(_,n,r);try{t._vscf_signer_append_data(this.ctxPtr,_)}finally{t._free(n),t._free(_)}}signatureLen(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),n=t._vscf_signer_signature_len(this.ctxPtr,r.ctxPtr),n}sign(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const n=this.signatureLen(r),s=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_signer_sign(this.ctxPtr,r.ctxPtr,s);e.FoundationError.handleStatusCode(n);const _=t._vsc_buffer_bytes(s),c=t._vsc_buffer_len(s);return t.HEAPU8.slice(_,_+c)}finally{t._vsc_buffer_delete(s)}}}return r},P=(t,e)=>{class r{constructor(e){this.name="Verifier",this.ctxPtr=void 0===e?t._vscf_verifier_new():e}static newAndUseCContext(e){return new r(t._vscf_verifier_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_verifier_delete(this.ctxPtr),this.ctxPtr=null)}reset(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("signature",r);const n=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(n);t.HEAP8.set(r,s);const _=t._vsc_data_ctx_size(),c=t._malloc(_);t._vsc_data(c,s,n);try{const r=t._vscf_verifier_reset(this.ctxPtr,c);e.FoundationError.handleStatusCode(r)}finally{t._free(s),t._free(c)}}appendData(e){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("data",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const s=t._vsc_data_ctx_size(),_=t._malloc(s);t._vsc_data(_,n,r);try{t._vscf_verifier_append_data(this.ctxPtr,_)}finally{t._free(n),t._free(_)}}verify(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),n=t._vscf_verifier_verify(this.ctxPtr,r.ctxPtr),!!n}}return r},m=(t,e)=>{class r{static get POINT_LEN(){return 65}get POINT_LEN(){return r.POINT_LEN}static get MPI_LEN(){return 32}get MPI_LEN(){return r.MPI_LEN}static get SEED_LEN(){return 32}get SEED_LEN(){return r.SEED_LEN}static get MAX_PASSWORD_LEN(){return 128}get MAX_PASSWORD_LEN(){return r.MAX_PASSWORD_LEN}static get MAX_KEY_NAME_LEN(){return 128}get MAX_KEY_NAME_LEN(){return r.MAX_KEY_NAME_LEN}constructor(e){this.name="BrainkeyClient",this.ctxPtr=void 0===e?t._vscf_brainkey_client_new():e}static newAndUseCContext(e){return new r(t._vscf_brainkey_client_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_brainkey_client_delete(this.ctxPtr),this.ctxPtr=null)}set random(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("random",r,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface),t._vscf_brainkey_client_release_random(this.ctxPtr),t._vscf_brainkey_client_use_random(this.ctxPtr,r.ctxPtr)}set operationRandom(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("operationRandom",r,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface),t._vscf_brainkey_client_release_operation_random(this.ctxPtr),t._vscf_brainkey_client_use_operation_random(this.ctxPtr,r.ctxPtr)}setupDefaults(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_brainkey_client_setup_defaults(this.ctxPtr);e.FoundationError.handleStatusCode(r)}blind(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("password",r);const n=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(n);t.HEAP8.set(r,s);const _=t._vsc_data_ctx_size(),c=t._malloc(_);t._vsc_data(c,s,n);const i=e.BrainkeyClient.MPI_LEN,o=t._vsc_buffer_new_with_capacity(i),l=e.BrainkeyClient.POINT_LEN,u=t._vsc_buffer_new_with_capacity(l);try{const r=t._vscf_brainkey_client_blind(this.ctxPtr,c,o,u);e.FoundationError.handleStatusCode(r);const n=t._vsc_buffer_bytes(o),_=t._vsc_buffer_len(o),a=t.HEAPU8.slice(n,n+_),i=t._vsc_buffer_bytes(u),l=t._vsc_buffer_len(u);return{deblindFactor:a,blindedPoint:t.HEAPU8.slice(i,i+l)}}finally{t._free(s),t._free(c),t._vsc_buffer_delete(o),t._vsc_buffer_delete(u)}}deblind(r,n,s,_){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("password",r),a.ensureByteArray("hardenedPoint",n),a.ensureByteArray("deblindFactor",s),a.ensureByteArray("keyName",_);const c=r.length*r.BYTES_PER_ELEMENT,i=t._malloc(c);t.HEAP8.set(r,i);const o=t._vsc_data_ctx_size(),l=t._malloc(o);t._vsc_data(l,i,c);const u=n.length*n.BYTES_PER_ELEMENT,f=t._malloc(u);t.HEAP8.set(n,f);const d=t._vsc_data_ctx_size(),p=t._malloc(d);t._vsc_data(p,f,u);const h=s.length*s.BYTES_PER_ELEMENT,y=t._malloc(h);t.HEAP8.set(s,y);const v=t._vsc_data_ctx_size(),P=t._malloc(v);t._vsc_data(P,y,h);const m=_.length*_.BYTES_PER_ELEMENT,x=t._malloc(m);t.HEAP8.set(_,x);const g=t._vsc_data_ctx_size(),E=t._malloc(g);t._vsc_data(E,x,m);const I=e.BrainkeyClient.POINT_LEN,N=t._vsc_buffer_new_with_capacity(I);try{const r=t._vscf_brainkey_client_deblind(this.ctxPtr,l,p,P,E,N);e.FoundationError.handleStatusCode(r);const n=t._vsc_buffer_bytes(N),s=t._vsc_buffer_len(N);return t.HEAPU8.slice(n,n+s)}finally{t._free(i),t._free(l),t._free(f),t._free(p),t._free(y),t._free(P),t._free(x),t._free(E),t._vsc_buffer_delete(N)}}}return r},x=(t,e)=>{class r{static get POINT_LEN(){return 65}get POINT_LEN(){return r.POINT_LEN}static get MPI_LEN(){return 32}get MPI_LEN(){return r.MPI_LEN}constructor(e){this.name="BrainkeyServer",this.ctxPtr=void 0===e?t._vscf_brainkey_server_new():e}static newAndUseCContext(e){return new r(t._vscf_brainkey_server_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_brainkey_server_delete(this.ctxPtr),this.ctxPtr=null)}set random(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("random",r,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface),t._vscf_brainkey_server_release_random(this.ctxPtr),t._vscf_brainkey_server_use_random(this.ctxPtr,r.ctxPtr)}set operationRandom(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("operationRandom",r,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface),t._vscf_brainkey_server_release_operation_random(this.ctxPtr),t._vscf_brainkey_server_use_operation_random(this.ctxPtr,r.ctxPtr)}setupDefaults(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_brainkey_server_setup_defaults(this.ctxPtr);e.FoundationError.handleStatusCode(r)}generateIdentitySecret(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=e.BrainkeyServer.MPI_LEN,n=t._vsc_buffer_new_with_capacity(r);try{const r=t._vscf_brainkey_server_generate_identity_secret(this.ctxPtr,n);e.FoundationError.handleStatusCode(r);const s=t._vsc_buffer_bytes(n),_=t._vsc_buffer_len(n);return t.HEAPU8.slice(s,s+_)}finally{t._vsc_buffer_delete(n)}}harden(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("identitySecret",r),a.ensureByteArray("blindedPoint",n);const s=r.length*r.BYTES_PER_ELEMENT,_=t._malloc(s);t.HEAP8.set(r,_);const c=t._vsc_data_ctx_size(),i=t._malloc(c);t._vsc_data(i,_,s);const o=n.length*n.BYTES_PER_ELEMENT,l=t._malloc(o);t.HEAP8.set(n,l);const u=t._vsc_data_ctx_size(),f=t._malloc(u);t._vsc_data(f,l,o);const d=e.BrainkeyServer.POINT_LEN,p=t._vsc_buffer_new_with_capacity(d);try{const r=t._vscf_brainkey_server_harden(this.ctxPtr,i,f,p);e.FoundationError.handleStatusCode(r);const n=t._vsc_buffer_bytes(p),s=t._vsc_buffer_len(p);return t.HEAPU8.slice(n,n+s)}finally{t._free(_),t._free(i),t._free(l),t._free(f),t._vsc_buffer_delete(p)}}}return r},g=(t,e)=>{class r{static get MAX_MESSAGE_LEN(){return 30188}get MAX_MESSAGE_LEN(){return r.MAX_MESSAGE_LEN}static get MESSAGE_VERSION(){return 1}get MESSAGE_VERSION(){return r.MESSAGE_VERSION}constructor(e){this.name="GroupSessionMessage",this.ctxPtr=void 0===e?t._vscf_group_session_message_new():e}static newAndUseCContext(e){return new r(t._vscf_group_session_message_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_group_session_message_delete(this.ctxPtr),this.ctxPtr=null)}getType(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_group_session_message_get_type(this.ctxPtr),e}getSessionId(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const e=t._vsc_data_ctx_size(),r=t._malloc(e);try{t._vscf_group_session_message_get_session_id(r,this.ctxPtr);const e=t._vsc_data_len(r),n=t._vsc_data_bytes(r);return t.HEAPU8.slice(n,n+e)}finally{t._free(r)}}getEpoch(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_group_session_message_get_epoch(this.ctxPtr),e}serializeLen(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_group_session_message_serialize_len(this.ctxPtr),e}serialize(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const e=this.serializeLen(),r=t._vsc_buffer_new_with_capacity(e);try{t._vscf_group_session_message_serialize(this.ctxPtr,r);const e=t._vsc_buffer_bytes(r),n=t._vsc_buffer_len(r);return t.HEAPU8.slice(e,e+n)}finally{t._vsc_buffer_delete(r)}}static deserialize(n){a.ensureByteArray("input",n);const s=n.length*n.BYTES_PER_ELEMENT,_=t._malloc(s);t.HEAP8.set(n,_);const c=t._vsc_data_ctx_size(),i=t._malloc(c);t._vsc_data(i,_,s);const o=t._vscf_error_ctx_size(),l=t._malloc(o);let u;t._vscf_error_reset(l);try{u=t._vscf_group_session_message_deserialize(i,l);const n=t._vscf_error_status(l);return e.FoundationError.handleStatusCode(n),r.newAndTakeCContext(u)}finally{t._free(_),t._free(i),t._free(l)}}}return r},E=(t,e)=>{class r{constructor(e){this.name="GroupSessionTicket",this.ctxPtr=void 0===e?t._vscf_group_session_ticket_new():e}static newAndUseCContext(e){return new r(t._vscf_group_session_ticket_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_group_session_ticket_delete(this.ctxPtr),this.ctxPtr=null)}set rng(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("rng",r,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface),t._vscf_group_session_ticket_release_rng(this.ctxPtr),t._vscf_group_session_ticket_use_rng(this.ctxPtr,r.ctxPtr)}setupDefaults(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_group_session_ticket_setup_defaults(this.ctxPtr);e.FoundationError.handleStatusCode(r)}setupTicketAsNew(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("sessionId",r);const n=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(n);t.HEAP8.set(r,s);const _=t._vsc_data_ctx_size(),c=t._malloc(_);t._vsc_data(c,s,n);try{const r=t._vscf_group_session_ticket_setup_ticket_as_new(this.ctxPtr,c);e.FoundationError.handleStatusCode(r)}finally{t._free(s),t._free(c)}}getTicketMessage(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_group_session_ticket_get_ticket_message(this.ctxPtr),e.GroupSessionMessage.newAndUseCContext(r)}}return r},I=(t,e)=>{class r{static get SENDER_ID_LEN(){return 32}get SENDER_ID_LEN(){return r.SENDER_ID_LEN}static get MAX_PLAIN_TEXT_LEN(){return 3e4}get MAX_PLAIN_TEXT_LEN(){return r.MAX_PLAIN_TEXT_LEN}static get MAX_EPOCHS_COUNT(){return 50}get MAX_EPOCHS_COUNT(){return r.MAX_EPOCHS_COUNT}static get SALT_SIZE(){return 32}get SALT_SIZE(){return r.SALT_SIZE}constructor(e){this.name="GroupSession",this.ctxPtr=void 0===e?t._vscf_group_session_new():e}static newAndUseCContext(e){return new r(t._vscf_group_session_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_group_session_delete(this.ctxPtr),this.ctxPtr=null)}set rng(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("rng",r,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface),t._vscf_group_session_release_rng(this.ctxPtr),t._vscf_group_session_use_rng(this.ctxPtr,r.ctxPtr)}getCurrentEpoch(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_group_session_get_current_epoch(this.ctxPtr),e}setupDefaults(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_group_session_setup_defaults(this.ctxPtr);e.FoundationError.handleStatusCode(r)}getSessionId(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const e=t._vsc_data_ctx_size(),r=t._malloc(e);try{t._vscf_group_session_get_session_id(r,this.ctxPtr);const e=t._vsc_data_len(r),n=t._vsc_data_bytes(r);return t.HEAPU8.slice(n,n+e)}finally{t._free(r)}}addEpoch(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureClass("message",r,e.GroupSessionMessage);const n=t._vscf_group_session_add_epoch(this.ctxPtr,r.ctxPtr);e.FoundationError.handleStatusCode(n)}encrypt(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("plainText",r),a.ensureImplementInterface("privateKey",n,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const s=r.length*r.BYTES_PER_ELEMENT,_=t._malloc(s);t.HEAP8.set(r,_);const c=t._vsc_data_ctx_size(),i=t._malloc(c);t._vsc_data(i,_,s);const o=t._vscf_error_ctx_size(),l=t._malloc(o);let u;t._vscf_error_reset(l);try{u=t._vscf_group_session_encrypt(this.ctxPtr,i,n.ctxPtr,l);const r=t._vscf_error_status(l);return e.FoundationError.handleStatusCode(r),e.GroupSessionMessage.newAndTakeCContext(u)}finally{t._free(_),t._free(i),t._free(l)}}decryptLen(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureClass("message",r,e.GroupSessionMessage),n=t._vscf_group_session_decrypt_len(this.ctxPtr,r.ctxPtr),n}decrypt(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureClass("message",r,e.GroupSessionMessage),a.ensureImplementInterface("publicKey",n,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface);const s=this.decryptLen(r),_=t._vsc_buffer_new_with_capacity(s);try{const s=t._vscf_group_session_decrypt(this.ctxPtr,r.ctxPtr,n.ctxPtr,_);e.FoundationError.handleStatusCode(s);const c=t._vsc_buffer_bytes(_),a=t._vsc_buffer_len(_);return t.HEAPU8.slice(c,c+a)}finally{t._vsc_buffer_delete(_)}}createGroupTicket(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_error_ctx_size(),n=t._malloc(r);let s;t._vscf_error_reset(n);try{s=t._vscf_group_session_create_group_ticket(this.ctxPtr,n);const r=t._vscf_error_status(n);return e.FoundationError.handleStatusCode(r),e.GroupSessionTicket.newAndTakeCContext(s)}finally{t._free(n)}}}return r},N=(t,e)=>{class r{constructor(e){this.name="MessageInfoEditor",this.ctxPtr=void 0===e?t._vscf_message_info_editor_new():e}static newAndUseCContext(e){return new r(t._vscf_message_info_editor_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_message_info_editor_delete(this.ctxPtr),this.ctxPtr=null)}set random(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("random",r,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface),t._vscf_message_info_editor_release_random(this.ctxPtr),t._vscf_message_info_editor_use_random(this.ctxPtr,r.ctxPtr)}setupDefaults(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_message_info_editor_setup_defaults(this.ctxPtr);e.FoundationError.handleStatusCode(r)}unpack(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("messageInfoData",r);const n=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(n);t.HEAP8.set(r,s);const _=t._vsc_data_ctx_size(),c=t._malloc(_);t._vsc_data(c,s,n);try{const r=t._vscf_message_info_editor_unpack(this.ctxPtr,c);e.FoundationError.handleStatusCode(r)}finally{t._free(s),t._free(c)}}unlock(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("ownerRecipientId",r),a.ensureImplementInterface("ownerPrivateKey",n,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const s=r.length*r.BYTES_PER_ELEMENT,_=t._malloc(s);t.HEAP8.set(r,_);const c=t._vsc_data_ctx_size(),i=t._malloc(c);t._vsc_data(i,_,s);try{const r=t._vscf_message_info_editor_unlock(this.ctxPtr,i,n.ctxPtr);e.FoundationError.handleStatusCode(r)}finally{t._free(_),t._free(i)}}addKeyRecipient(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("recipientId",r),a.ensureImplementInterface("publicKey",n,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface);const s=r.length*r.BYTES_PER_ELEMENT,_=t._malloc(s);t.HEAP8.set(r,_);const c=t._vsc_data_ctx_size(),i=t._malloc(c);t._vsc_data(i,_,s);try{const r=t._vscf_message_info_editor_add_key_recipient(this.ctxPtr,i,n.ctxPtr);e.FoundationError.handleStatusCode(r)}finally{t._free(_),t._free(i)}}removeKeyRecipient(e){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("recipientId",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const s=t._vsc_data_ctx_size(),_=t._malloc(s);let c;t._vsc_data(_,n,r);try{return c=t._vscf_message_info_editor_remove_key_recipient(this.ctxPtr,_),!!c}finally{t._free(n),t._free(_)}}removeAll(){a.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_message_info_editor_remove_all(this.ctxPtr)}packedLen(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_message_info_editor_packed_len(this.ctxPtr),e}pack(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const e=this.packedLen(),r=t._vsc_buffer_new_with_capacity(e);try{t._vscf_message_info_editor_pack(this.ctxPtr,r);const e=t._vsc_buffer_bytes(r),n=t._vsc_buffer_len(r);return t.HEAPU8.slice(e,e+n)}finally{t._vsc_buffer_delete(r)}}}return r},w=(t,e)=>{class r{constructor(e){this.name="SignerInfo",this.ctxPtr=void 0===e?t._vscf_signer_info_new():e}static newAndUseCContext(e){return new r(t._vscf_signer_info_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_signer_info_delete(this.ctxPtr),this.ctxPtr=null)}signerId(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const e=t._vsc_data_ctx_size(),r=t._malloc(e);try{t._vscf_signer_info_signer_id(r,this.ctxPtr);const e=t._vsc_data_len(r),n=t._vsc_data_bytes(r);return t.HEAPU8.slice(n,n+e)}finally{t._free(r)}}signerAlgInfo(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_signer_info_signer_alg_info(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}signature(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const e=t._vsc_data_ctx_size(),r=t._malloc(e);try{t._vscf_signer_info_signature(r,this.ctxPtr);const e=t._vsc_data_len(r),n=t._vsc_data_bytes(r);return t.HEAPU8.slice(n,n+e)}finally{t._free(r)}}}return r},b=(t,e)=>{class r{constructor(e){this.name="SignerInfoList",this.ctxPtr=void 0===e?t._vscf_signer_info_list_new():e}static newAndUseCContext(e){return new r(t._vscf_signer_info_list_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_signer_info_list_delete(this.ctxPtr),this.ctxPtr=null)}hasItem(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_signer_info_list_has_item(this.ctxPtr),!!e}item(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_signer_info_list_item(this.ctxPtr),e.SignerInfo.newAndUseCContext(r)}hasNext(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_signer_info_list_has_next(this.ctxPtr),!!e}next(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_signer_info_list_next(this.ctxPtr),r.newAndTakeCContext(e)}hasPrev(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_signer_info_list_has_prev(this.ctxPtr),!!e}prev(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_signer_info_list_prev(this.ctxPtr),r.newAndTakeCContext(e)}clear(){a.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_signer_info_list_clear(this.ctxPtr)}}return r},A=(t,e)=>{class r{constructor(e){this.name="MessageInfoFooter",this.ctxPtr=void 0===e?t._vscf_message_info_footer_new():e}static newAndUseCContext(e){return new r(t._vscf_message_info_footer_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_message_info_footer_delete(this.ctxPtr),this.ctxPtr=null)}hasSignerInfos(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_message_info_footer_has_signer_infos(this.ctxPtr),!!e}signerInfos(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_message_info_footer_signer_infos(this.ctxPtr),e.SignerInfoList.newAndUseCContext(r)}signerHashAlgInfo(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_message_info_footer_signer_hash_alg_info(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}signerDigest(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const e=t._vsc_data_ctx_size(),r=t._malloc(e);try{t._vscf_message_info_footer_signer_digest(r,this.ctxPtr);const e=t._vsc_data_len(r),n=t._vsc_data_bytes(r);return t.HEAPU8.slice(n,n+e)}finally{t._free(r)}}}return r},k=(t,e)=>{class r{constructor(e){this.name="SignedDataInfo",this.ctxPtr=void 0===e?t._vscf_signed_data_info_new():e}static newAndUseCContext(e){return new r(t._vscf_signed_data_info_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_signed_data_info_delete(this.ctxPtr),this.ctxPtr=null)}hashAlgInfo(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_signed_data_info_hash_alg_info(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}}return r},C=(t,e)=>{class r{constructor(e){this.name="FooterInfo",this.ctxPtr=void 0===e?t._vscf_footer_info_new():e}static newAndUseCContext(e){return new r(t._vscf_footer_info_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_footer_info_delete(this.ctxPtr),this.ctxPtr=null)}hasSignedDataInfo(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_footer_info_has_signed_data_info(this.ctxPtr),!!e}signedDataInfo(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_footer_info_signed_data_info(this.ctxPtr),e.SignedDataInfo.newAndUseCContext(r)}setDataSize(e){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("dataSize",e),t._vscf_footer_info_set_data_size(this.ctxPtr,e)}dataSize(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_footer_info_data_size(this.ctxPtr),e}}return r},T=(t,e)=>{class r{constructor(e){this.name="KeyInfo",this.ctxPtr=void 0===e?t._vscf_key_info_new():e}static newAndUseCContext(e){return new r(t._vscf_key_info_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_key_info_delete(this.ctxPtr),this.ctxPtr=null)}static newWithAlgInfo(n){let s;return a.ensureImplementInterface("algInfo",n,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface),s=t._vscf_key_info_new_with_alg_info(n.ctxPtr),r.newAndTakeCContext(s)}isCompound(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_key_info_is_compound(this.ctxPtr),!!e}isHybrid(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_key_info_is_hybrid(this.ctxPtr),!!e}isCompoundHybrid(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_key_info_is_compound_hybrid(this.ctxPtr),!!e}isCompoundHybridCipher(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_key_info_is_compound_hybrid_cipher(this.ctxPtr),!!e}isCompoundHybridSigner(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_key_info_is_compound_hybrid_signer(this.ctxPtr),!!e}isHybridPostQuantum(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_key_info_is_hybrid_post_quantum(this.ctxPtr),!!e}isHybridPostQuantumCipher(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_key_info_is_hybrid_post_quantum_cipher(this.ctxPtr),!!e}isHybridPostQuantumSigner(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_key_info_is_hybrid_post_quantum_signer(this.ctxPtr),!!e}algId(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_key_info_alg_id(this.ctxPtr),e}compoundCipherAlgId(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_key_info_compound_cipher_alg_id(this.ctxPtr),e}compoundSignerAlgId(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_key_info_compound_signer_alg_id(this.ctxPtr),e}hybridFirstKeyAlgId(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_key_info_hybrid_first_key_alg_id(this.ctxPtr),e}hybridSecondKeyAlgId(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_key_info_hybrid_second_key_alg_id(this.ctxPtr),e}compoundHybridCipherFirstKeyAlgId(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_key_info_compound_hybrid_cipher_first_key_alg_id(this.ctxPtr),e}compoundHybridCipherSecondKeyAlgId(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_key_info_compound_hybrid_cipher_second_key_alg_id(this.ctxPtr),e}compoundHybridSignerFirstKeyAlgId(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_key_info_compound_hybrid_signer_first_key_alg_id(this.ctxPtr),e}compoundHybridSignerSecondKeyAlgId(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_key_info_compound_hybrid_signer_second_key_alg_id(this.ctxPtr),e}}return r},F=(t,e)=>{class r{static get DEFAULT_FRAME_MIN(){return 32}get DEFAULT_FRAME_MIN(){return r.DEFAULT_FRAME_MIN}static get DEFAULT_FRAME(){return 160}get DEFAULT_FRAME(){return r.DEFAULT_FRAME}static get DEFAULT_FRAME_MAX(){return 256}get DEFAULT_FRAME_MAX(){return r.DEFAULT_FRAME_MAX}constructor(e){this.name="PaddingParams",this.ctxPtr=void 0===e?t._vscf_padding_params_new():e}static newAndUseCContext(e){return new r(t._vscf_padding_params_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_padding_params_delete(this.ctxPtr),this.ctxPtr=null)}static newWithConstraints(e,n){let s;return a.ensureNumber("frame",e),a.ensureNumber("frameMax",n),s=t._vscf_padding_params_new_with_constraints(e,n),r.newAndTakeCContext(s)}frame(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_padding_params_frame(this.ctxPtr),e}frameMax(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_padding_params_frame_max(this.ctxPtr),e}}return r},K=(t,e)=>{class r{static get DIGEST_LEN(){return 28}get DIGEST_LEN(){return r.DIGEST_LEN}static get BLOCK_LEN(){return 64}get BLOCK_LEN(){return r.BLOCK_LEN}constructor(e){this.name="Sha224",this.ctxPtr=void 0===e?t._vscf_sha224_new():e}static newAndUseCContext(e){return new r(t._vscf_sha224_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_sha224_delete(this.ctxPtr),this.ctxPtr=null)}algId(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_sha224_alg_id(this.ctxPtr),e}produceAlgInfo(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_sha224_produce_alg_info(this.ctxPtr),e.FoundationInterface.newAndTakeCContext(r)}restoreAlgInfo(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const n=t._vscf_sha224_restore_alg_info(this.ctxPtr,r.ctxPtr);e.FoundationError.handleStatusCode(n)}hash(e){a.ensureByteArray("data",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const s=t._vsc_data_ctx_size(),_=t._malloc(s);t._vsc_data(_,n,r);const c=this.DIGEST_LEN,i=t._vsc_buffer_new_with_capacity(c);try{t._vscf_sha224_hash(_,i);const e=t._vsc_buffer_bytes(i),r=t._vsc_buffer_len(i);return t.HEAPU8.slice(e,e+r)}finally{t._free(n),t._free(_),t._vsc_buffer_delete(i)}}start(){a.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_sha224_start(this.ctxPtr)}update(e){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("data",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const s=t._vsc_data_ctx_size(),_=t._malloc(s);t._vsc_data(_,n,r);try{t._vscf_sha224_update(this.ctxPtr,_)}finally{t._free(n),t._free(_)}}finish(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const e=this.DIGEST_LEN,r=t._vsc_buffer_new_with_capacity(e);try{t._vscf_sha224_finish(this.ctxPtr,r);const e=t._vsc_buffer_bytes(r),n=t._vsc_buffer_len(r);return t.HEAPU8.slice(e,e+n)}finally{t._vsc_buffer_delete(r)}}}return r},S=(t,e)=>{class r{static get DIGEST_LEN(){return 32}get DIGEST_LEN(){return r.DIGEST_LEN}static get BLOCK_LEN(){return 64}get BLOCK_LEN(){return r.BLOCK_LEN}constructor(e){this.name="Sha256",this.ctxPtr=void 0===e?t._vscf_sha256_new():e}static newAndUseCContext(e){return new r(t._vscf_sha256_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_sha256_delete(this.ctxPtr),this.ctxPtr=null)}algId(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_sha256_alg_id(this.ctxPtr),e}produceAlgInfo(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_sha256_produce_alg_info(this.ctxPtr),e.FoundationInterface.newAndTakeCContext(r)}restoreAlgInfo(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const n=t._vscf_sha256_restore_alg_info(this.ctxPtr,r.ctxPtr);e.FoundationError.handleStatusCode(n)}hash(e){a.ensureByteArray("data",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const s=t._vsc_data_ctx_size(),_=t._malloc(s);t._vsc_data(_,n,r);const c=this.DIGEST_LEN,i=t._vsc_buffer_new_with_capacity(c);try{t._vscf_sha256_hash(_,i);const e=t._vsc_buffer_bytes(i),r=t._vsc_buffer_len(i);return t.HEAPU8.slice(e,e+r)}finally{t._free(n),t._free(_),t._vsc_buffer_delete(i)}}start(){a.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_sha256_start(this.ctxPtr)}update(e){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("data",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const s=t._vsc_data_ctx_size(),_=t._malloc(s);t._vsc_data(_,n,r);try{t._vscf_sha256_update(this.ctxPtr,_)}finally{t._free(n),t._free(_)}}finish(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const e=this.DIGEST_LEN,r=t._vsc_buffer_new_with_capacity(e);try{t._vscf_sha256_finish(this.ctxPtr,r);const e=t._vsc_buffer_bytes(r),n=t._vsc_buffer_len(r);return t.HEAPU8.slice(e,e+n)}finally{t._vsc_buffer_delete(r)}}}return r},L=(t,e)=>{class r{static get DIGEST_LEN(){return 48}get DIGEST_LEN(){return r.DIGEST_LEN}static get BLOCK_LEN(){return 128}get BLOCK_LEN(){return r.BLOCK_LEN}constructor(e){this.name="Sha384",this.ctxPtr=void 0===e?t._vscf_sha384_new():e}static newAndUseCContext(e){return new r(t._vscf_sha384_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_sha384_delete(this.ctxPtr),this.ctxPtr=null)}algId(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_sha384_alg_id(this.ctxPtr),e}produceAlgInfo(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_sha384_produce_alg_info(this.ctxPtr),e.FoundationInterface.newAndTakeCContext(r)}restoreAlgInfo(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const n=t._vscf_sha384_restore_alg_info(this.ctxPtr,r.ctxPtr);e.FoundationError.handleStatusCode(n)}hash(e){a.ensureByteArray("data",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const s=t._vsc_data_ctx_size(),_=t._malloc(s);t._vsc_data(_,n,r);const c=this.DIGEST_LEN,i=t._vsc_buffer_new_with_capacity(c);try{t._vscf_sha384_hash(_,i);const e=t._vsc_buffer_bytes(i),r=t._vsc_buffer_len(i);return t.HEAPU8.slice(e,e+r)}finally{t._free(n),t._free(_),t._vsc_buffer_delete(i)}}start(){a.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_sha384_start(this.ctxPtr)}update(e){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("data",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const s=t._vsc_data_ctx_size(),_=t._malloc(s);t._vsc_data(_,n,r);try{t._vscf_sha384_update(this.ctxPtr,_)}finally{t._free(n),t._free(_)}}finish(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const e=this.DIGEST_LEN,r=t._vsc_buffer_new_with_capacity(e);try{t._vscf_sha384_finish(this.ctxPtr,r);const e=t._vsc_buffer_bytes(r),n=t._vsc_buffer_len(r);return t.HEAPU8.slice(e,e+n)}finally{t._vsc_buffer_delete(r)}}}return r},R=(t,e)=>{class r{static get DIGEST_LEN(){return 64}get DIGEST_LEN(){return r.DIGEST_LEN}static get BLOCK_LEN(){return 128}get BLOCK_LEN(){return r.BLOCK_LEN}constructor(e){this.name="Sha512",this.ctxPtr=void 0===e?t._vscf_sha512_new():e}static newAndUseCContext(e){return new r(t._vscf_sha512_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_sha512_delete(this.ctxPtr),this.ctxPtr=null)}algId(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_sha512_alg_id(this.ctxPtr),e}produceAlgInfo(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_sha512_produce_alg_info(this.ctxPtr),e.FoundationInterface.newAndTakeCContext(r)}restoreAlgInfo(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const n=t._vscf_sha512_restore_alg_info(this.ctxPtr,r.ctxPtr);e.FoundationError.handleStatusCode(n)}hash(e){a.ensureByteArray("data",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const s=t._vsc_data_ctx_size(),_=t._malloc(s);t._vsc_data(_,n,r);const c=this.DIGEST_LEN,i=t._vsc_buffer_new_with_capacity(c);try{t._vscf_sha512_hash(_,i);const e=t._vsc_buffer_bytes(i),r=t._vsc_buffer_len(i);return t.HEAPU8.slice(e,e+r)}finally{t._free(n),t._free(_),t._vsc_buffer_delete(i)}}start(){a.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_sha512_start(this.ctxPtr)}update(e){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("data",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const s=t._vsc_data_ctx_size(),_=t._malloc(s);t._vsc_data(_,n,r);try{t._vscf_sha512_update(this.ctxPtr,_)}finally{t._free(n),t._free(_)}}finish(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const e=this.DIGEST_LEN,r=t._vsc_buffer_new_with_capacity(e);try{t._vscf_sha512_finish(this.ctxPtr,r);const e=t._vsc_buffer_bytes(r),n=t._vsc_buffer_len(r);return t.HEAPU8.slice(e,e+n)}finally{t._vsc_buffer_delete(r)}}}return r},B=(t,e)=>{class r{static get NONCE_LEN(){return 12}get NONCE_LEN(){return r.NONCE_LEN}static get KEY_LEN(){return 32}get KEY_LEN(){return r.KEY_LEN}static get KEY_BITLEN(){return 256}get KEY_BITLEN(){return r.KEY_BITLEN}static get BLOCK_LEN(){return 16}get BLOCK_LEN(){return r.BLOCK_LEN}static get AUTH_TAG_LEN(){return 16}get AUTH_TAG_LEN(){return r.AUTH_TAG_LEN}constructor(e){this.name="Aes256Gcm",this.ctxPtr=void 0===e?t._vscf_aes256_gcm_new():e}static newAndUseCContext(e){return new r(t._vscf_aes256_gcm_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_aes256_gcm_delete(this.ctxPtr),this.ctxPtr=null)}algId(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_aes256_gcm_alg_id(this.ctxPtr),e}produceAlgInfo(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_aes256_gcm_produce_alg_info(this.ctxPtr),e.FoundationInterface.newAndTakeCContext(r)}restoreAlgInfo(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const n=t._vscf_aes256_gcm_restore_alg_info(this.ctxPtr,r.ctxPtr);e.FoundationError.handleStatusCode(n)}encrypt(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("data",r);const n=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(n);t.HEAP8.set(r,s);const _=t._vsc_data_ctx_size(),c=t._malloc(_);t._vsc_data(c,s,n);const i=this.encryptedLen(r.length),o=t._vsc_buffer_new_with_capacity(i);try{const r=t._vscf_aes256_gcm_encrypt(this.ctxPtr,c,o);e.FoundationError.handleStatusCode(r);const n=t._vsc_buffer_bytes(o),_=t._vsc_buffer_len(o);return t.HEAPU8.slice(n,n+_)}finally{t._free(s),t._free(c),t._vsc_buffer_delete(o)}}encryptedLen(e){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("dataLen",e),r=t._vscf_aes256_gcm_encrypted_len(this.ctxPtr,e),r}preciseEncryptedLen(e){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("dataLen",e),r=t._vscf_aes256_gcm_precise_encrypted_len(this.ctxPtr,e),r}decrypt(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("data",r);const n=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(n);t.HEAP8.set(r,s);const _=t._vsc_data_ctx_size(),c=t._malloc(_);t._vsc_data(c,s,n);const i=this.decryptedLen(r.length),o=t._vsc_buffer_new_with_capacity(i);try{const r=t._vscf_aes256_gcm_decrypt(this.ctxPtr,c,o);e.FoundationError.handleStatusCode(r);const n=t._vsc_buffer_bytes(o),_=t._vsc_buffer_len(o);return t.HEAPU8.slice(n,n+_)}finally{t._free(s),t._free(c),t._vsc_buffer_delete(o)}}decryptedLen(e){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("dataLen",e),r=t._vscf_aes256_gcm_decrypted_len(this.ctxPtr,e),r}setNonce(e){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("nonce",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const s=t._vsc_data_ctx_size(),_=t._malloc(s);t._vsc_data(_,n,r);try{t._vscf_aes256_gcm_set_nonce(this.ctxPtr,_)}finally{t._free(n),t._free(_)}}setKey(e){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("key",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const s=t._vsc_data_ctx_size(),_=t._malloc(s);t._vsc_data(_,n,r);try{t._vscf_aes256_gcm_set_key(this.ctxPtr,_)}finally{t._free(n),t._free(_)}}state(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_aes256_gcm_state(this.ctxPtr),e}startEncryption(){a.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_aes256_gcm_start_encryption(this.ctxPtr)}startDecryption(){a.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_aes256_gcm_start_decryption(this.ctxPtr)}update(e){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("data",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const s=t._vsc_data_ctx_size(),_=t._malloc(s);t._vsc_data(_,n,r);const c=this.outLen(e.length),i=t._vsc_buffer_new_with_capacity(c);try{t._vscf_aes256_gcm_update(this.ctxPtr,_,i);const e=t._vsc_buffer_bytes(i),r=t._vsc_buffer_len(i);return t.HEAPU8.slice(e,e+r)}finally{t._free(n),t._free(_),t._vsc_buffer_delete(i)}}outLen(e){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("dataLen",e),r=t._vscf_aes256_gcm_out_len(this.ctxPtr,e),r}encryptedOutLen(e){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("dataLen",e),r=t._vscf_aes256_gcm_encrypted_out_len(this.ctxPtr,e),r}decryptedOutLen(e){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("dataLen",e),r=t._vscf_aes256_gcm_decrypted_out_len(this.ctxPtr,e),r}finish(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=this.outLen(0),n=t._vsc_buffer_new_with_capacity(r);try{const r=t._vscf_aes256_gcm_finish(this.ctxPtr,n);e.FoundationError.handleStatusCode(r);const s=t._vsc_buffer_bytes(n),_=t._vsc_buffer_len(n);return t.HEAPU8.slice(s,s+_)}finally{t._vsc_buffer_delete(n)}}authEncrypt(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("data",r),a.ensureByteArray("authData",n);const s=r.length*r.BYTES_PER_ELEMENT,_=t._malloc(s);t.HEAP8.set(r,_);const c=t._vsc_data_ctx_size(),i=t._malloc(c);t._vsc_data(i,_,s);const o=n.length*n.BYTES_PER_ELEMENT,l=t._malloc(o);t.HEAP8.set(n,l);const u=t._vsc_data_ctx_size(),f=t._malloc(u);t._vsc_data(f,l,o);const d=this.authEncryptedLen(r.length),p=t._vsc_buffer_new_with_capacity(d),h=this.AUTH_TAG_LEN,y=t._vsc_buffer_new_with_capacity(h);try{const r=t._vscf_aes256_gcm_auth_encrypt(this.ctxPtr,i,f,p,y);e.FoundationError.handleStatusCode(r);const n=t._vsc_buffer_bytes(p),s=t._vsc_buffer_len(p),c=t.HEAPU8.slice(n,n+s),a=t._vsc_buffer_bytes(y),o=t._vsc_buffer_len(y);return{out:c,tag:t.HEAPU8.slice(a,a+o)}}finally{t._free(_),t._free(i),t._free(l),t._free(f),t._vsc_buffer_delete(p),t._vsc_buffer_delete(y)}}authEncryptedLen(e){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("dataLen",e),r=t._vscf_aes256_gcm_auth_encrypted_len(this.ctxPtr,e),r}authDecrypt(r,n,s){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("data",r),a.ensureByteArray("authData",n),a.ensureByteArray("tag",s);const _=r.length*r.BYTES_PER_ELEMENT,c=t._malloc(_);t.HEAP8.set(r,c);const i=t._vsc_data_ctx_size(),o=t._malloc(i);t._vsc_data(o,c,_);const l=n.length*n.BYTES_PER_ELEMENT,u=t._malloc(l);t.HEAP8.set(n,u);const f=t._vsc_data_ctx_size(),d=t._malloc(f);t._vsc_data(d,u,l);const p=s.length*s.BYTES_PER_ELEMENT,h=t._malloc(p);t.HEAP8.set(s,h);const y=t._vsc_data_ctx_size(),v=t._malloc(y);t._vsc_data(v,h,p);const P=this.authDecryptedLen(r.length),m=t._vsc_buffer_new_with_capacity(P);try{const r=t._vscf_aes256_gcm_auth_decrypt(this.ctxPtr,o,d,v,m);e.FoundationError.handleStatusCode(r);const n=t._vsc_buffer_bytes(m),s=t._vsc_buffer_len(m);return t.HEAPU8.slice(n,n+s)}finally{t._free(c),t._free(o),t._free(u),t._free(d),t._free(h),t._free(v),t._vsc_buffer_delete(m)}}authDecryptedLen(e){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("dataLen",e),r=t._vscf_aes256_gcm_auth_decrypted_len(this.ctxPtr,e),r}setAuthData(e){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("authData",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const s=t._vsc_data_ctx_size(),_=t._malloc(s);t._vsc_data(_,n,r);try{t._vscf_aes256_gcm_set_auth_data(this.ctxPtr,_)}finally{t._free(n),t._free(_)}}finishAuthEncryption(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=this.outLen(0),n=t._vsc_buffer_new_with_capacity(r),s=this.AUTH_TAG_LEN,_=t._vsc_buffer_new_with_capacity(s);try{const r=t._vscf_aes256_gcm_finish_auth_encryption(this.ctxPtr,n,_);e.FoundationError.handleStatusCode(r);const s=t._vsc_buffer_bytes(n),c=t._vsc_buffer_len(n),a=t.HEAPU8.slice(s,s+c),i=t._vsc_buffer_bytes(_),o=t._vsc_buffer_len(_);return{out:a,tag:t.HEAPU8.slice(i,i+o)}}finally{t._vsc_buffer_delete(n),t._vsc_buffer_delete(_)}}finishAuthDecryption(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("tag",r);const n=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(n);t.HEAP8.set(r,s);const _=t._vsc_data_ctx_size(),c=t._malloc(_);t._vsc_data(c,s,n);const i=this.outLen(0),o=t._vsc_buffer_new_with_capacity(i);try{const r=t._vscf_aes256_gcm_finish_auth_decryption(this.ctxPtr,c,o);e.FoundationError.handleStatusCode(r);const n=t._vsc_buffer_bytes(o),_=t._vsc_buffer_len(o);return t.HEAPU8.slice(n,n+_)}finally{t._free(s),t._free(c),t._vsc_buffer_delete(o)}}}return r},z=(t,e)=>{class r{static get NONCE_LEN(){return 16}get NONCE_LEN(){return r.NONCE_LEN}static get KEY_LEN(){return 32}get KEY_LEN(){return r.KEY_LEN}static get KEY_BITLEN(){return 256}get KEY_BITLEN(){return r.KEY_BITLEN}static get BLOCK_LEN(){return 16}get BLOCK_LEN(){return r.BLOCK_LEN}constructor(e){this.name="Aes256Cbc",this.ctxPtr=void 0===e?t._vscf_aes256_cbc_new():e}static newAndUseCContext(e){return new r(t._vscf_aes256_cbc_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_aes256_cbc_delete(this.ctxPtr),this.ctxPtr=null)}algId(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_aes256_cbc_alg_id(this.ctxPtr),e}produceAlgInfo(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_aes256_cbc_produce_alg_info(this.ctxPtr),e.FoundationInterface.newAndTakeCContext(r)}restoreAlgInfo(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const n=t._vscf_aes256_cbc_restore_alg_info(this.ctxPtr,r.ctxPtr);e.FoundationError.handleStatusCode(n)}encrypt(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("data",r);const n=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(n);t.HEAP8.set(r,s);const _=t._vsc_data_ctx_size(),c=t._malloc(_);t._vsc_data(c,s,n);const i=this.encryptedLen(r.length),o=t._vsc_buffer_new_with_capacity(i);try{const r=t._vscf_aes256_cbc_encrypt(this.ctxPtr,c,o);e.FoundationError.handleStatusCode(r);const n=t._vsc_buffer_bytes(o),_=t._vsc_buffer_len(o);return t.HEAPU8.slice(n,n+_)}finally{t._free(s),t._free(c),t._vsc_buffer_delete(o)}}encryptedLen(e){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("dataLen",e),r=t._vscf_aes256_cbc_encrypted_len(this.ctxPtr,e),r}preciseEncryptedLen(e){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("dataLen",e),r=t._vscf_aes256_cbc_precise_encrypted_len(this.ctxPtr,e),r}decrypt(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("data",r);const n=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(n);t.HEAP8.set(r,s);const _=t._vsc_data_ctx_size(),c=t._malloc(_);t._vsc_data(c,s,n);const i=this.decryptedLen(r.length),o=t._vsc_buffer_new_with_capacity(i);try{const r=t._vscf_aes256_cbc_decrypt(this.ctxPtr,c,o);e.FoundationError.handleStatusCode(r);const n=t._vsc_buffer_bytes(o),_=t._vsc_buffer_len(o);return t.HEAPU8.slice(n,n+_)}finally{t._free(s),t._free(c),t._vsc_buffer_delete(o)}}decryptedLen(e){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("dataLen",e),r=t._vscf_aes256_cbc_decrypted_len(this.ctxPtr,e),r}setNonce(e){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("nonce",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const s=t._vsc_data_ctx_size(),_=t._malloc(s);t._vsc_data(_,n,r);try{t._vscf_aes256_cbc_set_nonce(this.ctxPtr,_)}finally{t._free(n),t._free(_)}}setKey(e){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("key",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const s=t._vsc_data_ctx_size(),_=t._malloc(s);t._vsc_data(_,n,r);try{t._vscf_aes256_cbc_set_key(this.ctxPtr,_)}finally{t._free(n),t._free(_)}}state(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_aes256_cbc_state(this.ctxPtr),e}startEncryption(){a.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_aes256_cbc_start_encryption(this.ctxPtr)}startDecryption(){a.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_aes256_cbc_start_decryption(this.ctxPtr)}update(e){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("data",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const s=t._vsc_data_ctx_size(),_=t._malloc(s);t._vsc_data(_,n,r);const c=this.outLen(e.length),i=t._vsc_buffer_new_with_capacity(c);try{t._vscf_aes256_cbc_update(this.ctxPtr,_,i);const e=t._vsc_buffer_bytes(i),r=t._vsc_buffer_len(i);return t.HEAPU8.slice(e,e+r)}finally{t._free(n),t._free(_),t._vsc_buffer_delete(i)}}outLen(e){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("dataLen",e),r=t._vscf_aes256_cbc_out_len(this.ctxPtr,e),r}encryptedOutLen(e){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("dataLen",e),r=t._vscf_aes256_cbc_encrypted_out_len(this.ctxPtr,e),r}decryptedOutLen(e){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("dataLen",e),r=t._vscf_aes256_cbc_decrypted_out_len(this.ctxPtr,e),r}finish(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=this.outLen(0),n=t._vsc_buffer_new_with_capacity(r);try{const r=t._vscf_aes256_cbc_finish(this.ctxPtr,n);e.FoundationError.handleStatusCode(r);const s=t._vsc_buffer_bytes(n),_=t._vsc_buffer_len(n);return t.HEAPU8.slice(s,s+_)}finally{t._vsc_buffer_delete(n)}}}return r},U=(t,e)=>{class r{constructor(e){this.name="Asn1rd",this.ctxPtr=void 0===e?t._vscf_asn1rd_new():e}static newAndUseCContext(e){return new r(t._vscf_asn1rd_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_asn1rd_delete(this.ctxPtr),this.ctxPtr=null)}reset(e){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("data",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const s=t._vsc_data_ctx_size(),_=t._malloc(s);t._vsc_data(_,n,r);try{t._vscf_asn1rd_reset(this.ctxPtr,_)}finally{t._free(n),t._free(_)}}leftLen(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_asn1rd_left_len(this.ctxPtr),e}hasError(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_asn1rd_has_error(this.ctxPtr),!!e}status(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_asn1rd_status(this.ctxPtr);e.FoundationError.handleStatusCode(r)}getTag(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_asn1rd_get_tag(this.ctxPtr),e}getLen(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_asn1rd_get_len(this.ctxPtr),e}getDataLen(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_asn1rd_get_data_len(this.ctxPtr),e}readTag(e){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("tag",e),r=t._vscf_asn1rd_read_tag(this.ctxPtr,e),r}readContextTag(e){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("tag",e),r=t._vscf_asn1rd_read_context_tag(this.ctxPtr,e),r}readInt(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_asn1rd_read_int(this.ctxPtr),e}readInt8(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_asn1rd_read_int8(this.ctxPtr),e}readInt16(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_asn1rd_read_int16(this.ctxPtr),e}readInt32(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_asn1rd_read_int32(this.ctxPtr),e}readInt64(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_asn1rd_read_int64(this.ctxPtr),e}readUint(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_asn1rd_read_uint(this.ctxPtr),e}readUint8(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_asn1rd_read_uint8(this.ctxPtr),e}readUint16(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_asn1rd_read_uint16(this.ctxPtr),e}readUint32(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_asn1rd_read_uint32(this.ctxPtr),e}readUint64(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_asn1rd_read_uint64(this.ctxPtr),e}readBool(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_asn1rd_read_bool(this.ctxPtr),!!e}readNull(){a.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_asn1rd_read_null(this.ctxPtr)}readNullOptional(){a.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_asn1rd_read_null_optional(this.ctxPtr)}readOctetStr(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const e=t._vsc_data_ctx_size(),r=t._malloc(e);try{t._vscf_asn1rd_read_octet_str(r,this.ctxPtr);const e=t._vsc_data_len(r),n=t._vsc_data_bytes(r);return t.HEAPU8.slice(n,n+e)}finally{t._free(r)}}readBitstringAsOctetStr(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const e=t._vsc_data_ctx_size(),r=t._malloc(e);try{t._vscf_asn1rd_read_bitstring_as_octet_str(r,this.ctxPtr);const e=t._vsc_data_len(r),n=t._vsc_data_bytes(r);return t.HEAPU8.slice(n,n+e)}finally{t._free(r)}}readUtf8Str(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const e=t._vsc_data_ctx_size(),r=t._malloc(e);try{t._vscf_asn1rd_read_utf8_str(r,this.ctxPtr);const e=t._vsc_data_len(r),n=t._vsc_data_bytes(r);return t.HEAPU8.slice(n,n+e)}finally{t._free(r)}}readOid(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const e=t._vsc_data_ctx_size(),r=t._malloc(e);try{t._vscf_asn1rd_read_oid(r,this.ctxPtr);const e=t._vsc_data_len(r),n=t._vsc_data_bytes(r);return t.HEAPU8.slice(n,n+e)}finally{t._free(r)}}readData(e){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("len",e);const r=t._vsc_data_ctx_size(),n=t._malloc(r);try{t._vscf_asn1rd_read_data(n,this.ctxPtr,e);const r=t._vsc_data_len(n),s=t._vsc_data_bytes(n);return t.HEAPU8.slice(s,s+r)}finally{t._free(n)}}readSequence(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_asn1rd_read_sequence(this.ctxPtr),e}readSet(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_asn1rd_read_set(this.ctxPtr),e}}return r},D=(t,e)=>{class r{constructor(e){this.name="Asn1wr",this.ctxPtr=void 0===e?t._vscf_asn1wr_new():e}static newAndUseCContext(e){return new r(t._vscf_asn1wr_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_asn1wr_delete(this.ctxPtr),this.ctxPtr=null)}reset(e,r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("out",e),a.ensureNumber("outLen",r),t._vscf_asn1wr_reset(this.ctxPtr,e,r)}finish(e){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureBoolean("doNotAdjust",e),r=t._vscf_asn1wr_finish(this.ctxPtr,e),r}bytes(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_asn1wr_bytes(this.ctxPtr),e}len(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_asn1wr_len(this.ctxPtr),e}writtenLen(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_asn1wr_written_len(this.ctxPtr),e}unwrittenLen(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_asn1wr_unwritten_len(this.ctxPtr),e}hasError(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_asn1wr_has_error(this.ctxPtr),!!e}status(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_asn1wr_status(this.ctxPtr);e.FoundationError.handleStatusCode(r)}reserve(e){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("len",e),r=t._vscf_asn1wr_reserve(this.ctxPtr,e),r}writeTag(e){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("tag",e),r=t._vscf_asn1wr_write_tag(this.ctxPtr,e),r}writeContextTag(e,r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("tag",e),a.ensureNumber("len",r),n=t._vscf_asn1wr_write_context_tag(this.ctxPtr,e,r),n}writeLen(e){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("len",e),r=t._vscf_asn1wr_write_len(this.ctxPtr,e),r}writeInt(e){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("value",e),r=t._vscf_asn1wr_write_int(this.ctxPtr,e),r}writeInt8(e){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("value",e),r=t._vscf_asn1wr_write_int8(this.ctxPtr,e),r}writeInt16(e){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("value",e),r=t._vscf_asn1wr_write_int16(this.ctxPtr,e),r}writeInt32(e){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("value",e),r=t._vscf_asn1wr_write_int32(this.ctxPtr,e),r}writeInt64(e){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("value",e),r=t._vscf_asn1wr_write_int64(this.ctxPtr,e),r}writeUint(e){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("value",e),r=t._vscf_asn1wr_write_uint(this.ctxPtr,e),r}writeUint8(e){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("value",e),r=t._vscf_asn1wr_write_uint8(this.ctxPtr,e),r}writeUint16(e){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("value",e),r=t._vscf_asn1wr_write_uint16(this.ctxPtr,e),r}writeUint32(e){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("value",e),r=t._vscf_asn1wr_write_uint32(this.ctxPtr,e),r}writeUint64(e){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("value",e),r=t._vscf_asn1wr_write_uint64(this.ctxPtr,e),r}writeBool(e){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureBoolean("value",e),r=t._vscf_asn1wr_write_bool(this.ctxPtr,e),r}writeNull(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_asn1wr_write_null(this.ctxPtr),e}writeOctetStr(e){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("value",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const s=t._vsc_data_ctx_size(),_=t._malloc(s);let c;t._vsc_data(_,n,r);try{return c=t._vscf_asn1wr_write_octet_str(this.ctxPtr,_),c}finally{t._free(n),t._free(_)}}writeOctetStrAsBitstring(e){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("value",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const s=t._vsc_data_ctx_size(),_=t._malloc(s);let c;t._vsc_data(_,n,r);try{return c=t._vscf_asn1wr_write_octet_str_as_bitstring(this.ctxPtr,_),c}finally{t._free(n),t._free(_)}}writeData(e){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("data",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const s=t._vsc_data_ctx_size(),_=t._malloc(s);let c;t._vsc_data(_,n,r);try{return c=t._vscf_asn1wr_write_data(this.ctxPtr,_),c}finally{t._free(n),t._free(_)}}writeUtf8Str(e){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("value",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const s=t._vsc_data_ctx_size(),_=t._malloc(s);let c;t._vsc_data(_,n,r);try{return c=t._vscf_asn1wr_write_utf8_str(this.ctxPtr,_),c}finally{t._free(n),t._free(_)}}writeOid(e){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("value",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const s=t._vsc_data_ctx_size(),_=t._malloc(s);let c;t._vsc_data(_,n,r);try{return c=t._vscf_asn1wr_write_oid(this.ctxPtr,_),c}finally{t._free(n),t._free(_)}}writeSequence(e){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("len",e),r=t._vscf_asn1wr_write_sequence(this.ctxPtr,e),r}writeSet(e){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("len",e),r=t._vscf_asn1wr_write_set(this.ctxPtr,e),r}}return r},Y=(t,e)=>{class r{constructor(e){this.name="RsaPublicKey",this.ctxPtr=void 0===e?t._vscf_rsa_public_key_new():e}static newAndUseCContext(e){return new r(t._vscf_rsa_public_key_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_rsa_public_key_delete(this.ctxPtr),this.ctxPtr=null)}algId(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_rsa_public_key_alg_id(this.ctxPtr),e}algInfo(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_rsa_public_key_alg_info(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}len(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_rsa_public_key_len(this.ctxPtr),e}bitlen(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_rsa_public_key_bitlen(this.ctxPtr),e}implTag(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_rsa_public_key_impl_tag(this.ctxPtr),e}isValid(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_rsa_public_key_is_valid(this.ctxPtr),!!e}keyExponent(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_rsa_public_key_key_exponent(this.ctxPtr),e}}return r},M=(t,e)=>{class r{constructor(e){this.name="RsaPrivateKey",this.ctxPtr=void 0===e?t._vscf_rsa_private_key_new():e}static newAndUseCContext(e){return new r(t._vscf_rsa_private_key_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_rsa_private_key_delete(this.ctxPtr),this.ctxPtr=null)}algId(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_rsa_private_key_alg_id(this.ctxPtr),e}algInfo(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_rsa_private_key_alg_info(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}len(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_rsa_private_key_len(this.ctxPtr),e}bitlen(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_rsa_private_key_bitlen(this.ctxPtr),e}implTag(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_rsa_private_key_impl_tag(this.ctxPtr),e}isValid(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_rsa_private_key_is_valid(this.ctxPtr),!!e}extractPublicKey(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_rsa_private_key_extract_public_key(this.ctxPtr),e.FoundationInterface.newAndTakeCContext(r)}}return r},H=(t,e)=>{class r{static get CAN_IMPORT_PUBLIC_KEY(){return!0}get CAN_IMPORT_PUBLIC_KEY(){return r.CAN_IMPORT_PUBLIC_KEY}static get CAN_EXPORT_PUBLIC_KEY(){return!0}get CAN_EXPORT_PUBLIC_KEY(){return r.CAN_EXPORT_PUBLIC_KEY}static get CAN_IMPORT_PRIVATE_KEY(){return!0}get CAN_IMPORT_PRIVATE_KEY(){return r.CAN_IMPORT_PRIVATE_KEY}static get CAN_EXPORT_PRIVATE_KEY(){return!0}get CAN_EXPORT_PRIVATE_KEY(){return r.CAN_EXPORT_PRIVATE_KEY}constructor(e){this.name="Rsa",this.ctxPtr=void 0===e?t._vscf_rsa_new():e}static newAndUseCContext(e){return new r(t._vscf_rsa_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_rsa_delete(this.ctxPtr),this.ctxPtr=null)}set random(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("random",r,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface),t._vscf_rsa_release_random(this.ctxPtr),t._vscf_rsa_use_random(this.ctxPtr,r.ctxPtr)}generateEphemeralKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("key",r,"Foundation.Key",e.FoundationInterfaceTag.KEY,e.FoundationInterface);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_rsa_generate_ephemeral_key(this.ctxPtr,r.ctxPtr,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(_)}finally{t._free(s)}}importPublicKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureClass("rawKey",r,e.RawPublicKey);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_rsa_import_public_key(this.ctxPtr,r.ctxPtr,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(_)}finally{t._free(s)}}importPublicKeyData(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("keyData",r),a.ensureImplementInterface("keyAlgInfo",n,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const s=r.length*r.BYTES_PER_ELEMENT,_=t._malloc(s);t.HEAP8.set(r,_);const c=t._vsc_data_ctx_size(),i=t._malloc(c);t._vsc_data(i,_,s);const o=t._vscf_error_ctx_size(),l=t._malloc(o);let u;t._vscf_error_reset(l);try{u=t._vscf_rsa_import_public_key_data(this.ctxPtr,i,n.ctxPtr,l);const r=t._vscf_error_status(l);return e.FoundationError.handleStatusCode(r),e.FoundationInterface.newAndTakeCContext(u)}finally{t._free(_),t._free(i),t._free(l)}}exportPublicKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_rsa_export_public_key(this.ctxPtr,r.ctxPtr,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),e.RawPublicKey.newAndTakeCContext(_)}finally{t._free(s)}}exportedPublicKeyDataLen(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),n=t._vscf_rsa_exported_public_key_data_len(this.ctxPtr,r.ctxPtr),n}exportPublicKeyData(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface);const n=this.exportedPublicKeyDataLen(r),s=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_rsa_export_public_key_data(this.ctxPtr,r.ctxPtr,s);e.FoundationError.handleStatusCode(n);const _=t._vsc_buffer_bytes(s),c=t._vsc_buffer_len(s);return t.HEAPU8.slice(_,_+c)}finally{t._vsc_buffer_delete(s)}}importPrivateKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureClass("rawKey",r,e.RawPrivateKey);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_rsa_import_private_key(this.ctxPtr,r.ctxPtr,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(_)}finally{t._free(s)}}importPrivateKeyData(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("keyData",r),a.ensureImplementInterface("keyAlgInfo",n,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const s=r.length*r.BYTES_PER_ELEMENT,_=t._malloc(s);t.HEAP8.set(r,_);const c=t._vsc_data_ctx_size(),i=t._malloc(c);t._vsc_data(i,_,s);const o=t._vscf_error_ctx_size(),l=t._malloc(o);let u;t._vscf_error_reset(l);try{u=t._vscf_rsa_import_private_key_data(this.ctxPtr,i,n.ctxPtr,l);const r=t._vscf_error_status(l);return e.FoundationError.handleStatusCode(r),e.FoundationInterface.newAndTakeCContext(u)}finally{t._free(_),t._free(i),t._free(l)}}exportPrivateKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_rsa_export_private_key(this.ctxPtr,r.ctxPtr,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),e.RawPrivateKey.newAndTakeCContext(_)}finally{t._free(s)}}exportedPrivateKeyDataLen(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),n=t._vscf_rsa_exported_private_key_data_len(this.ctxPtr,r.ctxPtr),n}exportPrivateKeyData(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const n=this.exportedPrivateKeyDataLen(r),s=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_rsa_export_private_key_data(this.ctxPtr,r.ctxPtr,s);e.FoundationError.handleStatusCode(n);const _=t._vsc_buffer_bytes(s),c=t._vsc_buffer_len(s);return t.HEAPU8.slice(_,_+c)}finally{t._vsc_buffer_delete(s)}}canEncrypt(r,n){let s;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),a.ensureNumber("dataLen",n),s=t._vscf_rsa_can_encrypt(this.ctxPtr,r.ctxPtr,n),!!s}encryptedLen(r,n){let s;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),a.ensureNumber("dataLen",n),s=t._vscf_rsa_encrypted_len(this.ctxPtr,r.ctxPtr,n),s}encrypt(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),a.ensureByteArray("data",n);const s=n.length*n.BYTES_PER_ELEMENT,_=t._malloc(s);t.HEAP8.set(n,_);const c=t._vsc_data_ctx_size(),i=t._malloc(c);t._vsc_data(i,_,s);const o=this.encryptedLen(r,n.length),l=t._vsc_buffer_new_with_capacity(o);try{const n=t._vscf_rsa_encrypt(this.ctxPtr,r.ctxPtr,i,l);e.FoundationError.handleStatusCode(n);const s=t._vsc_buffer_bytes(l),c=t._vsc_buffer_len(l);return t.HEAPU8.slice(s,s+c)}finally{t._free(_),t._free(i),t._vsc_buffer_delete(l)}}canDecrypt(r,n){let s;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),a.ensureNumber("dataLen",n),s=t._vscf_rsa_can_decrypt(this.ctxPtr,r.ctxPtr,n),!!s}decryptedLen(r,n){let s;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),a.ensureNumber("dataLen",n),s=t._vscf_rsa_decrypted_len(this.ctxPtr,r.ctxPtr,n),s}decrypt(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),a.ensureByteArray("data",n);const s=n.length*n.BYTES_PER_ELEMENT,_=t._malloc(s);t.HEAP8.set(n,_);const c=t._vsc_data_ctx_size(),i=t._malloc(c);t._vsc_data(i,_,s);const o=this.decryptedLen(r,n.length),l=t._vsc_buffer_new_with_capacity(o);try{const n=t._vscf_rsa_decrypt(this.ctxPtr,r.ctxPtr,i,l);e.FoundationError.handleStatusCode(n);const s=t._vsc_buffer_bytes(l),c=t._vsc_buffer_len(l);return t.HEAPU8.slice(s,s+c)}finally{t._free(_),t._free(i),t._vsc_buffer_delete(l)}}canSign(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),n=t._vscf_rsa_can_sign(this.ctxPtr,r.ctxPtr),!!n}signatureLen(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),n=t._vscf_rsa_signature_len(this.ctxPtr,r.ctxPtr),n}signHash(r,n,s){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),a.ensureNumber("hashId",n),a.ensureByteArray("digest",s);const _=s.length*s.BYTES_PER_ELEMENT,c=t._malloc(_);t.HEAP8.set(s,c);const i=t._vsc_data_ctx_size(),o=t._malloc(i);t._vsc_data(o,c,_);const l=this.signatureLen(r),u=t._vsc_buffer_new_with_capacity(l);try{const s=t._vscf_rsa_sign_hash(this.ctxPtr,r.ctxPtr,n,o,u);e.FoundationError.handleStatusCode(s);const _=t._vsc_buffer_bytes(u),a=t._vsc_buffer_len(u);return t.HEAPU8.slice(_,_+a)}finally{t._free(c),t._free(o),t._vsc_buffer_delete(u)}}canVerify(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),n=t._vscf_rsa_can_verify(this.ctxPtr,r.ctxPtr),!!n}verifyHash(r,n,s,_){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),a.ensureNumber("hashId",n),a.ensureByteArray("digest",s),a.ensureByteArray("signature",_);const c=s.length*s.BYTES_PER_ELEMENT,i=t._malloc(c);t.HEAP8.set(s,i);const o=t._vsc_data_ctx_size(),l=t._malloc(o);t._vsc_data(l,i,c);const u=_.length*_.BYTES_PER_ELEMENT,f=t._malloc(u);t.HEAP8.set(_,f);const d=t._vsc_data_ctx_size(),p=t._malloc(d);let h;t._vsc_data(p,f,u);try{return h=t._vscf_rsa_verify_hash(this.ctxPtr,r.ctxPtr,n,l,p),!!h}finally{t._free(i),t._free(l),t._free(f),t._free(p)}}setupDefaults(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_rsa_setup_defaults(this.ctxPtr);e.FoundationError.handleStatusCode(r)}generateKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("bitlen",r);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_rsa_generate_key(this.ctxPtr,r,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(_)}finally{t._free(s)}}}return r},O=(t,e)=>{class r{constructor(e){this.name="EccPublicKey",this.ctxPtr=void 0===e?t._vscf_ecc_public_key_new():e}static newAndUseCContext(e){return new r(t._vscf_ecc_public_key_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_ecc_public_key_delete(this.ctxPtr),this.ctxPtr=null)}algId(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_ecc_public_key_alg_id(this.ctxPtr),e}algInfo(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_ecc_public_key_alg_info(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}len(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_ecc_public_key_len(this.ctxPtr),e}bitlen(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_ecc_public_key_bitlen(this.ctxPtr),e}implTag(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_ecc_public_key_impl_tag(this.ctxPtr),e}isValid(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_ecc_public_key_is_valid(this.ctxPtr),!!e}}return r},G=(t,e)=>{class r{constructor(e){this.name="EccPrivateKey",this.ctxPtr=void 0===e?t._vscf_ecc_private_key_new():e}static newAndUseCContext(e){return new r(t._vscf_ecc_private_key_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_ecc_private_key_delete(this.ctxPtr),this.ctxPtr=null)}algId(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_ecc_private_key_alg_id(this.ctxPtr),e}algInfo(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_ecc_private_key_alg_info(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}len(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_ecc_private_key_len(this.ctxPtr),e}bitlen(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_ecc_private_key_bitlen(this.ctxPtr),e}implTag(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_ecc_private_key_impl_tag(this.ctxPtr),e}isValid(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_ecc_private_key_is_valid(this.ctxPtr),!!e}extractPublicKey(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_ecc_private_key_extract_public_key(this.ctxPtr),e.FoundationInterface.newAndTakeCContext(r)}}return r},V=(t,e)=>{class r{static get CAN_IMPORT_PUBLIC_KEY(){return!0}get CAN_IMPORT_PUBLIC_KEY(){return r.CAN_IMPORT_PUBLIC_KEY}static get CAN_EXPORT_PUBLIC_KEY(){return!0}get CAN_EXPORT_PUBLIC_KEY(){return r.CAN_EXPORT_PUBLIC_KEY}static get CAN_IMPORT_PRIVATE_KEY(){return!0}get CAN_IMPORT_PRIVATE_KEY(){return r.CAN_IMPORT_PRIVATE_KEY}static get CAN_EXPORT_PRIVATE_KEY(){return!0}get CAN_EXPORT_PRIVATE_KEY(){return r.CAN_EXPORT_PRIVATE_KEY}constructor(e){this.name="Ecc",this.ctxPtr=void 0===e?t._vscf_ecc_new():e}static newAndUseCContext(e){return new r(t._vscf_ecc_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_ecc_delete(this.ctxPtr),this.ctxPtr=null)}set random(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("random",r,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface),t._vscf_ecc_release_random(this.ctxPtr),t._vscf_ecc_use_random(this.ctxPtr,r.ctxPtr)}set ecies(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureClass("ecies",r,e.Ecies),t._vscf_ecc_release_ecies(this.ctxPtr),t._vscf_ecc_use_ecies(this.ctxPtr,r.ctxPtr)}generateEphemeralKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("key",r,"Foundation.Key",e.FoundationInterfaceTag.KEY,e.FoundationInterface);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_ecc_generate_ephemeral_key(this.ctxPtr,r.ctxPtr,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(_)}finally{t._free(s)}}importPublicKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureClass("rawKey",r,e.RawPublicKey);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_ecc_import_public_key(this.ctxPtr,r.ctxPtr,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(_)}finally{t._free(s)}}importPublicKeyData(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("keyData",r),a.ensureImplementInterface("keyAlgInfo",n,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const s=r.length*r.BYTES_PER_ELEMENT,_=t._malloc(s);t.HEAP8.set(r,_);const c=t._vsc_data_ctx_size(),i=t._malloc(c);t._vsc_data(i,_,s);const o=t._vscf_error_ctx_size(),l=t._malloc(o);let u;t._vscf_error_reset(l);try{u=t._vscf_ecc_import_public_key_data(this.ctxPtr,i,n.ctxPtr,l);const r=t._vscf_error_status(l);return e.FoundationError.handleStatusCode(r),e.FoundationInterface.newAndTakeCContext(u)}finally{t._free(_),t._free(i),t._free(l)}}exportPublicKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_ecc_export_public_key(this.ctxPtr,r.ctxPtr,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),e.RawPublicKey.newAndTakeCContext(_)}finally{t._free(s)}}exportedPublicKeyDataLen(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),n=t._vscf_ecc_exported_public_key_data_len(this.ctxPtr,r.ctxPtr),n}exportPublicKeyData(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface);const n=this.exportedPublicKeyDataLen(r),s=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_ecc_export_public_key_data(this.ctxPtr,r.ctxPtr,s);e.FoundationError.handleStatusCode(n);const _=t._vsc_buffer_bytes(s),c=t._vsc_buffer_len(s);return t.HEAPU8.slice(_,_+c)}finally{t._vsc_buffer_delete(s)}}importPrivateKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureClass("rawKey",r,e.RawPrivateKey);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_ecc_import_private_key(this.ctxPtr,r.ctxPtr,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(_)}finally{t._free(s)}}importPrivateKeyData(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("keyData",r),a.ensureImplementInterface("keyAlgInfo",n,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const s=r.length*r.BYTES_PER_ELEMENT,_=t._malloc(s);t.HEAP8.set(r,_);const c=t._vsc_data_ctx_size(),i=t._malloc(c);t._vsc_data(i,_,s);const o=t._vscf_error_ctx_size(),l=t._malloc(o);let u;t._vscf_error_reset(l);try{u=t._vscf_ecc_import_private_key_data(this.ctxPtr,i,n.ctxPtr,l);const r=t._vscf_error_status(l);return e.FoundationError.handleStatusCode(r),e.FoundationInterface.newAndTakeCContext(u)}finally{t._free(_),t._free(i),t._free(l)}}exportPrivateKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_ecc_export_private_key(this.ctxPtr,r.ctxPtr,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),e.RawPrivateKey.newAndTakeCContext(_)}finally{t._free(s)}}exportedPrivateKeyDataLen(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),n=t._vscf_ecc_exported_private_key_data_len(this.ctxPtr,r.ctxPtr),n}exportPrivateKeyData(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const n=this.exportedPrivateKeyDataLen(r),s=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_ecc_export_private_key_data(this.ctxPtr,r.ctxPtr,s);e.FoundationError.handleStatusCode(n);const _=t._vsc_buffer_bytes(s),c=t._vsc_buffer_len(s);return t.HEAPU8.slice(_,_+c)}finally{t._vsc_buffer_delete(s)}}canEncrypt(r,n){let s;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),a.ensureNumber("dataLen",n),s=t._vscf_ecc_can_encrypt(this.ctxPtr,r.ctxPtr,n),!!s}encryptedLen(r,n){let s;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),a.ensureNumber("dataLen",n),s=t._vscf_ecc_encrypted_len(this.ctxPtr,r.ctxPtr,n),s}encrypt(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),a.ensureByteArray("data",n);const s=n.length*n.BYTES_PER_ELEMENT,_=t._malloc(s);t.HEAP8.set(n,_);const c=t._vsc_data_ctx_size(),i=t._malloc(c);t._vsc_data(i,_,s);const o=this.encryptedLen(r,n.length),l=t._vsc_buffer_new_with_capacity(o);try{const n=t._vscf_ecc_encrypt(this.ctxPtr,r.ctxPtr,i,l);e.FoundationError.handleStatusCode(n);const s=t._vsc_buffer_bytes(l),c=t._vsc_buffer_len(l);return t.HEAPU8.slice(s,s+c)}finally{t._free(_),t._free(i),t._vsc_buffer_delete(l)}}canDecrypt(r,n){let s;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),a.ensureNumber("dataLen",n),s=t._vscf_ecc_can_decrypt(this.ctxPtr,r.ctxPtr,n),!!s}decryptedLen(r,n){let s;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),a.ensureNumber("dataLen",n),s=t._vscf_ecc_decrypted_len(this.ctxPtr,r.ctxPtr,n),s}decrypt(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),a.ensureByteArray("data",n);const s=n.length*n.BYTES_PER_ELEMENT,_=t._malloc(s);t.HEAP8.set(n,_);const c=t._vsc_data_ctx_size(),i=t._malloc(c);t._vsc_data(i,_,s);const o=this.decryptedLen(r,n.length),l=t._vsc_buffer_new_with_capacity(o);try{const n=t._vscf_ecc_decrypt(this.ctxPtr,r.ctxPtr,i,l);e.FoundationError.handleStatusCode(n);const s=t._vsc_buffer_bytes(l),c=t._vsc_buffer_len(l);return t.HEAPU8.slice(s,s+c)}finally{t._free(_),t._free(i),t._vsc_buffer_delete(l)}}canSign(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),n=t._vscf_ecc_can_sign(this.ctxPtr,r.ctxPtr),!!n}signatureLen(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),n=t._vscf_ecc_signature_len(this.ctxPtr,r.ctxPtr),n}signHash(r,n,s){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),a.ensureNumber("hashId",n),a.ensureByteArray("digest",s);const _=s.length*s.BYTES_PER_ELEMENT,c=t._malloc(_);t.HEAP8.set(s,c);const i=t._vsc_data_ctx_size(),o=t._malloc(i);t._vsc_data(o,c,_);const l=this.signatureLen(r),u=t._vsc_buffer_new_with_capacity(l);try{const s=t._vscf_ecc_sign_hash(this.ctxPtr,r.ctxPtr,n,o,u);e.FoundationError.handleStatusCode(s);const _=t._vsc_buffer_bytes(u),a=t._vsc_buffer_len(u);return t.HEAPU8.slice(_,_+a)}finally{t._free(c),t._free(o),t._vsc_buffer_delete(u)}}canVerify(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),n=t._vscf_ecc_can_verify(this.ctxPtr,r.ctxPtr),!!n}verifyHash(r,n,s,_){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),a.ensureNumber("hashId",n),a.ensureByteArray("digest",s),a.ensureByteArray("signature",_);const c=s.length*s.BYTES_PER_ELEMENT,i=t._malloc(c);t.HEAP8.set(s,i);const o=t._vsc_data_ctx_size(),l=t._malloc(o);t._vsc_data(l,i,c);const u=_.length*_.BYTES_PER_ELEMENT,f=t._malloc(u);t.HEAP8.set(_,f);const d=t._vsc_data_ctx_size(),p=t._malloc(d);let h;t._vsc_data(p,f,u);try{return h=t._vscf_ecc_verify_hash(this.ctxPtr,r.ctxPtr,n,l,p),!!h}finally{t._free(i),t._free(l),t._free(f),t._free(p)}}computeSharedKey(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),a.ensureImplementInterface("privateKey",n,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const s=this.sharedKeyLen(n),_=t._vsc_buffer_new_with_capacity(s);try{const s=t._vscf_ecc_compute_shared_key(this.ctxPtr,r.ctxPtr,n.ctxPtr,_);e.FoundationError.handleStatusCode(s);const c=t._vsc_buffer_bytes(_),a=t._vsc_buffer_len(_);return t.HEAPU8.slice(c,c+a)}finally{t._vsc_buffer_delete(_)}}sharedKeyLen(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("key",r,"Foundation.Key",e.FoundationInterfaceTag.KEY,e.FoundationInterface),n=t._vscf_ecc_shared_key_len(this.ctxPtr,r.ctxPtr),n}kemSharedKeyLen(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("key",r,"Foundation.Key",e.FoundationInterfaceTag.KEY,e.FoundationInterface),n=t._vscf_ecc_kem_shared_key_len(this.ctxPtr,r.ctxPtr),n}kemEncapsulatedKeyLen(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),n=t._vscf_ecc_kem_encapsulated_key_len(this.ctxPtr,r.ctxPtr),n}kemEncapsulate(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface);const n=this.kemSharedKeyLen(r),s=t._vsc_buffer_new_with_capacity(n),_=this.kemEncapsulatedKeyLen(r),c=t._vsc_buffer_new_with_capacity(_);try{const n=t._vscf_ecc_kem_encapsulate(this.ctxPtr,r.ctxPtr,s,c);e.FoundationError.handleStatusCode(n);const _=t._vsc_buffer_bytes(s),a=t._vsc_buffer_len(s),i=t.HEAPU8.slice(_,_+a),o=t._vsc_buffer_bytes(c),l=t._vsc_buffer_len(c);return{sharedKey:i,encapsulatedKey:t.HEAPU8.slice(o,o+l)}}finally{t._vsc_buffer_delete(s),t._vsc_buffer_delete(c)}}kemDecapsulate(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("encapsulatedKey",r),a.ensureImplementInterface("privateKey",n,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const s=r.length*r.BYTES_PER_ELEMENT,_=t._malloc(s);t.HEAP8.set(r,_);const c=t._vsc_data_ctx_size(),i=t._malloc(c);t._vsc_data(i,_,s);const o=this.kemSharedKeyLen(n),l=t._vsc_buffer_new_with_capacity(o);try{const r=t._vscf_ecc_kem_decapsulate(this.ctxPtr,i,n.ctxPtr,l);e.FoundationError.handleStatusCode(r);const s=t._vsc_buffer_bytes(l),c=t._vsc_buffer_len(l);return t.HEAPU8.slice(s,s+c)}finally{t._free(_),t._free(i),t._vsc_buffer_delete(l)}}setupDefaults(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_ecc_setup_defaults(this.ctxPtr);e.FoundationError.handleStatusCode(r)}generateKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("algId",r);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_ecc_generate_key(this.ctxPtr,r,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(_)}finally{t._free(s)}}}return r},j=(t,e)=>{class r{static get SOURCES_MAX(){return 15}get SOURCES_MAX(){return r.SOURCES_MAX}constructor(e){this.name="EntropyAccumulator",this.ctxPtr=void 0===e?t._vscf_entropy_accumulator_new():e}static newAndUseCContext(e){return new r(t._vscf_entropy_accumulator_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_entropy_accumulator_delete(this.ctxPtr),this.ctxPtr=null)}isStrong(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_entropy_accumulator_is_strong(this.ctxPtr),!!e}gather(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("len",r);const n=r,s=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_entropy_accumulator_gather(this.ctxPtr,r,s);e.FoundationError.handleStatusCode(n);const _=t._vsc_buffer_bytes(s),c=t._vsc_buffer_len(s);return t.HEAPU8.slice(_,_+c)}finally{t._vsc_buffer_delete(s)}}setupDefaults(){a.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_entropy_accumulator_setup_defaults(this.ctxPtr)}addSource(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("source",r,"Foundation.EntropySource",e.FoundationInterfaceTag.ENTROPY_SOURCE,e.FoundationInterface),a.ensureNumber("threshold",n),t._vscf_entropy_accumulator_add_source(this.ctxPtr,r.ctxPtr,n)}}return r},q=(t,e)=>{class r{static get RESEED_INTERVAL(){return 1e4}get RESEED_INTERVAL(){return r.RESEED_INTERVAL}static get ENTROPY_LEN(){return 48}get ENTROPY_LEN(){return r.ENTROPY_LEN}constructor(e){this.name="CtrDrbg",this.ctxPtr=void 0===e?t._vscf_ctr_drbg_new():e}static newAndUseCContext(e){return new r(t._vscf_ctr_drbg_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_ctr_drbg_delete(this.ctxPtr),this.ctxPtr=null)}set entropySource(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("entropySource",r,"Foundation.EntropySource",e.FoundationInterfaceTag.ENTROPY_SOURCE,e.FoundationInterface),t._vscf_ctr_drbg_release_entropy_source(this.ctxPtr);const n=t._vscf_ctr_drbg_use_entropy_source(this.ctxPtr,r.ctxPtr);e.FoundationError.handleStatusCode(n)}random(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("dataLen",r);const n=r,s=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_ctr_drbg_random(this.ctxPtr,r,s);e.FoundationError.handleStatusCode(n);const _=t._vsc_buffer_bytes(s),c=t._vsc_buffer_len(s);return t.HEAPU8.slice(_,_+c)}finally{t._vsc_buffer_delete(s)}}reseed(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_ctr_drbg_reseed(this.ctxPtr);e.FoundationError.handleStatusCode(r)}setupDefaults(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_ctr_drbg_setup_defaults(this.ctxPtr);e.FoundationError.handleStatusCode(r)}enablePredictionResistance(){a.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_ctr_drbg_enable_prediction_resistance(this.ctxPtr)}setReseedInterval(e){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("interval",e),t._vscf_ctr_drbg_set_reseed_interval(this.ctxPtr,e)}setEntropyLen(e){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("len",e),t._vscf_ctr_drbg_set_entropy_len(this.ctxPtr,e)}}return r},X=(t,e)=>{class r{constructor(e){this.name="Hmac",this.ctxPtr=void 0===e?t._vscf_hmac_new():e}static newAndUseCContext(e){return new r(t._vscf_hmac_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_hmac_delete(this.ctxPtr),this.ctxPtr=null)}set hash(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("hash",r,"Foundation.Hash",e.FoundationInterfaceTag.HASH,e.FoundationInterface),t._vscf_hmac_release_hash(this.ctxPtr),t._vscf_hmac_use_hash(this.ctxPtr,r.ctxPtr)}algId(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_hmac_alg_id(this.ctxPtr),e}produceAlgInfo(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_hmac_produce_alg_info(this.ctxPtr),e.FoundationInterface.newAndTakeCContext(r)}restoreAlgInfo(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const n=t._vscf_hmac_restore_alg_info(this.ctxPtr,r.ctxPtr);e.FoundationError.handleStatusCode(n)}digestLen(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_hmac_digest_len(this.ctxPtr),e}mac(e,r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("key",e),a.ensureByteArray("data",r);const n=e.length*e.BYTES_PER_ELEMENT,s=t._malloc(n);t.HEAP8.set(e,s);const _=t._vsc_data_ctx_size(),c=t._malloc(_);t._vsc_data(c,s,n);const i=r.length*r.BYTES_PER_ELEMENT,o=t._malloc(i);t.HEAP8.set(r,o);const l=t._vsc_data_ctx_size(),u=t._malloc(l);t._vsc_data(u,o,i);const f=this.digestLen(),d=t._vsc_buffer_new_with_capacity(f);try{t._vscf_hmac_mac(this.ctxPtr,c,u,d);const e=t._vsc_buffer_bytes(d),r=t._vsc_buffer_len(d);return t.HEAPU8.slice(e,e+r)}finally{t._free(s),t._free(c),t._free(o),t._free(u),t._vsc_buffer_delete(d)}}start(e){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("key",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const s=t._vsc_data_ctx_size(),_=t._malloc(s);t._vsc_data(_,n,r);try{t._vscf_hmac_start(this.ctxPtr,_)}finally{t._free(n),t._free(_)}}update(e){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("data",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const s=t._vsc_data_ctx_size(),_=t._malloc(s);t._vsc_data(_,n,r);try{t._vscf_hmac_update(this.ctxPtr,_)}finally{t._free(n),t._free(_)}}finish(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const e=this.digestLen(),r=t._vsc_buffer_new_with_capacity(e);try{t._vscf_hmac_finish(this.ctxPtr,r);const e=t._vsc_buffer_bytes(r),n=t._vsc_buffer_len(r);return t.HEAPU8.slice(e,e+n)}finally{t._vsc_buffer_delete(r)}}reset(){a.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_hmac_reset(this.ctxPtr)}}return r},W=(t,e)=>{class r{constructor(e){this.name="Hkdf",this.ctxPtr=void 0===e?t._vscf_hkdf_new():e}static newAndUseCContext(e){return new r(t._vscf_hkdf_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_hkdf_delete(this.ctxPtr),this.ctxPtr=null)}set hash(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("hash",r,"Foundation.Hash",e.FoundationInterfaceTag.HASH,e.FoundationInterface),t._vscf_hkdf_release_hash(this.ctxPtr),t._vscf_hkdf_use_hash(this.ctxPtr,r.ctxPtr)}algId(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_hkdf_alg_id(this.ctxPtr),e}produceAlgInfo(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_hkdf_produce_alg_info(this.ctxPtr),e.FoundationInterface.newAndTakeCContext(r)}restoreAlgInfo(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const n=t._vscf_hkdf_restore_alg_info(this.ctxPtr,r.ctxPtr);e.FoundationError.handleStatusCode(n)}derive(e,r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("data",e),a.ensureNumber("keyLen",r);const n=e.length*e.BYTES_PER_ELEMENT,s=t._malloc(n);t.HEAP8.set(e,s);const _=t._vsc_data_ctx_size(),c=t._malloc(_);t._vsc_data(c,s,n);const i=r,o=t._vsc_buffer_new_with_capacity(i);try{t._vscf_hkdf_derive(this.ctxPtr,c,r,o);const e=t._vsc_buffer_bytes(o),n=t._vsc_buffer_len(o);return t.HEAPU8.slice(e,e+n)}finally{t._free(s),t._free(c),t._vsc_buffer_delete(o)}}reset(e,r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("salt",e),a.ensureNumber("iterationCount",r);const n=e.length*e.BYTES_PER_ELEMENT,s=t._malloc(n);t.HEAP8.set(e,s);const _=t._vsc_data_ctx_size(),c=t._malloc(_);t._vsc_data(c,s,n);try{t._vscf_hkdf_reset(this.ctxPtr,c,r)}finally{t._free(s),t._free(c)}}setInfo(e){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("info",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const s=t._vsc_data_ctx_size(),_=t._malloc(s);t._vsc_data(_,n,r);try{t._vscf_hkdf_set_info(this.ctxPtr,_)}finally{t._free(n),t._free(_)}}}return r},Z=(t,e)=>{class r{constructor(e){this.name="Kdf1",this.ctxPtr=void 0===e?t._vscf_kdf1_new():e}static newAndUseCContext(e){return new r(t._vscf_kdf1_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_kdf1_delete(this.ctxPtr),this.ctxPtr=null)}set hash(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("hash",r,"Foundation.Hash",e.FoundationInterfaceTag.HASH,e.FoundationInterface),t._vscf_kdf1_release_hash(this.ctxPtr),t._vscf_kdf1_use_hash(this.ctxPtr,r.ctxPtr)}algId(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_kdf1_alg_id(this.ctxPtr),e}produceAlgInfo(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_kdf1_produce_alg_info(this.ctxPtr),e.FoundationInterface.newAndTakeCContext(r)}restoreAlgInfo(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const n=t._vscf_kdf1_restore_alg_info(this.ctxPtr,r.ctxPtr);e.FoundationError.handleStatusCode(n)}derive(e,r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("data",e),a.ensureNumber("keyLen",r);const n=e.length*e.BYTES_PER_ELEMENT,s=t._malloc(n);t.HEAP8.set(e,s);const _=t._vsc_data_ctx_size(),c=t._malloc(_);t._vsc_data(c,s,n);const i=r,o=t._vsc_buffer_new_with_capacity(i);try{t._vscf_kdf1_derive(this.ctxPtr,c,r,o);const e=t._vsc_buffer_bytes(o),n=t._vsc_buffer_len(o);return t.HEAPU8.slice(e,e+n)}finally{t._free(s),t._free(c),t._vsc_buffer_delete(o)}}}return r},$=(t,e)=>{class r{constructor(e){this.name="Kdf2",this.ctxPtr=void 0===e?t._vscf_kdf2_new():e}static newAndUseCContext(e){return new r(t._vscf_kdf2_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_kdf2_delete(this.ctxPtr),this.ctxPtr=null)}set hash(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("hash",r,"Foundation.Hash",e.FoundationInterfaceTag.HASH,e.FoundationInterface),t._vscf_kdf2_release_hash(this.ctxPtr),t._vscf_kdf2_use_hash(this.ctxPtr,r.ctxPtr)}algId(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_kdf2_alg_id(this.ctxPtr),e}produceAlgInfo(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_kdf2_produce_alg_info(this.ctxPtr),e.FoundationInterface.newAndTakeCContext(r)}restoreAlgInfo(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const n=t._vscf_kdf2_restore_alg_info(this.ctxPtr,r.ctxPtr);e.FoundationError.handleStatusCode(n)}derive(e,r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("data",e),a.ensureNumber("keyLen",r);const n=e.length*e.BYTES_PER_ELEMENT,s=t._malloc(n);t.HEAP8.set(e,s);const _=t._vsc_data_ctx_size(),c=t._malloc(_);t._vsc_data(c,s,n);const i=r,o=t._vsc_buffer_new_with_capacity(i);try{t._vscf_kdf2_derive(this.ctxPtr,c,r,o);const e=t._vsc_buffer_bytes(o),n=t._vsc_buffer_len(o);return t.HEAPU8.slice(e,e+n)}finally{t._free(s),t._free(c),t._vsc_buffer_delete(o)}}}return r},J=(t,e)=>{class r{constructor(e){this.name="FakeRandom",this.ctxPtr=void 0===e?t._vscf_fake_random_new():e}static newAndUseCContext(e){return new r(t._vscf_fake_random_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_fake_random_delete(this.ctxPtr),this.ctxPtr=null)}random(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("dataLen",r);const n=r,s=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_fake_random_random(this.ctxPtr,r,s);e.FoundationError.handleStatusCode(n);const _=t._vsc_buffer_bytes(s),c=t._vsc_buffer_len(s);return t.HEAPU8.slice(_,_+c)}finally{t._vsc_buffer_delete(s)}}reseed(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_fake_random_reseed(this.ctxPtr);e.FoundationError.handleStatusCode(r)}isStrong(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_fake_random_is_strong(this.ctxPtr),!!e}gather(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("len",r);const n=r,s=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_fake_random_gather(this.ctxPtr,r,s);e.FoundationError.handleStatusCode(n);const _=t._vsc_buffer_bytes(s),c=t._vsc_buffer_len(s);return t.HEAPU8.slice(_,_+c)}finally{t._vsc_buffer_delete(s)}}setupSourceByte(e){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("byteSource",e),t._vscf_fake_random_setup_source_byte(this.ctxPtr,e)}setupSourceData(e){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("dataSource",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const s=t._vsc_data_ctx_size(),_=t._malloc(s);t._vsc_data(_,n,r);try{t._vscf_fake_random_setup_source_data(this.ctxPtr,_)}finally{t._free(n),t._free(_)}}}return r},Q=(t,e)=>{class r{constructor(e){this.name="Pkcs5Pbkdf2",this.ctxPtr=void 0===e?t._vscf_pkcs5_pbkdf2_new():e}static newAndUseCContext(e){return new r(t._vscf_pkcs5_pbkdf2_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_pkcs5_pbkdf2_delete(this.ctxPtr),this.ctxPtr=null)}set hmac(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("hmac",r,"Foundation.Mac",e.FoundationInterfaceTag.MAC,e.FoundationInterface),t._vscf_pkcs5_pbkdf2_release_hmac(this.ctxPtr),t._vscf_pkcs5_pbkdf2_use_hmac(this.ctxPtr,r.ctxPtr)}algId(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_pkcs5_pbkdf2_alg_id(this.ctxPtr),e}produceAlgInfo(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_pkcs5_pbkdf2_produce_alg_info(this.ctxPtr),e.FoundationInterface.newAndTakeCContext(r)}restoreAlgInfo(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const n=t._vscf_pkcs5_pbkdf2_restore_alg_info(this.ctxPtr,r.ctxPtr);e.FoundationError.handleStatusCode(n)}derive(e,r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("data",e),a.ensureNumber("keyLen",r);const n=e.length*e.BYTES_PER_ELEMENT,s=t._malloc(n);t.HEAP8.set(e,s);const _=t._vsc_data_ctx_size(),c=t._malloc(_);t._vsc_data(c,s,n);const i=r,o=t._vsc_buffer_new_with_capacity(i);try{t._vscf_pkcs5_pbkdf2_derive(this.ctxPtr,c,r,o);const e=t._vsc_buffer_bytes(o),n=t._vsc_buffer_len(o);return t.HEAPU8.slice(e,e+n)}finally{t._free(s),t._free(c),t._vsc_buffer_delete(o)}}reset(e,r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("salt",e),a.ensureNumber("iterationCount",r);const n=e.length*e.BYTES_PER_ELEMENT,s=t._malloc(n);t.HEAP8.set(e,s);const _=t._vsc_data_ctx_size(),c=t._malloc(_);t._vsc_data(c,s,n);try{t._vscf_pkcs5_pbkdf2_reset(this.ctxPtr,c,r)}finally{t._free(s),t._free(c)}}setInfo(e){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("info",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const s=t._vsc_data_ctx_size(),_=t._malloc(s);t._vsc_data(_,n,r);try{t._vscf_pkcs5_pbkdf2_set_info(this.ctxPtr,_)}finally{t._free(n),t._free(_)}}setupDefaults(){a.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_pkcs5_pbkdf2_setup_defaults(this.ctxPtr)}}return r},tt=(t,e)=>{class r{constructor(e){this.name="Pkcs5Pbes2",this.ctxPtr=void 0===e?t._vscf_pkcs5_pbes2_new():e}static newAndUseCContext(e){return new r(t._vscf_pkcs5_pbes2_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_pkcs5_pbes2_delete(this.ctxPtr),this.ctxPtr=null)}set kdf(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("kdf",r,"Foundation.SaltedKdf",e.FoundationInterfaceTag.SALTED_KDF,e.FoundationInterface),t._vscf_pkcs5_pbes2_release_kdf(this.ctxPtr),t._vscf_pkcs5_pbes2_use_kdf(this.ctxPtr,r.ctxPtr)}set cipher(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("cipher",r,"Foundation.Cipher",e.FoundationInterfaceTag.CIPHER,e.FoundationInterface),t._vscf_pkcs5_pbes2_release_cipher(this.ctxPtr),t._vscf_pkcs5_pbes2_use_cipher(this.ctxPtr,r.ctxPtr)}algId(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_pkcs5_pbes2_alg_id(this.ctxPtr),e}produceAlgInfo(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_pkcs5_pbes2_produce_alg_info(this.ctxPtr),e.FoundationInterface.newAndTakeCContext(r)}restoreAlgInfo(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const n=t._vscf_pkcs5_pbes2_restore_alg_info(this.ctxPtr,r.ctxPtr);e.FoundationError.handleStatusCode(n)}encrypt(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("data",r);const n=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(n);t.HEAP8.set(r,s);const _=t._vsc_data_ctx_size(),c=t._malloc(_);t._vsc_data(c,s,n);const i=this.encryptedLen(r.length),o=t._vsc_buffer_new_with_capacity(i);try{const r=t._vscf_pkcs5_pbes2_encrypt(this.ctxPtr,c,o);e.FoundationError.handleStatusCode(r);const n=t._vsc_buffer_bytes(o),_=t._vsc_buffer_len(o);return t.HEAPU8.slice(n,n+_)}finally{t._free(s),t._free(c),t._vsc_buffer_delete(o)}}encryptedLen(e){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("dataLen",e),r=t._vscf_pkcs5_pbes2_encrypted_len(this.ctxPtr,e),r}preciseEncryptedLen(e){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("dataLen",e),r=t._vscf_pkcs5_pbes2_precise_encrypted_len(this.ctxPtr,e),r}decrypt(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("data",r);const n=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(n);t.HEAP8.set(r,s);const _=t._vsc_data_ctx_size(),c=t._malloc(_);t._vsc_data(c,s,n);const i=this.decryptedLen(r.length),o=t._vsc_buffer_new_with_capacity(i);try{const r=t._vscf_pkcs5_pbes2_decrypt(this.ctxPtr,c,o);e.FoundationError.handleStatusCode(r);const n=t._vsc_buffer_bytes(o),_=t._vsc_buffer_len(o);return t.HEAPU8.slice(n,n+_)}finally{t._free(s),t._free(c),t._vsc_buffer_delete(o)}}decryptedLen(e){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("dataLen",e),r=t._vscf_pkcs5_pbes2_decrypted_len(this.ctxPtr,e),r}reset(e){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("pwd",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const s=t._vsc_data_ctx_size(),_=t._malloc(s);t._vsc_data(_,n,r);try{t._vscf_pkcs5_pbes2_reset(this.ctxPtr,_)}finally{t._free(n),t._free(_)}}}return r},et=(t,e)=>{class r{constructor(e){this.name="SeedEntropySource",this.ctxPtr=void 0===e?t._vscf_seed_entropy_source_new():e}static newAndUseCContext(e){return new r(t._vscf_seed_entropy_source_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_seed_entropy_source_delete(this.ctxPtr),this.ctxPtr=null)}isStrong(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_seed_entropy_source_is_strong(this.ctxPtr),!!e}gather(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("len",r);const n=r,s=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_seed_entropy_source_gather(this.ctxPtr,r,s);e.FoundationError.handleStatusCode(n);const _=t._vsc_buffer_bytes(s),c=t._vsc_buffer_len(s);return t.HEAPU8.slice(_,_+c)}finally{t._vsc_buffer_delete(s)}}resetSeed(e){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("seed",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const s=t._vsc_data_ctx_size(),_=t._malloc(s);t._vsc_data(_,n,r);try{t._vscf_seed_entropy_source_reset_seed(this.ctxPtr,_)}finally{t._free(n),t._free(_)}}}return r},rt=(t,e)=>{class r{static get KEY_MATERIAL_LEN_MIN(){return 32}get KEY_MATERIAL_LEN_MIN(){return r.KEY_MATERIAL_LEN_MIN}static get KEY_MATERIAL_LEN_MAX(){return 512}get KEY_MATERIAL_LEN_MAX(){return r.KEY_MATERIAL_LEN_MAX}constructor(e){this.name="KeyMaterialRng",this.ctxPtr=void 0===e?t._vscf_key_material_rng_new():e}static newAndUseCContext(e){return new r(t._vscf_key_material_rng_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_key_material_rng_delete(this.ctxPtr),this.ctxPtr=null)}random(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("dataLen",r);const n=r,s=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_key_material_rng_random(this.ctxPtr,r,s);e.FoundationError.handleStatusCode(n);const _=t._vsc_buffer_bytes(s),c=t._vsc_buffer_len(s);return t.HEAPU8.slice(_,_+c)}finally{t._vsc_buffer_delete(s)}}reseed(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_key_material_rng_reseed(this.ctxPtr);e.FoundationError.handleStatusCode(r)}resetKeyMaterial(e){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("keyMaterial",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const s=t._vsc_data_ctx_size(),_=t._malloc(s);t._vsc_data(_,n,r);try{t._vscf_key_material_rng_reset_key_material(this.ctxPtr,_)}finally{t._free(n),t._free(_)}}}return r},nt=(t,e)=>{class r{constructor(e){this.name="RawPublicKey",this.ctxPtr=void 0===e?t._vscf_raw_public_key_new():e}static newAndUseCContext(e){return new r(t._vscf_raw_public_key_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_raw_public_key_delete(this.ctxPtr),this.ctxPtr=null)}algId(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_raw_public_key_alg_id(this.ctxPtr),e}algInfo(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_raw_public_key_alg_info(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}len(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_raw_public_key_len(this.ctxPtr),e}bitlen(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_raw_public_key_bitlen(this.ctxPtr),e}implTag(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_raw_public_key_impl_tag(this.ctxPtr),e}isValid(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_raw_public_key_is_valid(this.ctxPtr),!!e}data(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const e=t._vsc_data_ctx_size(),r=t._malloc(e);try{t._vscf_raw_public_key_data(r,this.ctxPtr);const e=t._vsc_data_len(r),n=t._vsc_data_bytes(r);return t.HEAPU8.slice(n,n+e)}finally{t._free(r)}}}return r},st=(t,e)=>{class r{constructor(e){this.name="RawPrivateKey",this.ctxPtr=void 0===e?t._vscf_raw_private_key_new():e}static newAndUseCContext(e){return new r(t._vscf_raw_private_key_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_raw_private_key_delete(this.ctxPtr),this.ctxPtr=null)}algId(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_raw_private_key_alg_id(this.ctxPtr),e}algInfo(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_raw_private_key_alg_info(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}len(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_raw_private_key_len(this.ctxPtr),e}bitlen(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_raw_private_key_bitlen(this.ctxPtr),e}implTag(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_raw_private_key_impl_tag(this.ctxPtr),e}isValid(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_raw_private_key_is_valid(this.ctxPtr),!!e}extractPublicKey(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_raw_private_key_extract_public_key(this.ctxPtr),e.FoundationInterface.newAndTakeCContext(r)}data(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const e=t._vsc_data_ctx_size(),r=t._malloc(e);try{t._vscf_raw_private_key_data(r,this.ctxPtr);const e=t._vsc_data_len(r),n=t._vsc_data_bytes(r);return t.HEAPU8.slice(n,n+e)}finally{t._free(r)}}hasPublicKey(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_raw_private_key_has_public_key(this.ctxPtr),!!e}setPublicKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureClass("rawPublicKey",r,e.RawPublicKey),t._vscf_raw_private_key_set_public_key(this.ctxPtr,r.ctxPtr)}getPublicKey(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_raw_private_key_get_public_key(this.ctxPtr),e.RawPublicKey.newAndUseCContext(r)}}return r},_t=(t,e)=>{class r{constructor(e){this.name="Pkcs8Serializer",this.ctxPtr=void 0===e?t._vscf_pkcs8_serializer_new():e}static newAndUseCContext(e){return new r(t._vscf_pkcs8_serializer_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_pkcs8_serializer_delete(this.ctxPtr),this.ctxPtr=null)}set asn1Writer(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("asn1Writer",r,"Foundation.Asn1Writer",e.FoundationInterfaceTag.ASN1_WRITER,e.FoundationInterface),t._vscf_pkcs8_serializer_release_asn1_writer(this.ctxPtr),t._vscf_pkcs8_serializer_use_asn1_writer(this.ctxPtr,r.ctxPtr)}serializedPublicKeyLen(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureClass("publicKey",r,e.RawPublicKey),n=t._vscf_pkcs8_serializer_serialized_public_key_len(this.ctxPtr,r.ctxPtr),n}serializePublicKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureClass("publicKey",r,e.RawPublicKey);const n=this.serializedPublicKeyLen(r),s=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_pkcs8_serializer_serialize_public_key(this.ctxPtr,r.ctxPtr,s);e.FoundationError.handleStatusCode(n);const _=t._vsc_buffer_bytes(s),c=t._vsc_buffer_len(s);return t.HEAPU8.slice(_,_+c)}finally{t._vsc_buffer_delete(s)}}serializedPrivateKeyLen(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureClass("privateKey",r,e.RawPrivateKey),n=t._vscf_pkcs8_serializer_serialized_private_key_len(this.ctxPtr,r.ctxPtr),n}serializePrivateKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureClass("privateKey",r,e.RawPrivateKey);const n=this.serializedPrivateKeyLen(r),s=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_pkcs8_serializer_serialize_private_key(this.ctxPtr,r.ctxPtr,s);e.FoundationError.handleStatusCode(n);const _=t._vsc_buffer_bytes(s),c=t._vsc_buffer_len(s);return t.HEAPU8.slice(_,_+c)}finally{t._vsc_buffer_delete(s)}}setupDefaults(){a.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_pkcs8_serializer_setup_defaults(this.ctxPtr)}serializePublicKeyInplace(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureClass("publicKey",r,e.RawPublicKey);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_pkcs8_serializer_serialize_public_key_inplace(this.ctxPtr,r.ctxPtr,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),_}finally{t._free(s)}}serializePrivateKeyInplace(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureClass("privateKey",r,e.RawPrivateKey);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_pkcs8_serializer_serialize_private_key_inplace(this.ctxPtr,r.ctxPtr,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),_}finally{t._free(s)}}}return r},ct=(t,e)=>{class r{constructor(e){this.name="Sec1Serializer",this.ctxPtr=void 0===e?t._vscf_sec1_serializer_new():e}static newAndUseCContext(e){return new r(t._vscf_sec1_serializer_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_sec1_serializer_delete(this.ctxPtr),this.ctxPtr=null)}set asn1Writer(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("asn1Writer",r,"Foundation.Asn1Writer",e.FoundationInterfaceTag.ASN1_WRITER,e.FoundationInterface),t._vscf_sec1_serializer_release_asn1_writer(this.ctxPtr),t._vscf_sec1_serializer_use_asn1_writer(this.ctxPtr,r.ctxPtr)}serializedPublicKeyLen(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureClass("publicKey",r,e.RawPublicKey),n=t._vscf_sec1_serializer_serialized_public_key_len(this.ctxPtr,r.ctxPtr),n}serializePublicKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureClass("publicKey",r,e.RawPublicKey);const n=this.serializedPublicKeyLen(r),s=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_sec1_serializer_serialize_public_key(this.ctxPtr,r.ctxPtr,s);e.FoundationError.handleStatusCode(n);const _=t._vsc_buffer_bytes(s),c=t._vsc_buffer_len(s);return t.HEAPU8.slice(_,_+c)}finally{t._vsc_buffer_delete(s)}}serializedPrivateKeyLen(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureClass("privateKey",r,e.RawPrivateKey),n=t._vscf_sec1_serializer_serialized_private_key_len(this.ctxPtr,r.ctxPtr),n}serializePrivateKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureClass("privateKey",r,e.RawPrivateKey);const n=this.serializedPrivateKeyLen(r),s=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_sec1_serializer_serialize_private_key(this.ctxPtr,r.ctxPtr,s);e.FoundationError.handleStatusCode(n);const _=t._vsc_buffer_bytes(s),c=t._vsc_buffer_len(s);return t.HEAPU8.slice(_,_+c)}finally{t._vsc_buffer_delete(s)}}setupDefaults(){a.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_sec1_serializer_setup_defaults(this.ctxPtr)}serializePublicKeyInplace(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureClass("publicKey",r,e.RawPublicKey);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_sec1_serializer_serialize_public_key_inplace(this.ctxPtr,r.ctxPtr,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),_}finally{t._free(s)}}serializePrivateKeyInplace(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureClass("privateKey",r,e.RawPrivateKey);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_sec1_serializer_serialize_private_key_inplace(this.ctxPtr,r.ctxPtr,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),_}finally{t._free(s)}}}return r},at=(t,e)=>{class r{constructor(e){this.name="KeyAsn1Serializer",this.ctxPtr=void 0===e?t._vscf_key_asn1_serializer_new():e}static newAndUseCContext(e){return new r(t._vscf_key_asn1_serializer_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_key_asn1_serializer_delete(this.ctxPtr),this.ctxPtr=null)}set asn1Writer(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("asn1Writer",r,"Foundation.Asn1Writer",e.FoundationInterfaceTag.ASN1_WRITER,e.FoundationInterface),t._vscf_key_asn1_serializer_release_asn1_writer(this.ctxPtr),t._vscf_key_asn1_serializer_use_asn1_writer(this.ctxPtr,r.ctxPtr)}serializedPublicKeyLen(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureClass("publicKey",r,e.RawPublicKey),n=t._vscf_key_asn1_serializer_serialized_public_key_len(this.ctxPtr,r.ctxPtr),n}serializePublicKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureClass("publicKey",r,e.RawPublicKey);const n=this.serializedPublicKeyLen(r),s=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_key_asn1_serializer_serialize_public_key(this.ctxPtr,r.ctxPtr,s);e.FoundationError.handleStatusCode(n);const _=t._vsc_buffer_bytes(s),c=t._vsc_buffer_len(s);return t.HEAPU8.slice(_,_+c)}finally{t._vsc_buffer_delete(s)}}serializedPrivateKeyLen(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureClass("privateKey",r,e.RawPrivateKey),n=t._vscf_key_asn1_serializer_serialized_private_key_len(this.ctxPtr,r.ctxPtr),n}serializePrivateKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureClass("privateKey",r,e.RawPrivateKey);const n=this.serializedPrivateKeyLen(r),s=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_key_asn1_serializer_serialize_private_key(this.ctxPtr,r.ctxPtr,s);e.FoundationError.handleStatusCode(n);const _=t._vsc_buffer_bytes(s),c=t._vsc_buffer_len(s);return t.HEAPU8.slice(_,_+c)}finally{t._vsc_buffer_delete(s)}}setupDefaults(){a.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_key_asn1_serializer_setup_defaults(this.ctxPtr)}serializePublicKeyInplace(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureClass("publicKey",r,e.RawPublicKey);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_key_asn1_serializer_serialize_public_key_inplace(this.ctxPtr,r.ctxPtr,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),_}finally{t._free(s)}}serializePrivateKeyInplace(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureClass("privateKey",r,e.RawPrivateKey);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_key_asn1_serializer_serialize_private_key_inplace(this.ctxPtr,r.ctxPtr,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),_}finally{t._free(s)}}}return r},it=(t,e)=>{class r{constructor(e){this.name="KeyAsn1Deserializer",this.ctxPtr=void 0===e?t._vscf_key_asn1_deserializer_new():e}static newAndUseCContext(e){return new r(t._vscf_key_asn1_deserializer_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_key_asn1_deserializer_delete(this.ctxPtr),this.ctxPtr=null)}set asn1Reader(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("asn1Reader",r,"Foundation.Asn1Reader",e.FoundationInterfaceTag.ASN1_READER,e.FoundationInterface),t._vscf_key_asn1_deserializer_release_asn1_reader(this.ctxPtr),t._vscf_key_asn1_deserializer_use_asn1_reader(this.ctxPtr,r.ctxPtr)}deserializePublicKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("publicKeyData",r);const n=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(n);t.HEAP8.set(r,s);const _=t._vsc_data_ctx_size(),c=t._malloc(_);t._vsc_data(c,s,n);const i=t._vscf_error_ctx_size(),o=t._malloc(i);let l;t._vscf_error_reset(o);try{l=t._vscf_key_asn1_deserializer_deserialize_public_key(this.ctxPtr,c,o);const r=t._vscf_error_status(o);return e.FoundationError.handleStatusCode(r),e.RawPublicKey.newAndTakeCContext(l)}finally{t._free(s),t._free(c),t._free(o)}}deserializePrivateKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("privateKeyData",r);const n=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(n);t.HEAP8.set(r,s);const _=t._vsc_data_ctx_size(),c=t._malloc(_);t._vsc_data(c,s,n);const i=t._vscf_error_ctx_size(),o=t._malloc(i);let l;t._vscf_error_reset(o);try{l=t._vscf_key_asn1_deserializer_deserialize_private_key(this.ctxPtr,c,o);const r=t._vscf_error_status(o);return e.FoundationError.handleStatusCode(r),e.RawPrivateKey.newAndTakeCContext(l)}finally{t._free(s),t._free(c),t._free(o)}}setupDefaults(){a.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_key_asn1_deserializer_setup_defaults(this.ctxPtr)}deserializePublicKeyInplace(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_error_ctx_size(),n=t._malloc(r);let s;t._vscf_error_reset(n);try{s=t._vscf_key_asn1_deserializer_deserialize_public_key_inplace(this.ctxPtr,n);const r=t._vscf_error_status(n);return e.FoundationError.handleStatusCode(r),e.RawPublicKey.newAndTakeCContext(s)}finally{t._free(n)}}deserializePrivateKeyInplace(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_error_ctx_size(),n=t._malloc(r);let s;t._vscf_error_reset(n);try{s=t._vscf_key_asn1_deserializer_deserialize_private_key_inplace(this.ctxPtr,n);const r=t._vscf_error_status(n);return e.FoundationError.handleStatusCode(r),e.RawPrivateKey.newAndTakeCContext(s)}finally{t._free(n)}}}return r},ot=(t,e)=>{class r{static get CAN_IMPORT_PUBLIC_KEY(){return!0}get CAN_IMPORT_PUBLIC_KEY(){return r.CAN_IMPORT_PUBLIC_KEY}static get CAN_EXPORT_PUBLIC_KEY(){return!0}get CAN_EXPORT_PUBLIC_KEY(){return r.CAN_EXPORT_PUBLIC_KEY}static get CAN_IMPORT_PRIVATE_KEY(){return!0}get CAN_IMPORT_PRIVATE_KEY(){return r.CAN_IMPORT_PRIVATE_KEY}static get CAN_EXPORT_PRIVATE_KEY(){return!0}get CAN_EXPORT_PRIVATE_KEY(){return r.CAN_EXPORT_PRIVATE_KEY}constructor(e){this.name="Ed25519",this.ctxPtr=void 0===e?t._vscf_ed25519_new():e}static newAndUseCContext(e){return new r(t._vscf_ed25519_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_ed25519_delete(this.ctxPtr),this.ctxPtr=null)}set random(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("random",r,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface),t._vscf_ed25519_release_random(this.ctxPtr),t._vscf_ed25519_use_random(this.ctxPtr,r.ctxPtr)}set ecies(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureClass("ecies",r,e.Ecies),t._vscf_ed25519_release_ecies(this.ctxPtr),t._vscf_ed25519_use_ecies(this.ctxPtr,r.ctxPtr)}generateEphemeralKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("key",r,"Foundation.Key",e.FoundationInterfaceTag.KEY,e.FoundationInterface);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_ed25519_generate_ephemeral_key(this.ctxPtr,r.ctxPtr,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(_)}finally{t._free(s)}}importPublicKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureClass("rawKey",r,e.RawPublicKey);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_ed25519_import_public_key(this.ctxPtr,r.ctxPtr,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(_)}finally{t._free(s)}}importPublicKeyData(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("keyData",r),a.ensureImplementInterface("keyAlgInfo",n,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const s=r.length*r.BYTES_PER_ELEMENT,_=t._malloc(s);t.HEAP8.set(r,_);const c=t._vsc_data_ctx_size(),i=t._malloc(c);t._vsc_data(i,_,s);const o=t._vscf_error_ctx_size(),l=t._malloc(o);let u;t._vscf_error_reset(l);try{u=t._vscf_ed25519_import_public_key_data(this.ctxPtr,i,n.ctxPtr,l);const r=t._vscf_error_status(l);return e.FoundationError.handleStatusCode(r),e.FoundationInterface.newAndTakeCContext(u)}finally{t._free(_),t._free(i),t._free(l)}}exportPublicKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_ed25519_export_public_key(this.ctxPtr,r.ctxPtr,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),e.RawPublicKey.newAndTakeCContext(_)}finally{t._free(s)}}exportedPublicKeyDataLen(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),n=t._vscf_ed25519_exported_public_key_data_len(this.ctxPtr,r.ctxPtr),n}exportPublicKeyData(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface);const n=this.exportedPublicKeyDataLen(r),s=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_ed25519_export_public_key_data(this.ctxPtr,r.ctxPtr,s);e.FoundationError.handleStatusCode(n);const _=t._vsc_buffer_bytes(s),c=t._vsc_buffer_len(s);return t.HEAPU8.slice(_,_+c)}finally{t._vsc_buffer_delete(s)}}importPrivateKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureClass("rawKey",r,e.RawPrivateKey);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_ed25519_import_private_key(this.ctxPtr,r.ctxPtr,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(_)}finally{t._free(s)}}importPrivateKeyData(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("keyData",r),a.ensureImplementInterface("keyAlgInfo",n,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const s=r.length*r.BYTES_PER_ELEMENT,_=t._malloc(s);t.HEAP8.set(r,_);const c=t._vsc_data_ctx_size(),i=t._malloc(c);t._vsc_data(i,_,s);const o=t._vscf_error_ctx_size(),l=t._malloc(o);let u;t._vscf_error_reset(l);try{u=t._vscf_ed25519_import_private_key_data(this.ctxPtr,i,n.ctxPtr,l);const r=t._vscf_error_status(l);return e.FoundationError.handleStatusCode(r),e.FoundationInterface.newAndTakeCContext(u)}finally{t._free(_),t._free(i),t._free(l)}}exportPrivateKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_ed25519_export_private_key(this.ctxPtr,r.ctxPtr,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),e.RawPrivateKey.newAndTakeCContext(_)}finally{t._free(s)}}exportedPrivateKeyDataLen(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),n=t._vscf_ed25519_exported_private_key_data_len(this.ctxPtr,r.ctxPtr),n}exportPrivateKeyData(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const n=this.exportedPrivateKeyDataLen(r),s=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_ed25519_export_private_key_data(this.ctxPtr,r.ctxPtr,s);e.FoundationError.handleStatusCode(n);const _=t._vsc_buffer_bytes(s),c=t._vsc_buffer_len(s);return t.HEAPU8.slice(_,_+c)}finally{t._vsc_buffer_delete(s)}}canEncrypt(r,n){let s;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),a.ensureNumber("dataLen",n),s=t._vscf_ed25519_can_encrypt(this.ctxPtr,r.ctxPtr,n),!!s}encryptedLen(r,n){let s;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),a.ensureNumber("dataLen",n),s=t._vscf_ed25519_encrypted_len(this.ctxPtr,r.ctxPtr,n),s}encrypt(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),a.ensureByteArray("data",n);const s=n.length*n.BYTES_PER_ELEMENT,_=t._malloc(s);t.HEAP8.set(n,_);const c=t._vsc_data_ctx_size(),i=t._malloc(c);t._vsc_data(i,_,s);const o=this.encryptedLen(r,n.length),l=t._vsc_buffer_new_with_capacity(o);try{const n=t._vscf_ed25519_encrypt(this.ctxPtr,r.ctxPtr,i,l);e.FoundationError.handleStatusCode(n);const s=t._vsc_buffer_bytes(l),c=t._vsc_buffer_len(l);return t.HEAPU8.slice(s,s+c)}finally{t._free(_),t._free(i),t._vsc_buffer_delete(l)}}canDecrypt(r,n){let s;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),a.ensureNumber("dataLen",n),s=t._vscf_ed25519_can_decrypt(this.ctxPtr,r.ctxPtr,n),!!s}decryptedLen(r,n){let s;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),a.ensureNumber("dataLen",n),s=t._vscf_ed25519_decrypted_len(this.ctxPtr,r.ctxPtr,n),s}decrypt(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),a.ensureByteArray("data",n);const s=n.length*n.BYTES_PER_ELEMENT,_=t._malloc(s);t.HEAP8.set(n,_);const c=t._vsc_data_ctx_size(),i=t._malloc(c);t._vsc_data(i,_,s);const o=this.decryptedLen(r,n.length),l=t._vsc_buffer_new_with_capacity(o);try{const n=t._vscf_ed25519_decrypt(this.ctxPtr,r.ctxPtr,i,l);e.FoundationError.handleStatusCode(n);const s=t._vsc_buffer_bytes(l),c=t._vsc_buffer_len(l);return t.HEAPU8.slice(s,s+c)}finally{t._free(_),t._free(i),t._vsc_buffer_delete(l)}}canSign(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),n=t._vscf_ed25519_can_sign(this.ctxPtr,r.ctxPtr),!!n}signatureLen(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),n=t._vscf_ed25519_signature_len(this.ctxPtr,r.ctxPtr),n}signHash(r,n,s){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),a.ensureNumber("hashId",n),a.ensureByteArray("digest",s);const _=s.length*s.BYTES_PER_ELEMENT,c=t._malloc(_);t.HEAP8.set(s,c);const i=t._vsc_data_ctx_size(),o=t._malloc(i);t._vsc_data(o,c,_);const l=this.signatureLen(r),u=t._vsc_buffer_new_with_capacity(l);try{const s=t._vscf_ed25519_sign_hash(this.ctxPtr,r.ctxPtr,n,o,u);e.FoundationError.handleStatusCode(s);const _=t._vsc_buffer_bytes(u),a=t._vsc_buffer_len(u);return t.HEAPU8.slice(_,_+a)}finally{t._free(c),t._free(o),t._vsc_buffer_delete(u)}}canVerify(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),n=t._vscf_ed25519_can_verify(this.ctxPtr,r.ctxPtr),!!n}verifyHash(r,n,s,_){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),a.ensureNumber("hashId",n),a.ensureByteArray("digest",s),a.ensureByteArray("signature",_);const c=s.length*s.BYTES_PER_ELEMENT,i=t._malloc(c);t.HEAP8.set(s,i);const o=t._vsc_data_ctx_size(),l=t._malloc(o);t._vsc_data(l,i,c);const u=_.length*_.BYTES_PER_ELEMENT,f=t._malloc(u);t.HEAP8.set(_,f);const d=t._vsc_data_ctx_size(),p=t._malloc(d);let h;t._vsc_data(p,f,u);try{return h=t._vscf_ed25519_verify_hash(this.ctxPtr,r.ctxPtr,n,l,p),!!h}finally{t._free(i),t._free(l),t._free(f),t._free(p)}}computeSharedKey(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),a.ensureImplementInterface("privateKey",n,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const s=this.sharedKeyLen(n),_=t._vsc_buffer_new_with_capacity(s);try{const s=t._vscf_ed25519_compute_shared_key(this.ctxPtr,r.ctxPtr,n.ctxPtr,_);e.FoundationError.handleStatusCode(s);const c=t._vsc_buffer_bytes(_),a=t._vsc_buffer_len(_);return t.HEAPU8.slice(c,c+a)}finally{t._vsc_buffer_delete(_)}}sharedKeyLen(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("key",r,"Foundation.Key",e.FoundationInterfaceTag.KEY,e.FoundationInterface),n=t._vscf_ed25519_shared_key_len(this.ctxPtr,r.ctxPtr),n}kemSharedKeyLen(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("key",r,"Foundation.Key",e.FoundationInterfaceTag.KEY,e.FoundationInterface),n=t._vscf_ed25519_kem_shared_key_len(this.ctxPtr,r.ctxPtr),n}kemEncapsulatedKeyLen(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),n=t._vscf_ed25519_kem_encapsulated_key_len(this.ctxPtr,r.ctxPtr),n}kemEncapsulate(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface);const n=this.kemSharedKeyLen(r),s=t._vsc_buffer_new_with_capacity(n),_=this.kemEncapsulatedKeyLen(r),c=t._vsc_buffer_new_with_capacity(_);try{const n=t._vscf_ed25519_kem_encapsulate(this.ctxPtr,r.ctxPtr,s,c);e.FoundationError.handleStatusCode(n);const _=t._vsc_buffer_bytes(s),a=t._vsc_buffer_len(s),i=t.HEAPU8.slice(_,_+a),o=t._vsc_buffer_bytes(c),l=t._vsc_buffer_len(c);return{sharedKey:i,encapsulatedKey:t.HEAPU8.slice(o,o+l)}}finally{t._vsc_buffer_delete(s),t._vsc_buffer_delete(c)}}kemDecapsulate(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("encapsulatedKey",r),a.ensureImplementInterface("privateKey",n,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const s=r.length*r.BYTES_PER_ELEMENT,_=t._malloc(s);t.HEAP8.set(r,_);const c=t._vsc_data_ctx_size(),i=t._malloc(c);t._vsc_data(i,_,s);const o=this.kemSharedKeyLen(n),l=t._vsc_buffer_new_with_capacity(o);try{const r=t._vscf_ed25519_kem_decapsulate(this.ctxPtr,i,n.ctxPtr,l);e.FoundationError.handleStatusCode(r);const s=t._vsc_buffer_bytes(l),c=t._vsc_buffer_len(l);return t.HEAPU8.slice(s,s+c)}finally{t._free(_),t._free(i),t._vsc_buffer_delete(l)}}setupDefaults(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_ed25519_setup_defaults(this.ctxPtr);e.FoundationError.handleStatusCode(r)}generateKey(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_error_ctx_size(),n=t._malloc(r);let s;t._vscf_error_reset(n);try{s=t._vscf_ed25519_generate_key(this.ctxPtr,n);const r=t._vscf_error_status(n);return e.FoundationError.handleStatusCode(r),e.FoundationInterface.newAndTakeCContext(s)}finally{t._free(n)}}}return r},lt=(t,e)=>{class r{static get CAN_IMPORT_PUBLIC_KEY(){return!0}get CAN_IMPORT_PUBLIC_KEY(){return r.CAN_IMPORT_PUBLIC_KEY}static get CAN_EXPORT_PUBLIC_KEY(){return!0}get CAN_EXPORT_PUBLIC_KEY(){return r.CAN_EXPORT_PUBLIC_KEY}static get CAN_IMPORT_PRIVATE_KEY(){return!0}get CAN_IMPORT_PRIVATE_KEY(){return r.CAN_IMPORT_PRIVATE_KEY}static get CAN_EXPORT_PRIVATE_KEY(){return!0}get CAN_EXPORT_PRIVATE_KEY(){return r.CAN_EXPORT_PRIVATE_KEY}constructor(e){this.name="Curve25519",this.ctxPtr=void 0===e?t._vscf_curve25519_new():e}static newAndUseCContext(e){return new r(t._vscf_curve25519_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_curve25519_delete(this.ctxPtr),this.ctxPtr=null)}set random(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("random",r,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface),t._vscf_curve25519_release_random(this.ctxPtr),t._vscf_curve25519_use_random(this.ctxPtr,r.ctxPtr)}set ecies(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureClass("ecies",r,e.Ecies),t._vscf_curve25519_release_ecies(this.ctxPtr),t._vscf_curve25519_use_ecies(this.ctxPtr,r.ctxPtr)}generateEphemeralKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("key",r,"Foundation.Key",e.FoundationInterfaceTag.KEY,e.FoundationInterface);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_curve25519_generate_ephemeral_key(this.ctxPtr,r.ctxPtr,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(_)}finally{t._free(s)}}importPublicKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureClass("rawKey",r,e.RawPublicKey);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_curve25519_import_public_key(this.ctxPtr,r.ctxPtr,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(_)}finally{t._free(s)}}importPublicKeyData(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("keyData",r),a.ensureImplementInterface("keyAlgInfo",n,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const s=r.length*r.BYTES_PER_ELEMENT,_=t._malloc(s);t.HEAP8.set(r,_);const c=t._vsc_data_ctx_size(),i=t._malloc(c);t._vsc_data(i,_,s);const o=t._vscf_error_ctx_size(),l=t._malloc(o);let u;t._vscf_error_reset(l);try{u=t._vscf_curve25519_import_public_key_data(this.ctxPtr,i,n.ctxPtr,l);const r=t._vscf_error_status(l);return e.FoundationError.handleStatusCode(r),e.FoundationInterface.newAndTakeCContext(u)}finally{t._free(_),t._free(i),t._free(l)}}exportPublicKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_curve25519_export_public_key(this.ctxPtr,r.ctxPtr,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),e.RawPublicKey.newAndTakeCContext(_)}finally{t._free(s)}}exportedPublicKeyDataLen(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),n=t._vscf_curve25519_exported_public_key_data_len(this.ctxPtr,r.ctxPtr),n}exportPublicKeyData(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface);const n=this.exportedPublicKeyDataLen(r),s=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_curve25519_export_public_key_data(this.ctxPtr,r.ctxPtr,s);e.FoundationError.handleStatusCode(n);const _=t._vsc_buffer_bytes(s),c=t._vsc_buffer_len(s);return t.HEAPU8.slice(_,_+c)}finally{t._vsc_buffer_delete(s)}}importPrivateKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureClass("rawKey",r,e.RawPrivateKey);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_curve25519_import_private_key(this.ctxPtr,r.ctxPtr,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(_)}finally{t._free(s)}}importPrivateKeyData(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("keyData",r),a.ensureImplementInterface("keyAlgInfo",n,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const s=r.length*r.BYTES_PER_ELEMENT,_=t._malloc(s);t.HEAP8.set(r,_);const c=t._vsc_data_ctx_size(),i=t._malloc(c);t._vsc_data(i,_,s);const o=t._vscf_error_ctx_size(),l=t._malloc(o);let u;t._vscf_error_reset(l);try{u=t._vscf_curve25519_import_private_key_data(this.ctxPtr,i,n.ctxPtr,l);const r=t._vscf_error_status(l);return e.FoundationError.handleStatusCode(r),e.FoundationInterface.newAndTakeCContext(u)}finally{t._free(_),t._free(i),t._free(l)}}exportPrivateKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_curve25519_export_private_key(this.ctxPtr,r.ctxPtr,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),e.RawPrivateKey.newAndTakeCContext(_)}finally{t._free(s)}}exportedPrivateKeyDataLen(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),n=t._vscf_curve25519_exported_private_key_data_len(this.ctxPtr,r.ctxPtr),n}exportPrivateKeyData(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const n=this.exportedPrivateKeyDataLen(r),s=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_curve25519_export_private_key_data(this.ctxPtr,r.ctxPtr,s);e.FoundationError.handleStatusCode(n);const _=t._vsc_buffer_bytes(s),c=t._vsc_buffer_len(s);return t.HEAPU8.slice(_,_+c)}finally{t._vsc_buffer_delete(s)}}canEncrypt(r,n){let s;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),a.ensureNumber("dataLen",n),s=t._vscf_curve25519_can_encrypt(this.ctxPtr,r.ctxPtr,n),!!s}encryptedLen(r,n){let s;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),a.ensureNumber("dataLen",n),s=t._vscf_curve25519_encrypted_len(this.ctxPtr,r.ctxPtr,n),s}encrypt(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),a.ensureByteArray("data",n);const s=n.length*n.BYTES_PER_ELEMENT,_=t._malloc(s);t.HEAP8.set(n,_);const c=t._vsc_data_ctx_size(),i=t._malloc(c);t._vsc_data(i,_,s);const o=this.encryptedLen(r,n.length),l=t._vsc_buffer_new_with_capacity(o);try{const n=t._vscf_curve25519_encrypt(this.ctxPtr,r.ctxPtr,i,l);e.FoundationError.handleStatusCode(n);const s=t._vsc_buffer_bytes(l),c=t._vsc_buffer_len(l);return t.HEAPU8.slice(s,s+c)}finally{t._free(_),t._free(i),t._vsc_buffer_delete(l)}}canDecrypt(r,n){let s;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),a.ensureNumber("dataLen",n),s=t._vscf_curve25519_can_decrypt(this.ctxPtr,r.ctxPtr,n),!!s}decryptedLen(r,n){let s;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),a.ensureNumber("dataLen",n),s=t._vscf_curve25519_decrypted_len(this.ctxPtr,r.ctxPtr,n),s}decrypt(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),a.ensureByteArray("data",n);const s=n.length*n.BYTES_PER_ELEMENT,_=t._malloc(s);t.HEAP8.set(n,_);const c=t._vsc_data_ctx_size(),i=t._malloc(c);t._vsc_data(i,_,s);const o=this.decryptedLen(r,n.length),l=t._vsc_buffer_new_with_capacity(o);try{const n=t._vscf_curve25519_decrypt(this.ctxPtr,r.ctxPtr,i,l);e.FoundationError.handleStatusCode(n);const s=t._vsc_buffer_bytes(l),c=t._vsc_buffer_len(l);return t.HEAPU8.slice(s,s+c)}finally{t._free(_),t._free(i),t._vsc_buffer_delete(l)}}computeSharedKey(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),a.ensureImplementInterface("privateKey",n,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const s=this.sharedKeyLen(n),_=t._vsc_buffer_new_with_capacity(s);try{const s=t._vscf_curve25519_compute_shared_key(this.ctxPtr,r.ctxPtr,n.ctxPtr,_);e.FoundationError.handleStatusCode(s);const c=t._vsc_buffer_bytes(_),a=t._vsc_buffer_len(_);return t.HEAPU8.slice(c,c+a)}finally{t._vsc_buffer_delete(_)}}sharedKeyLen(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("key",r,"Foundation.Key",e.FoundationInterfaceTag.KEY,e.FoundationInterface),n=t._vscf_curve25519_shared_key_len(this.ctxPtr,r.ctxPtr),n}kemSharedKeyLen(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("key",r,"Foundation.Key",e.FoundationInterfaceTag.KEY,e.FoundationInterface),n=t._vscf_curve25519_kem_shared_key_len(this.ctxPtr,r.ctxPtr),n}kemEncapsulatedKeyLen(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),n=t._vscf_curve25519_kem_encapsulated_key_len(this.ctxPtr,r.ctxPtr),n}kemEncapsulate(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface);const n=this.kemSharedKeyLen(r),s=t._vsc_buffer_new_with_capacity(n),_=this.kemEncapsulatedKeyLen(r),c=t._vsc_buffer_new_with_capacity(_);try{const n=t._vscf_curve25519_kem_encapsulate(this.ctxPtr,r.ctxPtr,s,c);e.FoundationError.handleStatusCode(n);const _=t._vsc_buffer_bytes(s),a=t._vsc_buffer_len(s),i=t.HEAPU8.slice(_,_+a),o=t._vsc_buffer_bytes(c),l=t._vsc_buffer_len(c);return{sharedKey:i,encapsulatedKey:t.HEAPU8.slice(o,o+l)}}finally{t._vsc_buffer_delete(s),t._vsc_buffer_delete(c)}}kemDecapsulate(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("encapsulatedKey",r),a.ensureImplementInterface("privateKey",n,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const s=r.length*r.BYTES_PER_ELEMENT,_=t._malloc(s);t.HEAP8.set(r,_);const c=t._vsc_data_ctx_size(),i=t._malloc(c);t._vsc_data(i,_,s);const o=this.kemSharedKeyLen(n),l=t._vsc_buffer_new_with_capacity(o);try{const r=t._vscf_curve25519_kem_decapsulate(this.ctxPtr,i,n.ctxPtr,l);e.FoundationError.handleStatusCode(r);const s=t._vsc_buffer_bytes(l),c=t._vsc_buffer_len(l);return t.HEAPU8.slice(s,s+c)}finally{t._free(_),t._free(i),t._vsc_buffer_delete(l)}}setupDefaults(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_curve25519_setup_defaults(this.ctxPtr);e.FoundationError.handleStatusCode(r)}generateKey(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_error_ctx_size(),n=t._malloc(r);let s;t._vscf_error_reset(n);try{s=t._vscf_curve25519_generate_key(this.ctxPtr,n);const r=t._vscf_error_status(n);return e.FoundationError.handleStatusCode(r),e.FoundationInterface.newAndTakeCContext(s)}finally{t._free(n)}}}return r},ut=(t,e)=>{class r{static get CAN_IMPORT_PUBLIC_KEY(){return!0}get CAN_IMPORT_PUBLIC_KEY(){return r.CAN_IMPORT_PUBLIC_KEY}static get CAN_EXPORT_PUBLIC_KEY(){return!0}get CAN_EXPORT_PUBLIC_KEY(){return r.CAN_EXPORT_PUBLIC_KEY}static get CAN_IMPORT_PRIVATE_KEY(){return!0}get CAN_IMPORT_PRIVATE_KEY(){return r.CAN_IMPORT_PRIVATE_KEY}static get CAN_EXPORT_PRIVATE_KEY(){return!0}get CAN_EXPORT_PRIVATE_KEY(){return r.CAN_EXPORT_PRIVATE_KEY}constructor(e){this.name="Falcon",this.ctxPtr=void 0===e?t._vscf_falcon_new():e}static newAndUseCContext(e){return new r(t._vscf_falcon_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_falcon_delete(this.ctxPtr),this.ctxPtr=null)}set random(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("random",r,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface),t._vscf_falcon_release_random(this.ctxPtr),t._vscf_falcon_use_random(this.ctxPtr,r.ctxPtr)}algId(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_falcon_alg_id(this.ctxPtr),e}produceAlgInfo(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_falcon_produce_alg_info(this.ctxPtr),e.FoundationInterface.newAndTakeCContext(r)}restoreAlgInfo(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const n=t._vscf_falcon_restore_alg_info(this.ctxPtr,r.ctxPtr);e.FoundationError.handleStatusCode(n)}generateEphemeralKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("key",r,"Foundation.Key",e.FoundationInterfaceTag.KEY,e.FoundationInterface);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_falcon_generate_ephemeral_key(this.ctxPtr,r.ctxPtr,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(_)}finally{t._free(s)}}importPublicKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureClass("rawKey",r,e.RawPublicKey);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_falcon_import_public_key(this.ctxPtr,r.ctxPtr,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(_)}finally{t._free(s)}}importPublicKeyData(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("keyData",r),a.ensureImplementInterface("keyAlgInfo",n,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const s=r.length*r.BYTES_PER_ELEMENT,_=t._malloc(s);t.HEAP8.set(r,_);const c=t._vsc_data_ctx_size(),i=t._malloc(c);t._vsc_data(i,_,s);const o=t._vscf_error_ctx_size(),l=t._malloc(o);let u;t._vscf_error_reset(l);try{u=t._vscf_falcon_import_public_key_data(this.ctxPtr,i,n.ctxPtr,l);const r=t._vscf_error_status(l);return e.FoundationError.handleStatusCode(r),e.FoundationInterface.newAndTakeCContext(u)}finally{t._free(_),t._free(i),t._free(l)}}exportPublicKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_falcon_export_public_key(this.ctxPtr,r.ctxPtr,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),e.RawPublicKey.newAndTakeCContext(_)}finally{t._free(s)}}exportedPublicKeyDataLen(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),n=t._vscf_falcon_exported_public_key_data_len(this.ctxPtr,r.ctxPtr),n}exportPublicKeyData(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface);const n=this.exportedPublicKeyDataLen(r),s=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_falcon_export_public_key_data(this.ctxPtr,r.ctxPtr,s);e.FoundationError.handleStatusCode(n);const _=t._vsc_buffer_bytes(s),c=t._vsc_buffer_len(s);return t.HEAPU8.slice(_,_+c)}finally{t._vsc_buffer_delete(s)}}importPrivateKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureClass("rawKey",r,e.RawPrivateKey);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_falcon_import_private_key(this.ctxPtr,r.ctxPtr,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(_)}finally{t._free(s)}}importPrivateKeyData(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("keyData",r),a.ensureImplementInterface("keyAlgInfo",n,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const s=r.length*r.BYTES_PER_ELEMENT,_=t._malloc(s);t.HEAP8.set(r,_);const c=t._vsc_data_ctx_size(),i=t._malloc(c);t._vsc_data(i,_,s);const o=t._vscf_error_ctx_size(),l=t._malloc(o);let u;t._vscf_error_reset(l);try{u=t._vscf_falcon_import_private_key_data(this.ctxPtr,i,n.ctxPtr,l);const r=t._vscf_error_status(l);return e.FoundationError.handleStatusCode(r),e.FoundationInterface.newAndTakeCContext(u)}finally{t._free(_),t._free(i),t._free(l)}}exportPrivateKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_falcon_export_private_key(this.ctxPtr,r.ctxPtr,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),e.RawPrivateKey.newAndTakeCContext(_)}finally{t._free(s)}}exportedPrivateKeyDataLen(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),n=t._vscf_falcon_exported_private_key_data_len(this.ctxPtr,r.ctxPtr),n}exportPrivateKeyData(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const n=this.exportedPrivateKeyDataLen(r),s=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_falcon_export_private_key_data(this.ctxPtr,r.ctxPtr,s);e.FoundationError.handleStatusCode(n);const _=t._vsc_buffer_bytes(s),c=t._vsc_buffer_len(s);return t.HEAPU8.slice(_,_+c)}finally{t._vsc_buffer_delete(s)}}canSign(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),n=t._vscf_falcon_can_sign(this.ctxPtr,r.ctxPtr),!!n}signatureLen(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),n=t._vscf_falcon_signature_len(this.ctxPtr,r.ctxPtr),n}signHash(r,n,s){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),a.ensureNumber("hashId",n),a.ensureByteArray("digest",s);const _=s.length*s.BYTES_PER_ELEMENT,c=t._malloc(_);t.HEAP8.set(s,c);const i=t._vsc_data_ctx_size(),o=t._malloc(i);t._vsc_data(o,c,_);const l=this.signatureLen(r),u=t._vsc_buffer_new_with_capacity(l);try{const s=t._vscf_falcon_sign_hash(this.ctxPtr,r.ctxPtr,n,o,u);e.FoundationError.handleStatusCode(s);const _=t._vsc_buffer_bytes(u),a=t._vsc_buffer_len(u);return t.HEAPU8.slice(_,_+a)}finally{t._free(c),t._free(o),t._vsc_buffer_delete(u)}}canVerify(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),n=t._vscf_falcon_can_verify(this.ctxPtr,r.ctxPtr),!!n}verifyHash(r,n,s,_){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),a.ensureNumber("hashId",n),a.ensureByteArray("digest",s),a.ensureByteArray("signature",_);const c=s.length*s.BYTES_PER_ELEMENT,i=t._malloc(c);t.HEAP8.set(s,i);const o=t._vsc_data_ctx_size(),l=t._malloc(o);t._vsc_data(l,i,c);const u=_.length*_.BYTES_PER_ELEMENT,f=t._malloc(u);t.HEAP8.set(_,f);const d=t._vsc_data_ctx_size(),p=t._malloc(d);let h;t._vsc_data(p,f,u);try{return h=t._vscf_falcon_verify_hash(this.ctxPtr,r.ctxPtr,n,l,p),!!h}finally{t._free(i),t._free(l),t._free(f),t._free(p)}}setupDefaults(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_falcon_setup_defaults(this.ctxPtr);e.FoundationError.handleStatusCode(r)}generateKey(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_error_ctx_size(),n=t._malloc(r);let s;t._vscf_error_reset(n);try{s=t._vscf_falcon_generate_key(this.ctxPtr,n);const r=t._vscf_error_status(n);return e.FoundationError.handleStatusCode(r),e.FoundationInterface.newAndTakeCContext(s)}finally{t._free(n)}}}return r},ft=(t,e)=>{class r{static get CAN_IMPORT_PUBLIC_KEY(){return!0}get CAN_IMPORT_PUBLIC_KEY(){return r.CAN_IMPORT_PUBLIC_KEY}static get CAN_EXPORT_PUBLIC_KEY(){return!0}get CAN_EXPORT_PUBLIC_KEY(){return r.CAN_EXPORT_PUBLIC_KEY}static get CAN_IMPORT_PRIVATE_KEY(){return!0}get CAN_IMPORT_PRIVATE_KEY(){return r.CAN_IMPORT_PRIVATE_KEY}static get CAN_EXPORT_PRIVATE_KEY(){return!0}get CAN_EXPORT_PRIVATE_KEY(){return r.CAN_EXPORT_PRIVATE_KEY}constructor(e){this.name="Round5",this.ctxPtr=void 0===e?t._vscf_round5_new():e}static newAndUseCContext(e){return new r(t._vscf_round5_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_round5_delete(this.ctxPtr),this.ctxPtr=null)}set random(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("random",r,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface),t._vscf_round5_release_random(this.ctxPtr),t._vscf_round5_use_random(this.ctxPtr,r.ctxPtr)}generateEphemeralKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("key",r,"Foundation.Key",e.FoundationInterfaceTag.KEY,e.FoundationInterface);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_round5_generate_ephemeral_key(this.ctxPtr,r.ctxPtr,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(_)}finally{t._free(s)}}importPublicKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureClass("rawKey",r,e.RawPublicKey);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_round5_import_public_key(this.ctxPtr,r.ctxPtr,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(_)}finally{t._free(s)}}importPublicKeyData(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("keyData",r),a.ensureImplementInterface("keyAlgInfo",n,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const s=r.length*r.BYTES_PER_ELEMENT,_=t._malloc(s);t.HEAP8.set(r,_);const c=t._vsc_data_ctx_size(),i=t._malloc(c);t._vsc_data(i,_,s);const o=t._vscf_error_ctx_size(),l=t._malloc(o);let u;t._vscf_error_reset(l);try{u=t._vscf_round5_import_public_key_data(this.ctxPtr,i,n.ctxPtr,l);const r=t._vscf_error_status(l);return e.FoundationError.handleStatusCode(r),e.FoundationInterface.newAndTakeCContext(u)}finally{t._free(_),t._free(i),t._free(l)}}exportPublicKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_round5_export_public_key(this.ctxPtr,r.ctxPtr,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),e.RawPublicKey.newAndTakeCContext(_)}finally{t._free(s)}}exportedPublicKeyDataLen(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),n=t._vscf_round5_exported_public_key_data_len(this.ctxPtr,r.ctxPtr),n}exportPublicKeyData(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface);const n=this.exportedPublicKeyDataLen(r),s=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_round5_export_public_key_data(this.ctxPtr,r.ctxPtr,s);e.FoundationError.handleStatusCode(n);const _=t._vsc_buffer_bytes(s),c=t._vsc_buffer_len(s);return t.HEAPU8.slice(_,_+c)}finally{t._vsc_buffer_delete(s)}}importPrivateKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureClass("rawKey",r,e.RawPrivateKey);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_round5_import_private_key(this.ctxPtr,r.ctxPtr,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(_)}finally{t._free(s)}}importPrivateKeyData(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("keyData",r),a.ensureImplementInterface("keyAlgInfo",n,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const s=r.length*r.BYTES_PER_ELEMENT,_=t._malloc(s);t.HEAP8.set(r,_);const c=t._vsc_data_ctx_size(),i=t._malloc(c);t._vsc_data(i,_,s);const o=t._vscf_error_ctx_size(),l=t._malloc(o);let u;t._vscf_error_reset(l);try{u=t._vscf_round5_import_private_key_data(this.ctxPtr,i,n.ctxPtr,l);const r=t._vscf_error_status(l);return e.FoundationError.handleStatusCode(r),e.FoundationInterface.newAndTakeCContext(u)}finally{t._free(_),t._free(i),t._free(l)}}exportPrivateKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_round5_export_private_key(this.ctxPtr,r.ctxPtr,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),e.RawPrivateKey.newAndTakeCContext(_)}finally{t._free(s)}}exportedPrivateKeyDataLen(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),n=t._vscf_round5_exported_private_key_data_len(this.ctxPtr,r.ctxPtr),n}exportPrivateKeyData(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const n=this.exportedPrivateKeyDataLen(r),s=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_round5_export_private_key_data(this.ctxPtr,r.ctxPtr,s);e.FoundationError.handleStatusCode(n);const _=t._vsc_buffer_bytes(s),c=t._vsc_buffer_len(s);return t.HEAPU8.slice(_,_+c)}finally{t._vsc_buffer_delete(s)}}kemSharedKeyLen(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("key",r,"Foundation.Key",e.FoundationInterfaceTag.KEY,e.FoundationInterface),n=t._vscf_round5_kem_shared_key_len(this.ctxPtr,r.ctxPtr),n}kemEncapsulatedKeyLen(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),n=t._vscf_round5_kem_encapsulated_key_len(this.ctxPtr,r.ctxPtr),n}kemEncapsulate(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface);const n=this.kemSharedKeyLen(r),s=t._vsc_buffer_new_with_capacity(n),_=this.kemEncapsulatedKeyLen(r),c=t._vsc_buffer_new_with_capacity(_);try{const n=t._vscf_round5_kem_encapsulate(this.ctxPtr,r.ctxPtr,s,c);e.FoundationError.handleStatusCode(n);const _=t._vsc_buffer_bytes(s),a=t._vsc_buffer_len(s),i=t.HEAPU8.slice(_,_+a),o=t._vsc_buffer_bytes(c),l=t._vsc_buffer_len(c);return{sharedKey:i,encapsulatedKey:t.HEAPU8.slice(o,o+l)}}finally{t._vsc_buffer_delete(s),t._vsc_buffer_delete(c)}}kemDecapsulate(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("encapsulatedKey",r),a.ensureImplementInterface("privateKey",n,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const s=r.length*r.BYTES_PER_ELEMENT,_=t._malloc(s);t.HEAP8.set(r,_);const c=t._vsc_data_ctx_size(),i=t._malloc(c);t._vsc_data(i,_,s);const o=this.kemSharedKeyLen(n),l=t._vsc_buffer_new_with_capacity(o);try{const r=t._vscf_round5_kem_decapsulate(this.ctxPtr,i,n.ctxPtr,l);e.FoundationError.handleStatusCode(r);const s=t._vsc_buffer_bytes(l),c=t._vsc_buffer_len(l);return t.HEAPU8.slice(s,s+c)}finally{t._free(_),t._free(i),t._vsc_buffer_delete(l)}}setupDefaults(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_round5_setup_defaults(this.ctxPtr);e.FoundationError.handleStatusCode(r)}generateKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("algId",r);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_round5_generate_key(this.ctxPtr,r,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(_)}finally{t._free(s)}}}return r},dt=(t,e)=>{class r{constructor(e){this.name="CompoundKeyAlgInfo",this.ctxPtr=void 0===e?t._vscf_compound_key_alg_info_new():e}static newAndUseCContext(e){return new r(t._vscf_compound_key_alg_info_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_compound_key_alg_info_delete(this.ctxPtr),this.ctxPtr=null)}algId(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_compound_key_alg_info_alg_id(this.ctxPtr),e}cipherAlgInfo(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_compound_key_alg_info_cipher_alg_info(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}signerAlgInfo(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_compound_key_alg_info_signer_alg_info(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}}return r},pt=(t,e)=>{class r{constructor(e){this.name="CompoundPublicKey",this.ctxPtr=void 0===e?t._vscf_compound_public_key_new():e}static newAndUseCContext(e){return new r(t._vscf_compound_public_key_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_compound_public_key_delete(this.ctxPtr),this.ctxPtr=null)}algId(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_compound_public_key_alg_id(this.ctxPtr),e}algInfo(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_compound_public_key_alg_info(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}len(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_compound_public_key_len(this.ctxPtr),e}bitlen(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_compound_public_key_bitlen(this.ctxPtr),e}implTag(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_compound_public_key_impl_tag(this.ctxPtr),e}isValid(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_compound_public_key_is_valid(this.ctxPtr),!!e}cipherKey(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_compound_public_key_cipher_key(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}signerKey(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_compound_public_key_signer_key(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}}return r},ht=(t,e)=>{class r{constructor(e){this.name="CompoundPrivateKey",this.ctxPtr=void 0===e?t._vscf_compound_private_key_new():e}static newAndUseCContext(e){return new r(t._vscf_compound_private_key_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_compound_private_key_delete(this.ctxPtr),this.ctxPtr=null)}algId(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_compound_private_key_alg_id(this.ctxPtr),e}algInfo(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_compound_private_key_alg_info(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}len(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_compound_private_key_len(this.ctxPtr),e}bitlen(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_compound_private_key_bitlen(this.ctxPtr),e}implTag(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_compound_private_key_impl_tag(this.ctxPtr),e}isValid(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_compound_private_key_is_valid(this.ctxPtr),!!e}extractPublicKey(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_compound_private_key_extract_public_key(this.ctxPtr),e.FoundationInterface.newAndTakeCContext(r)}cipherKey(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_compound_private_key_cipher_key(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}signerKey(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_compound_private_key_signer_key(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}}return r},yt=(t,e)=>{class r{static get CAN_IMPORT_PUBLIC_KEY(){return!0}get CAN_IMPORT_PUBLIC_KEY(){return r.CAN_IMPORT_PUBLIC_KEY}static get CAN_EXPORT_PUBLIC_KEY(){return!0}get CAN_EXPORT_PUBLIC_KEY(){return r.CAN_EXPORT_PUBLIC_KEY}static get CAN_IMPORT_PRIVATE_KEY(){return!0}get CAN_IMPORT_PRIVATE_KEY(){return r.CAN_IMPORT_PRIVATE_KEY}static get CAN_EXPORT_PRIVATE_KEY(){return!0}get CAN_EXPORT_PRIVATE_KEY(){return r.CAN_EXPORT_PRIVATE_KEY}constructor(e){this.name="CompoundKeyAlg",this.ctxPtr=void 0===e?t._vscf_compound_key_alg_new():e}static newAndUseCContext(e){return new r(t._vscf_compound_key_alg_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_compound_key_alg_delete(this.ctxPtr),this.ctxPtr=null)}set random(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("random",r,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface),t._vscf_compound_key_alg_release_random(this.ctxPtr),t._vscf_compound_key_alg_use_random(this.ctxPtr,r.ctxPtr)}algId(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_compound_key_alg_alg_id(this.ctxPtr),e}produceAlgInfo(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_compound_key_alg_produce_alg_info(this.ctxPtr),e.FoundationInterface.newAndTakeCContext(r)}restoreAlgInfo(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const n=t._vscf_compound_key_alg_restore_alg_info(this.ctxPtr,r.ctxPtr);e.FoundationError.handleStatusCode(n)}generateEphemeralKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("key",r,"Foundation.Key",e.FoundationInterfaceTag.KEY,e.FoundationInterface);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_compound_key_alg_generate_ephemeral_key(this.ctxPtr,r.ctxPtr,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(_)}finally{t._free(s)}}importPublicKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureClass("rawKey",r,e.RawPublicKey);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_compound_key_alg_import_public_key(this.ctxPtr,r.ctxPtr,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(_)}finally{t._free(s)}}importPublicKeyData(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("keyData",r),a.ensureImplementInterface("keyAlgInfo",n,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const s=r.length*r.BYTES_PER_ELEMENT,_=t._malloc(s);t.HEAP8.set(r,_);const c=t._vsc_data_ctx_size(),i=t._malloc(c);t._vsc_data(i,_,s);const o=t._vscf_error_ctx_size(),l=t._malloc(o);let u;t._vscf_error_reset(l);try{u=t._vscf_compound_key_alg_import_public_key_data(this.ctxPtr,i,n.ctxPtr,l);const r=t._vscf_error_status(l);return e.FoundationError.handleStatusCode(r),e.FoundationInterface.newAndTakeCContext(u)}finally{t._free(_),t._free(i),t._free(l)}}exportPublicKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_compound_key_alg_export_public_key(this.ctxPtr,r.ctxPtr,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),e.RawPublicKey.newAndTakeCContext(_)}finally{t._free(s)}}exportedPublicKeyDataLen(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),n=t._vscf_compound_key_alg_exported_public_key_data_len(this.ctxPtr,r.ctxPtr),n}exportPublicKeyData(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface);const n=this.exportedPublicKeyDataLen(r),s=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_compound_key_alg_export_public_key_data(this.ctxPtr,r.ctxPtr,s);e.FoundationError.handleStatusCode(n);const _=t._vsc_buffer_bytes(s),c=t._vsc_buffer_len(s);return t.HEAPU8.slice(_,_+c)}finally{t._vsc_buffer_delete(s)}}importPrivateKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureClass("rawKey",r,e.RawPrivateKey);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_compound_key_alg_import_private_key(this.ctxPtr,r.ctxPtr,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(_)}finally{t._free(s)}}importPrivateKeyData(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("keyData",r),a.ensureImplementInterface("keyAlgInfo",n,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const s=r.length*r.BYTES_PER_ELEMENT,_=t._malloc(s);t.HEAP8.set(r,_);const c=t._vsc_data_ctx_size(),i=t._malloc(c);t._vsc_data(i,_,s);const o=t._vscf_error_ctx_size(),l=t._malloc(o);let u;t._vscf_error_reset(l);try{u=t._vscf_compound_key_alg_import_private_key_data(this.ctxPtr,i,n.ctxPtr,l);const r=t._vscf_error_status(l);return e.FoundationError.handleStatusCode(r),e.FoundationInterface.newAndTakeCContext(u)}finally{t._free(_),t._free(i),t._free(l)}}exportPrivateKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_compound_key_alg_export_private_key(this.ctxPtr,r.ctxPtr,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),e.RawPrivateKey.newAndTakeCContext(_)}finally{t._free(s)}}exportedPrivateKeyDataLen(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),n=t._vscf_compound_key_alg_exported_private_key_data_len(this.ctxPtr,r.ctxPtr),n}exportPrivateKeyData(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const n=this.exportedPrivateKeyDataLen(r),s=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_compound_key_alg_export_private_key_data(this.ctxPtr,r.ctxPtr,s);e.FoundationError.handleStatusCode(n);const _=t._vsc_buffer_bytes(s),c=t._vsc_buffer_len(s);return t.HEAPU8.slice(_,_+c)}finally{t._vsc_buffer_delete(s)}}canEncrypt(r,n){let s;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),a.ensureNumber("dataLen",n),s=t._vscf_compound_key_alg_can_encrypt(this.ctxPtr,r.ctxPtr,n),!!s}encryptedLen(r,n){let s;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),a.ensureNumber("dataLen",n),s=t._vscf_compound_key_alg_encrypted_len(this.ctxPtr,r.ctxPtr,n),s}encrypt(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),a.ensureByteArray("data",n);const s=n.length*n.BYTES_PER_ELEMENT,_=t._malloc(s);t.HEAP8.set(n,_);const c=t._vsc_data_ctx_size(),i=t._malloc(c);t._vsc_data(i,_,s);const o=this.encryptedLen(r,n.length),l=t._vsc_buffer_new_with_capacity(o);try{const n=t._vscf_compound_key_alg_encrypt(this.ctxPtr,r.ctxPtr,i,l);e.FoundationError.handleStatusCode(n);const s=t._vsc_buffer_bytes(l),c=t._vsc_buffer_len(l);return t.HEAPU8.slice(s,s+c)}finally{t._free(_),t._free(i),t._vsc_buffer_delete(l)}}canDecrypt(r,n){let s;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),a.ensureNumber("dataLen",n),s=t._vscf_compound_key_alg_can_decrypt(this.ctxPtr,r.ctxPtr,n),!!s}decryptedLen(r,n){let s;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),a.ensureNumber("dataLen",n),s=t._vscf_compound_key_alg_decrypted_len(this.ctxPtr,r.ctxPtr,n),s}decrypt(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),a.ensureByteArray("data",n);const s=n.length*n.BYTES_PER_ELEMENT,_=t._malloc(s);t.HEAP8.set(n,_);const c=t._vsc_data_ctx_size(),i=t._malloc(c);t._vsc_data(i,_,s);const o=this.decryptedLen(r,n.length),l=t._vsc_buffer_new_with_capacity(o);try{const n=t._vscf_compound_key_alg_decrypt(this.ctxPtr,r.ctxPtr,i,l);e.FoundationError.handleStatusCode(n);const s=t._vsc_buffer_bytes(l),c=t._vsc_buffer_len(l);return t.HEAPU8.slice(s,s+c)}finally{t._free(_),t._free(i),t._vsc_buffer_delete(l)}}canSign(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),n=t._vscf_compound_key_alg_can_sign(this.ctxPtr,r.ctxPtr),!!n}signatureLen(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),n=t._vscf_compound_key_alg_signature_len(this.ctxPtr,r.ctxPtr),n}signHash(r,n,s){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),a.ensureNumber("hashId",n),a.ensureByteArray("digest",s);const _=s.length*s.BYTES_PER_ELEMENT,c=t._malloc(_);t.HEAP8.set(s,c);const i=t._vsc_data_ctx_size(),o=t._malloc(i);t._vsc_data(o,c,_);const l=this.signatureLen(r),u=t._vsc_buffer_new_with_capacity(l);try{const s=t._vscf_compound_key_alg_sign_hash(this.ctxPtr,r.ctxPtr,n,o,u);e.FoundationError.handleStatusCode(s);const _=t._vsc_buffer_bytes(u),a=t._vsc_buffer_len(u);return t.HEAPU8.slice(_,_+a)}finally{t._free(c),t._free(o),t._vsc_buffer_delete(u)}}canVerify(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),n=t._vscf_compound_key_alg_can_verify(this.ctxPtr,r.ctxPtr),!!n}verifyHash(r,n,s,_){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),a.ensureNumber("hashId",n),a.ensureByteArray("digest",s),a.ensureByteArray("signature",_);const c=s.length*s.BYTES_PER_ELEMENT,i=t._malloc(c);t.HEAP8.set(s,i);const o=t._vsc_data_ctx_size(),l=t._malloc(o);t._vsc_data(l,i,c);const u=_.length*_.BYTES_PER_ELEMENT,f=t._malloc(u);t.HEAP8.set(_,f);const d=t._vsc_data_ctx_size(),p=t._malloc(d);let h;t._vsc_data(p,f,u);try{return h=t._vscf_compound_key_alg_verify_hash(this.ctxPtr,r.ctxPtr,n,l,p),!!h}finally{t._free(i),t._free(l),t._free(f),t._free(p)}}setupDefaults(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_compound_key_alg_setup_defaults(this.ctxPtr);e.FoundationError.handleStatusCode(r)}makeKey(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("cipherKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),a.ensureImplementInterface("signerKey",n,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const s=t._vscf_error_ctx_size(),_=t._malloc(s);let c;t._vscf_error_reset(_);try{c=t._vscf_compound_key_alg_make_key(this.ctxPtr,r.ctxPtr,n.ctxPtr,_);const s=t._vscf_error_status(_);return e.FoundationError.handleStatusCode(s),e.FoundationInterface.newAndTakeCContext(c)}finally{t._free(_)}}}return r},vt=(t,e)=>{class r{constructor(e){this.name="HybridKeyAlgInfo",this.ctxPtr=void 0===e?t._vscf_hybrid_key_alg_info_new():e}static newAndUseCContext(e){return new r(t._vscf_hybrid_key_alg_info_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_hybrid_key_alg_info_delete(this.ctxPtr),this.ctxPtr=null)}algId(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_hybrid_key_alg_info_alg_id(this.ctxPtr),e}firstKeyAlgInfo(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_hybrid_key_alg_info_first_key_alg_info(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}secondKeyAlgInfo(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_hybrid_key_alg_info_second_key_alg_info(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}}return r},Pt=(t,e)=>{class r{constructor(e){this.name="HybridPublicKey",this.ctxPtr=void 0===e?t._vscf_hybrid_public_key_new():e}static newAndUseCContext(e){return new r(t._vscf_hybrid_public_key_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_hybrid_public_key_delete(this.ctxPtr),this.ctxPtr=null)}algId(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_hybrid_public_key_alg_id(this.ctxPtr),e}algInfo(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_hybrid_public_key_alg_info(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}len(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_hybrid_public_key_len(this.ctxPtr),e}bitlen(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_hybrid_public_key_bitlen(this.ctxPtr),e}implTag(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_hybrid_public_key_impl_tag(this.ctxPtr),e}isValid(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_hybrid_public_key_is_valid(this.ctxPtr),!!e}firstKey(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_hybrid_public_key_first_key(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}secondKey(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_hybrid_public_key_second_key(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}}return r},mt=(t,e)=>{class r{constructor(e){this.name="HybridPrivateKey",this.ctxPtr=void 0===e?t._vscf_hybrid_private_key_new():e}static newAndUseCContext(e){return new r(t._vscf_hybrid_private_key_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_hybrid_private_key_delete(this.ctxPtr),this.ctxPtr=null)}algId(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_hybrid_private_key_alg_id(this.ctxPtr),e}algInfo(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_hybrid_private_key_alg_info(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}len(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_hybrid_private_key_len(this.ctxPtr),e}bitlen(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_hybrid_private_key_bitlen(this.ctxPtr),e}implTag(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_hybrid_private_key_impl_tag(this.ctxPtr),e}isValid(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_hybrid_private_key_is_valid(this.ctxPtr),!!e}extractPublicKey(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_hybrid_private_key_extract_public_key(this.ctxPtr),e.FoundationInterface.newAndTakeCContext(r)}firstKey(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_hybrid_private_key_first_key(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}secondKey(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_hybrid_private_key_second_key(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}}return r},xt=(t,e)=>{class r{static get CAN_IMPORT_PUBLIC_KEY(){return!0}get CAN_IMPORT_PUBLIC_KEY(){return r.CAN_IMPORT_PUBLIC_KEY}static get CAN_EXPORT_PUBLIC_KEY(){return!0}get CAN_EXPORT_PUBLIC_KEY(){return r.CAN_EXPORT_PUBLIC_KEY}static get CAN_IMPORT_PRIVATE_KEY(){return!0}get CAN_IMPORT_PRIVATE_KEY(){return r.CAN_IMPORT_PRIVATE_KEY}static get CAN_EXPORT_PRIVATE_KEY(){return!0}get CAN_EXPORT_PRIVATE_KEY(){return r.CAN_EXPORT_PRIVATE_KEY}constructor(e){this.name="HybridKeyAlg",this.ctxPtr=void 0===e?t._vscf_hybrid_key_alg_new():e}static newAndUseCContext(e){return new r(t._vscf_hybrid_key_alg_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_hybrid_key_alg_delete(this.ctxPtr),this.ctxPtr=null)}set random(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("random",r,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface),t._vscf_hybrid_key_alg_release_random(this.ctxPtr),t._vscf_hybrid_key_alg_use_random(this.ctxPtr,r.ctxPtr)}set cipher(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("cipher",r,"Foundation.CipherAuth",e.FoundationInterfaceTag.CIPHER_AUTH,e.FoundationInterface),t._vscf_hybrid_key_alg_release_cipher(this.ctxPtr),t._vscf_hybrid_key_alg_use_cipher(this.ctxPtr,r.ctxPtr)}set hash(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("hash",r,"Foundation.Hash",e.FoundationInterfaceTag.HASH,e.FoundationInterface),t._vscf_hybrid_key_alg_release_hash(this.ctxPtr),t._vscf_hybrid_key_alg_use_hash(this.ctxPtr,r.ctxPtr)}generateEphemeralKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("key",r,"Foundation.Key",e.FoundationInterfaceTag.KEY,e.FoundationInterface);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_hybrid_key_alg_generate_ephemeral_key(this.ctxPtr,r.ctxPtr,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(_)}finally{t._free(s)}}importPublicKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureClass("rawKey",r,e.RawPublicKey);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_hybrid_key_alg_import_public_key(this.ctxPtr,r.ctxPtr,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(_)}finally{t._free(s)}}importPublicKeyData(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("keyData",r),a.ensureImplementInterface("keyAlgInfo",n,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const s=r.length*r.BYTES_PER_ELEMENT,_=t._malloc(s);t.HEAP8.set(r,_);const c=t._vsc_data_ctx_size(),i=t._malloc(c);t._vsc_data(i,_,s);const o=t._vscf_error_ctx_size(),l=t._malloc(o);let u;t._vscf_error_reset(l);try{u=t._vscf_hybrid_key_alg_import_public_key_data(this.ctxPtr,i,n.ctxPtr,l);const r=t._vscf_error_status(l);return e.FoundationError.handleStatusCode(r),e.FoundationInterface.newAndTakeCContext(u)}finally{t._free(_),t._free(i),t._free(l)}}exportPublicKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_hybrid_key_alg_export_public_key(this.ctxPtr,r.ctxPtr,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),e.RawPublicKey.newAndTakeCContext(_)}finally{t._free(s)}}exportedPublicKeyDataLen(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),n=t._vscf_hybrid_key_alg_exported_public_key_data_len(this.ctxPtr,r.ctxPtr),n}exportPublicKeyData(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface);const n=this.exportedPublicKeyDataLen(r),s=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_hybrid_key_alg_export_public_key_data(this.ctxPtr,r.ctxPtr,s);e.FoundationError.handleStatusCode(n);const _=t._vsc_buffer_bytes(s),c=t._vsc_buffer_len(s);return t.HEAPU8.slice(_,_+c)}finally{t._vsc_buffer_delete(s)}}importPrivateKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureClass("rawKey",r,e.RawPrivateKey);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_hybrid_key_alg_import_private_key(this.ctxPtr,r.ctxPtr,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(_)}finally{t._free(s)}}importPrivateKeyData(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("keyData",r),a.ensureImplementInterface("keyAlgInfo",n,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const s=r.length*r.BYTES_PER_ELEMENT,_=t._malloc(s);t.HEAP8.set(r,_);const c=t._vsc_data_ctx_size(),i=t._malloc(c);t._vsc_data(i,_,s);const o=t._vscf_error_ctx_size(),l=t._malloc(o);let u;t._vscf_error_reset(l);try{u=t._vscf_hybrid_key_alg_import_private_key_data(this.ctxPtr,i,n.ctxPtr,l);const r=t._vscf_error_status(l);return e.FoundationError.handleStatusCode(r),e.FoundationInterface.newAndTakeCContext(u)}finally{t._free(_),t._free(i),t._free(l)}}exportPrivateKey(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const n=t._vscf_error_ctx_size(),s=t._malloc(n);let _;t._vscf_error_reset(s);try{_=t._vscf_hybrid_key_alg_export_private_key(this.ctxPtr,r.ctxPtr,s);const n=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(n),e.RawPrivateKey.newAndTakeCContext(_)}finally{t._free(s)}}exportedPrivateKeyDataLen(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),n=t._vscf_hybrid_key_alg_exported_private_key_data_len(this.ctxPtr,r.ctxPtr),n}exportPrivateKeyData(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const n=this.exportedPrivateKeyDataLen(r),s=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_hybrid_key_alg_export_private_key_data(this.ctxPtr,r.ctxPtr,s);e.FoundationError.handleStatusCode(n);const _=t._vsc_buffer_bytes(s),c=t._vsc_buffer_len(s);return t.HEAPU8.slice(_,_+c)}finally{t._vsc_buffer_delete(s)}}canEncrypt(r,n){let s;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),a.ensureNumber("dataLen",n),s=t._vscf_hybrid_key_alg_can_encrypt(this.ctxPtr,r.ctxPtr,n),!!s}encryptedLen(r,n){let s;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),a.ensureNumber("dataLen",n),s=t._vscf_hybrid_key_alg_encrypted_len(this.ctxPtr,r.ctxPtr,n),s}encrypt(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),a.ensureByteArray("data",n);const s=n.length*n.BYTES_PER_ELEMENT,_=t._malloc(s);t.HEAP8.set(n,_);const c=t._vsc_data_ctx_size(),i=t._malloc(c);t._vsc_data(i,_,s);const o=this.encryptedLen(r,n.length),l=t._vsc_buffer_new_with_capacity(o);try{const n=t._vscf_hybrid_key_alg_encrypt(this.ctxPtr,r.ctxPtr,i,l);e.FoundationError.handleStatusCode(n);const s=t._vsc_buffer_bytes(l),c=t._vsc_buffer_len(l);return t.HEAPU8.slice(s,s+c)}finally{t._free(_),t._free(i),t._vsc_buffer_delete(l)}}canDecrypt(r,n){let s;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),a.ensureNumber("dataLen",n),s=t._vscf_hybrid_key_alg_can_decrypt(this.ctxPtr,r.ctxPtr,n),!!s}decryptedLen(r,n){let s;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),a.ensureNumber("dataLen",n),s=t._vscf_hybrid_key_alg_decrypted_len(this.ctxPtr,r.ctxPtr,n),s}decrypt(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),a.ensureByteArray("data",n);const s=n.length*n.BYTES_PER_ELEMENT,_=t._malloc(s);t.HEAP8.set(n,_);const c=t._vsc_data_ctx_size(),i=t._malloc(c);t._vsc_data(i,_,s);const o=this.decryptedLen(r,n.length),l=t._vsc_buffer_new_with_capacity(o);try{const n=t._vscf_hybrid_key_alg_decrypt(this.ctxPtr,r.ctxPtr,i,l);e.FoundationError.handleStatusCode(n);const s=t._vsc_buffer_bytes(l),c=t._vsc_buffer_len(l);return t.HEAPU8.slice(s,s+c)}finally{t._free(_),t._free(i),t._vsc_buffer_delete(l)}}canSign(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),n=t._vscf_hybrid_key_alg_can_sign(this.ctxPtr,r.ctxPtr),!!n}signatureLen(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),n=t._vscf_hybrid_key_alg_signature_len(this.ctxPtr,r.ctxPtr),n}signHash(r,n,s){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),a.ensureNumber("hashId",n),a.ensureByteArray("digest",s);const _=s.length*s.BYTES_PER_ELEMENT,c=t._malloc(_);t.HEAP8.set(s,c);const i=t._vsc_data_ctx_size(),o=t._malloc(i);t._vsc_data(o,c,_);const l=this.signatureLen(r),u=t._vsc_buffer_new_with_capacity(l);try{const s=t._vscf_hybrid_key_alg_sign_hash(this.ctxPtr,r.ctxPtr,n,o,u);e.FoundationError.handleStatusCode(s);const _=t._vsc_buffer_bytes(u),a=t._vsc_buffer_len(u);return t.HEAPU8.slice(_,_+a)}finally{t._free(c),t._free(o),t._vsc_buffer_delete(u)}}canVerify(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),n=t._vscf_hybrid_key_alg_can_verify(this.ctxPtr,r.ctxPtr),!!n}verifyHash(r,n,s,_){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),a.ensureNumber("hashId",n),a.ensureByteArray("digest",s),a.ensureByteArray("signature",_);const c=s.length*s.BYTES_PER_ELEMENT,i=t._malloc(c);t.HEAP8.set(s,i);const o=t._vsc_data_ctx_size(),l=t._malloc(o);t._vsc_data(l,i,c);const u=_.length*_.BYTES_PER_ELEMENT,f=t._malloc(u);t.HEAP8.set(_,f);const d=t._vsc_data_ctx_size(),p=t._malloc(d);let h;t._vsc_data(p,f,u);try{return h=t._vscf_hybrid_key_alg_verify_hash(this.ctxPtr,r.ctxPtr,n,l,p),!!h}finally{t._free(i),t._free(l),t._free(f),t._free(p)}}setupDefaults(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_hybrid_key_alg_setup_defaults(this.ctxPtr);e.FoundationError.handleStatusCode(r)}makeKey(r,n){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("firstKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),a.ensureImplementInterface("secondKey",n,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const s=t._vscf_error_ctx_size(),_=t._malloc(s);let c;t._vscf_error_reset(_);try{c=t._vscf_hybrid_key_alg_make_key(this.ctxPtr,r.ctxPtr,n.ctxPtr,_);const s=t._vscf_error_status(_);return e.FoundationError.handleStatusCode(s),e.FoundationInterface.newAndTakeCContext(c)}finally{t._free(_)}}}return r},gt=(t,e)=>{class r{constructor(e){this.name="SimpleAlgInfo",this.ctxPtr=void 0===e?t._vscf_simple_alg_info_new():e}static newAndUseCContext(e){return new r(t._vscf_simple_alg_info_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_simple_alg_info_delete(this.ctxPtr),this.ctxPtr=null)}static newWithAlgId(e){let n;return a.ensureNumber("algId",e),n=t._vscf_simple_alg_info_new_with_alg_id(e),r.newAndTakeCContext(n)}algId(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_simple_alg_info_alg_id(this.ctxPtr),e}}return r},Et=(t,e)=>{class r{constructor(e){this.name="HashBasedAlgInfo",this.ctxPtr=void 0===e?t._vscf_hash_based_alg_info_new():e}static newAndUseCContext(e){return new r(t._vscf_hash_based_alg_info_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_hash_based_alg_info_delete(this.ctxPtr),this.ctxPtr=null)}algId(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_hash_based_alg_info_alg_id(this.ctxPtr),e}hashAlgInfo(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_hash_based_alg_info_hash_alg_info(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}}return r},It=(t,e)=>{class r{constructor(e){this.name="CipherAlgInfo",this.ctxPtr=void 0===e?t._vscf_cipher_alg_info_new():e}static newAndUseCContext(e){return new r(t._vscf_cipher_alg_info_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_cipher_alg_info_delete(this.ctxPtr),this.ctxPtr=null)}static newWithMembers(e,n){a.ensureNumber("algId",e),a.ensureByteArray("nonce",n);const s=n.length*n.BYTES_PER_ELEMENT,_=t._malloc(s);t.HEAP8.set(n,_);const c=t._vsc_data_ctx_size(),i=t._malloc(c);let o;t._vsc_data(i,_,s);try{return o=t._vscf_cipher_alg_info_new_with_members(e,i),r.newAndTakeCContext(o)}finally{t._free(_),t._free(i)}}algId(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_cipher_alg_info_alg_id(this.ctxPtr),e}nonce(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const e=t._vsc_data_ctx_size(),r=t._malloc(e);try{t._vscf_cipher_alg_info_nonce(r,this.ctxPtr);const e=t._vsc_data_len(r),n=t._vsc_data_bytes(r);return t.HEAPU8.slice(n,n+e)}finally{t._free(r)}}}return r},Nt=(t,e)=>{class r{constructor(e){this.name="SaltedKdfAlgInfo",this.ctxPtr=void 0===e?t._vscf_salted_kdf_alg_info_new():e}static newAndUseCContext(e){return new r(t._vscf_salted_kdf_alg_info_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_salted_kdf_alg_info_delete(this.ctxPtr),this.ctxPtr=null)}algId(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_salted_kdf_alg_info_alg_id(this.ctxPtr),e}hashAlgInfo(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_salted_kdf_alg_info_hash_alg_info(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}salt(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const e=t._vsc_data_ctx_size(),r=t._malloc(e);try{t._vscf_salted_kdf_alg_info_salt(r,this.ctxPtr);const e=t._vsc_data_len(r),n=t._vsc_data_bytes(r);return t.HEAPU8.slice(n,n+e)}finally{t._free(r)}}iterationCount(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_salted_kdf_alg_info_iteration_count(this.ctxPtr),e}}return r},wt=(t,e)=>{class r{constructor(e){this.name="PbeAlgInfo",this.ctxPtr=void 0===e?t._vscf_pbe_alg_info_new():e}static newAndUseCContext(e){return new r(t._vscf_pbe_alg_info_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_pbe_alg_info_delete(this.ctxPtr),this.ctxPtr=null)}algId(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_pbe_alg_info_alg_id(this.ctxPtr),e}kdfAlgInfo(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_pbe_alg_info_kdf_alg_info(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}cipherAlgInfo(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_pbe_alg_info_cipher_alg_info(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}}return r},bt=(t,e)=>{class r{constructor(e){this.name="EccAlgInfo",this.ctxPtr=void 0===e?t._vscf_ecc_alg_info_new():e}static newAndUseCContext(e){return new r(t._vscf_ecc_alg_info_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_ecc_alg_info_delete(this.ctxPtr),this.ctxPtr=null)}static newWithMembers(e,n,s){let _;return a.ensureNumber("algId",e),a.ensureNumber("keyId",n),a.ensureNumber("domainId",s),_=t._vscf_ecc_alg_info_new_with_members(e,n,s),r.newAndTakeCContext(_)}algId(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_ecc_alg_info_alg_id(this.ctxPtr),e}keyId(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_ecc_alg_info_key_id(this.ctxPtr),e}domainId(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_ecc_alg_info_domain_id(this.ctxPtr),e}}return r},At=(t,e)=>{class r{constructor(e){this.name="AlgInfoDerSerializer",this.ctxPtr=void 0===e?t._vscf_alg_info_der_serializer_new():e}static newAndUseCContext(e){return new r(t._vscf_alg_info_der_serializer_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_alg_info_der_serializer_delete(this.ctxPtr),this.ctxPtr=null)}set asn1Writer(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("asn1Writer",r,"Foundation.Asn1Writer",e.FoundationInterfaceTag.ASN1_WRITER,e.FoundationInterface),t._vscf_alg_info_der_serializer_release_asn1_writer(this.ctxPtr),t._vscf_alg_info_der_serializer_use_asn1_writer(this.ctxPtr,r.ctxPtr)}serializedLen(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface),n=t._vscf_alg_info_der_serializer_serialized_len(this.ctxPtr,r.ctxPtr),n}serialize(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const n=this.serializedLen(r),s=t._vsc_buffer_new_with_capacity(n);try{t._vscf_alg_info_der_serializer_serialize(this.ctxPtr,r.ctxPtr,s);const e=t._vsc_buffer_bytes(s),n=t._vsc_buffer_len(s);return t.HEAPU8.slice(e,e+n)}finally{t._vsc_buffer_delete(s)}}setupDefaults(){a.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_alg_info_der_serializer_setup_defaults(this.ctxPtr)}serializeInplace(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface),n=t._vscf_alg_info_der_serializer_serialize_inplace(this.ctxPtr,r.ctxPtr),n}}return r},kt=(t,e)=>{class r{constructor(e){this.name="AlgInfoDerDeserializer",this.ctxPtr=void 0===e?t._vscf_alg_info_der_deserializer_new():e}static newAndUseCContext(e){return new r(t._vscf_alg_info_der_deserializer_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_alg_info_der_deserializer_delete(this.ctxPtr),this.ctxPtr=null)}set asn1Reader(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("asn1Reader",r,"Foundation.Asn1Reader",e.FoundationInterfaceTag.ASN1_READER,e.FoundationInterface),t._vscf_alg_info_der_deserializer_release_asn1_reader(this.ctxPtr),t._vscf_alg_info_der_deserializer_use_asn1_reader(this.ctxPtr,r.ctxPtr)}deserialize(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("data",r);const n=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(n);t.HEAP8.set(r,s);const _=t._vsc_data_ctx_size(),c=t._malloc(_);t._vsc_data(c,s,n);const i=t._vscf_error_ctx_size(),o=t._malloc(i);let l;t._vscf_error_reset(o);try{l=t._vscf_alg_info_der_deserializer_deserialize(this.ctxPtr,c,o);const r=t._vscf_error_status(o);return e.FoundationError.handleStatusCode(r),e.FoundationInterface.newAndTakeCContext(l)}finally{t._free(s),t._free(c),t._free(o)}}setupDefaults(){a.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_alg_info_der_deserializer_setup_defaults(this.ctxPtr)}deserializeInplace(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_error_ctx_size(),n=t._malloc(r);let s;t._vscf_error_reset(n);try{s=t._vscf_alg_info_der_deserializer_deserialize_inplace(this.ctxPtr,n);const r=t._vscf_error_status(n);return e.FoundationError.handleStatusCode(r),e.FoundationInterface.newAndTakeCContext(s)}finally{t._free(n)}}}return r},Ct=(t,e)=>{class r{static get PREFIX_LEN(){return 32}get PREFIX_LEN(){return r.PREFIX_LEN}constructor(e){this.name="MessageInfoDerSerializer",this.ctxPtr=void 0===e?t._vscf_message_info_der_serializer_new():e}static newAndUseCContext(e){return new r(t._vscf_message_info_der_serializer_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_message_info_der_serializer_delete(this.ctxPtr),this.ctxPtr=null)}set asn1Reader(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("asn1Reader",r,"Foundation.Asn1Reader",e.FoundationInterfaceTag.ASN1_READER,e.FoundationInterface),t._vscf_message_info_der_serializer_release_asn1_reader(this.ctxPtr),t._vscf_message_info_der_serializer_use_asn1_reader(this.ctxPtr,r.ctxPtr)}set asn1Writer(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("asn1Writer",r,"Foundation.Asn1Writer",e.FoundationInterfaceTag.ASN1_WRITER,e.FoundationInterface),t._vscf_message_info_der_serializer_release_asn1_writer(this.ctxPtr),t._vscf_message_info_der_serializer_use_asn1_writer(this.ctxPtr,r.ctxPtr)}serializedLen(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureClass("messageInfo",r,e.MessageInfo),n=t._vscf_message_info_der_serializer_serialized_len(this.ctxPtr,r.ctxPtr),n}serialize(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureClass("messageInfo",r,e.MessageInfo);const n=this.serializedLen(r),s=t._vsc_buffer_new_with_capacity(n);try{t._vscf_message_info_der_serializer_serialize(this.ctxPtr,r.ctxPtr,s);const e=t._vsc_buffer_bytes(s),n=t._vsc_buffer_len(s);return t.HEAPU8.slice(e,e+n)}finally{t._vsc_buffer_delete(s)}}readPrefix(e){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("data",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const s=t._vsc_data_ctx_size(),_=t._malloc(s);let c;t._vsc_data(_,n,r);try{return c=t._vscf_message_info_der_serializer_read_prefix(this.ctxPtr,_),c}finally{t._free(n),t._free(_)}}deserialize(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("data",r);const n=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(n);t.HEAP8.set(r,s);const _=t._vsc_data_ctx_size(),c=t._malloc(_);t._vsc_data(c,s,n);const i=t._vscf_error_ctx_size(),o=t._malloc(i);let l;t._vscf_error_reset(o);try{l=t._vscf_message_info_der_serializer_deserialize(this.ctxPtr,c,o);const r=t._vscf_error_status(o);return e.FoundationError.handleStatusCode(r),e.MessageInfo.newAndTakeCContext(l)}finally{t._free(s),t._free(c),t._free(o)}}serializedFooterLen(r){let n;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureClass("messageInfoFooter",r,e.MessageInfoFooter),n=t._vscf_message_info_der_serializer_serialized_footer_len(this.ctxPtr,r.ctxPtr),n}serializeFooter(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureClass("messageInfoFooter",r,e.MessageInfoFooter);const n=this.serializedFooterLen(r),s=t._vsc_buffer_new_with_capacity(n);try{t._vscf_message_info_der_serializer_serialize_footer(this.ctxPtr,r.ctxPtr,s);const e=t._vsc_buffer_bytes(s),n=t._vsc_buffer_len(s);return t.HEAPU8.slice(e,e+n)}finally{t._vsc_buffer_delete(s)}}deserializeFooter(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("data",r);const n=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(n);t.HEAP8.set(r,s);const _=t._vsc_data_ctx_size(),c=t._malloc(_);t._vsc_data(c,s,n);const i=t._vscf_error_ctx_size(),o=t._malloc(i);let l;t._vscf_error_reset(o);try{l=t._vscf_message_info_der_serializer_deserialize_footer(this.ctxPtr,c,o);const r=t._vscf_error_status(o);return e.FoundationError.handleStatusCode(r),e.MessageInfoFooter.newAndTakeCContext(l)}finally{t._free(s),t._free(c),t._free(o)}}setupDefaults(){a.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_message_info_der_serializer_setup_defaults(this.ctxPtr)}}return r},Tt=(t,e)=>{class r{constructor(e){this.name="RandomPadding",this.ctxPtr=void 0===e?t._vscf_random_padding_new():e}static newAndUseCContext(e){return new r(t._vscf_random_padding_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){void 0!==this.ctxPtr&&null!==this.ctxPtr&&(t._vscf_random_padding_delete(this.ctxPtr),this.ctxPtr=null)}set random(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("random",r,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface),t._vscf_random_padding_release_random(this.ctxPtr),t._vscf_random_padding_use_random(this.ctxPtr,r.ctxPtr)}algId(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_random_padding_alg_id(this.ctxPtr),e}produceAlgInfo(){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_random_padding_produce_alg_info(this.ctxPtr),e.FoundationInterface.newAndTakeCContext(r)}restoreAlgInfo(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const n=t._vscf_random_padding_restore_alg_info(this.ctxPtr,r.ctxPtr);e.FoundationError.handleStatusCode(n)}configure(r){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureClass("params",r,e.PaddingParams),t._vscf_random_padding_configure(this.ctxPtr,r.ctxPtr)}paddedDataLen(e){let r;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureNumber("dataLen",e),r=t._vscf_random_padding_padded_data_len(this.ctxPtr,e),r}len(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_random_padding_len(this.ctxPtr),e}lenMax(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_random_padding_len_max(this.ctxPtr),e}startDataProcessing(){a.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_random_padding_start_data_processing(this.ctxPtr)}processData(e){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("data",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const s=t._vsc_data_ctx_size(),_=t._malloc(s);t._vsc_data(_,n,r);const c=t._vsc_data_ctx_size(),i=t._malloc(c);try{t._vscf_random_padding_process_data(i,this.ctxPtr,_);const e=t._vsc_data_len(i),r=t._vsc_data_bytes(i);return t.HEAPU8.slice(r,r+e)}finally{t._free(n),t._free(_),t._free(i)}}finishDataProcessing(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=this.len(),n=t._vsc_buffer_new_with_capacity(r);try{const r=t._vscf_random_padding_finish_data_processing(this.ctxPtr,n);e.FoundationError.handleStatusCode(r);const s=t._vsc_buffer_bytes(n),_=t._vsc_buffer_len(n);return t.HEAPU8.slice(s,s+_)}finally{t._vsc_buffer_delete(n)}}startPaddedDataProcessing(){a.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_random_padding_start_padded_data_processing(this.ctxPtr)}processPaddedData(e){a.ensureNotNull("this.ctxPtr",this.ctxPtr),a.ensureByteArray("data",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const s=t._vsc_data_ctx_size(),_=t._malloc(s);t._vsc_data(_,n,r);const c=r,i=t._vsc_buffer_new_with_capacity(c);try{t._vscf_random_padding_process_padded_data(this.ctxPtr,_,i);const e=t._vsc_buffer_bytes(i),r=t._vsc_buffer_len(i);return t.HEAPU8.slice(e,e+r)}finally{t._free(n),t._free(_),t._vsc_buffer_delete(i)}}finishPaddedDataProcessingOutLen(){let e;return a.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_random_padding_finish_padded_data_processing_out_len(this.ctxPtr),e}finishPaddedDataProcessing(){a.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=this.finishPaddedDataProcessingOutLen(),n=t._vsc_buffer_new_with_capacity(r);try{const r=t._vscf_random_padding_finish_padded_data_processing(this.ctxPtr,n);e.FoundationError.handleStatusCode(r);const s=t._vsc_buffer_bytes(n),_=t._vsc_buffer_len(n);return t.HEAPU8.slice(s,s+_)}finally{t._vsc_buffer_delete(n)}}}return r};var Ft,Kt=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}function s(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function _(t,e,n,_,c){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new s(n,_||t,c),i=r?r+e:e;return t._events[i]?t._events[i].fn?t._events[i]=[t._events[i],a]:t._events[i].push(a):(t._events[i]=a,t._eventsCount++),t}function c(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),a.prototype.eventNames=function(){var t,n,s=[];if(0===this._eventsCount)return s;for(n in t=this._events)e.call(t,n)&&s.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(t)):s},a.prototype.listeners=function(t){var e=r?r+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var s=0,_=n.length,c=new Array(_);s<_;s++)c[s]=n[s].fn;return c},a.prototype.listenerCount=function(t){var e=r?r+t:t,n=this._events[e];return n?n.fn?1:n.length:0},a.prototype.emit=function(t,e,n,s,_,c){var a=r?r+t:t;if(!this._events[a])return!1;var i,o,l=this._events[a],u=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),u){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,s),!0;case 5:return l.fn.call(l.context,e,n,s,_),!0;case 6:return l.fn.call(l.context,e,n,s,_,c),!0}for(o=1,i=new Array(u-1);o<u;o++)i[o-1]=arguments[o];l.fn.apply(l.context,i)}else{var f,d=l.length;for(o=0;o<d;o++)switch(l[o].once&&this.removeListener(t,l[o].fn,void 0,!0),u){case 1:l[o].fn.call(l[o].context);break;case 2:l[o].fn.call(l[o].context,e);break;case 3:l[o].fn.call(l[o].context,e,n);break;case 4:l[o].fn.call(l[o].context,e,n,s);break;default:if(!i)for(f=1,i=new Array(u-1);f<u;f++)i[f-1]=arguments[f];l[o].fn.apply(l[o].context,i)}}return!0},a.prototype.on=function(t,e,r){return _(this,t,e,r,!1)},a.prototype.once=function(t,e,r){return _(this,t,e,r,!0)},a.prototype.removeListener=function(t,e,n,s){var _=r?r+t:t;if(!this._events[_])return this;if(!e)return c(this,_),this;var a=this._events[_];if(a.fn)a.fn!==e||s&&!a.once||n&&a.context!==n||c(this,_);else{for(var i=0,o=[],l=a.length;i<l;i++)(a[i].fn!==e||s&&!a[i].once||n&&a[i].context!==n)&&o.push(a[i]);o.length?this._events[_]=1===o.length?o[0]:o:c(this,_)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&c(this,e)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a}));class St extends Error{constructor(){super("Module already exists."),Object.setPrototypeOf(this,St.prototype),this.name="ModuleAlreadyExistsError"}}class Lt extends Error{constructor(){super("Module not found."),Object.setPrototypeOf(this,Lt.prototype),this.name="ModuleNotFoundError"}}!function(t){t.load="load",t.remove="remove",t.error="error"}(Ft||(Ft={}));let Rt,Bt;const zt=()=>{if(!Rt||!Bt)throw new Error("Cannot use global instances if the 'resetGlobalInstances' function has been called or 'createGlobalInstances' function has not been called yet.")},Ut=()=>(zt(),Rt),Dt=()=>(zt(),Bt),Yt=()=>{(Rt||Bt)&&(zt(),Rt.delete(),Bt.delete(),Rt=void 0,Bt=void 0)},Mt=new class extends Kt{constructor(){super(...arguments),this.initFns=new Map,this.initPromises=new Map,this.modules=new Map,this.addModule=(t,e)=>{if(this.initFns.has(t)){const r=new St;throw this.emit(Ft.error,r,t,e),r}this.loadModulesPromise=void 0,this.initFns.set(t,e)},this.getModule=t=>{if(!this.modules.has(t)){const e=new Lt;throw this.emit(Ft.error,e,t),e}return this.modules.get(t)},this.hasModule=t=>this.modules.has(t),this.setModule=(t,e)=>{this.modules.set(t,e),this.emit(Ft.load,t,e)},this.removeModule=t=>{if(this.initFns.delete(t),this.initPromises.delete(t),this.modules.has(t)){const e=this.modules.get(t);this.modules.delete(t),this.emit(Ft.remove,t,e)}},this.loadModule=(t,...e)=>{if(!this.initFns.has(t)){const r=new Lt;throw this.emit(Ft.error,r,t,...e),r}if(this.initPromises.has(t))return this.initPromises.get(t);const r=this.initFns.get(t)(...e).then(r=>(this.modules.set(t,r),this.emit(Ft.load,t,r,...e),Promise.resolve()));return this.initPromises.set(t,r),r},this.loadModules=t=>{if(this.loadModulesPromise)return this.loadModulesPromise;const e=t||{},r=Array.from(this.initFns.keys()).map(t=>e[t]?this.loadModule(t,...e[t]):this.loadModule(t));return this.loadModulesPromise=Promise.all(r).then(()=>Promise.resolve()),this.loadModulesPromise}}};Mt.addModule("foundation",t=>{const e=new n(t);return new Promise((t,r)=>{e.onRuntimeInitialized=()=>{const r={};r.FoundationInterfaceTag=Object.freeze({ALG:1,ALG_INFO:2,ALG_INFO_DESERIALIZER:3,ALG_INFO_SERIALIZER:4,ASN1_READER:5,ASN1_WRITER:6,AUTH_DECRYPT:7,AUTH_ENCRYPT:8,CIPHER:9,CIPHER_AUTH:10,CIPHER_AUTH_INFO:11,CIPHER_INFO:12,COMPUTE_SHARED_KEY:13,DECRYPT:14,ENCRYPT:15,ENTROPY_SOURCE:16,HASH:17,KDF:18,KEM:19,KEY:20,KEY_ALG:21,KEY_CIPHER:22,KEY_DESERIALIZER:23,KEY_SERIALIZER:24,KEY_SIGNER:25,MAC:26,MESSAGE_INFO_FOOTER_SERIALIZER:27,MESSAGE_INFO_SERIALIZER:28,PADDING:29,PRIVATE_KEY:30,PUBLIC_KEY:31,RANDOM:32,SALTED_KDF:33}),r.FoundationInterface=((t,e)=>class{static newAndTakeCContext(r){const n=t._vscf_impl_tag(r);switch(n){case e.FoundationImplTag.SHA224:return e.Sha224.newAndTakeCContext(r);case e.FoundationImplTag.SHA256:return e.Sha256.newAndTakeCContext(r);case e.FoundationImplTag.SHA384:return e.Sha384.newAndTakeCContext(r);case e.FoundationImplTag.SHA512:return e.Sha512.newAndTakeCContext(r);case e.FoundationImplTag.AES256_GCM:return e.Aes256Gcm.newAndTakeCContext(r);case e.FoundationImplTag.AES256_CBC:return e.Aes256Cbc.newAndTakeCContext(r);case e.FoundationImplTag.ASN1RD:return e.Asn1rd.newAndTakeCContext(r);case e.FoundationImplTag.ASN1WR:return e.Asn1wr.newAndTakeCContext(r);case e.FoundationImplTag.RSA_PUBLIC_KEY:return e.RsaPublicKey.newAndTakeCContext(r);case e.FoundationImplTag.RSA_PRIVATE_KEY:return e.RsaPrivateKey.newAndTakeCContext(r);case e.FoundationImplTag.RSA:return e.Rsa.newAndTakeCContext(r);case e.FoundationImplTag.ECC_PUBLIC_KEY:return e.EccPublicKey.newAndTakeCContext(r);case e.FoundationImplTag.ECC_PRIVATE_KEY:return e.EccPrivateKey.newAndTakeCContext(r);case e.FoundationImplTag.ECC:return e.Ecc.newAndTakeCContext(r);case e.FoundationImplTag.ENTROPY_ACCUMULATOR:return e.EntropyAccumulator.newAndTakeCContext(r);case e.FoundationImplTag.CTR_DRBG:return e.CtrDrbg.newAndTakeCContext(r);case e.FoundationImplTag.HMAC:return e.Hmac.newAndTakeCContext(r);case e.FoundationImplTag.HKDF:return e.Hkdf.newAndTakeCContext(r);case e.FoundationImplTag.KDF1:return e.Kdf1.newAndTakeCContext(r);case e.FoundationImplTag.KDF2:return e.Kdf2.newAndTakeCContext(r);case e.FoundationImplTag.FAKE_RANDOM:return e.FakeRandom.newAndTakeCContext(r);case e.FoundationImplTag.PKCS5_PBKDF2:return e.Pkcs5Pbkdf2.newAndTakeCContext(r);case e.FoundationImplTag.PKCS5_PBES2:return e.Pkcs5Pbes2.newAndTakeCContext(r);case e.FoundationImplTag.SEED_ENTROPY_SOURCE:return e.SeedEntropySource.newAndTakeCContext(r);case e.FoundationImplTag.KEY_MATERIAL_RNG:return e.KeyMaterialRng.newAndTakeCContext(r);case e.FoundationImplTag.RAW_PUBLIC_KEY:return e.RawPublicKey.newAndTakeCContext(r);case e.FoundationImplTag.RAW_PRIVATE_KEY:return e.RawPrivateKey.newAndTakeCContext(r);case e.FoundationImplTag.PKCS8_SERIALIZER:return e.Pkcs8Serializer.newAndTakeCContext(r);case e.FoundationImplTag.SEC1_SERIALIZER:return e.Sec1Serializer.newAndTakeCContext(r);case e.FoundationImplTag.KEY_ASN1_SERIALIZER:return e.KeyAsn1Serializer.newAndTakeCContext(r);case e.FoundationImplTag.KEY_ASN1_DESERIALIZER:return e.KeyAsn1Deserializer.newAndTakeCContext(r);case e.FoundationImplTag.ED25519:return e.Ed25519.newAndTakeCContext(r);case e.FoundationImplTag.CURVE25519:return e.Curve25519.newAndTakeCContext(r);case e.FoundationImplTag.FALCON:return e.Falcon.newAndTakeCContext(r);case e.FoundationImplTag.ROUND5:return e.Round5.newAndTakeCContext(r);case e.FoundationImplTag.COMPOUND_KEY_ALG_INFO:return e.CompoundKeyAlgInfo.newAndTakeCContext(r);case e.FoundationImplTag.COMPOUND_PUBLIC_KEY:return e.CompoundPublicKey.newAndTakeCContext(r);case e.FoundationImplTag.COMPOUND_PRIVATE_KEY:return e.CompoundPrivateKey.newAndTakeCContext(r);case e.FoundationImplTag.COMPOUND_KEY_ALG:return e.CompoundKeyAlg.newAndTakeCContext(r);case e.FoundationImplTag.HYBRID_KEY_ALG_INFO:return e.HybridKeyAlgInfo.newAndTakeCContext(r);case e.FoundationImplTag.HYBRID_PUBLIC_KEY:return e.HybridPublicKey.newAndTakeCContext(r);case e.FoundationImplTag.HYBRID_PRIVATE_KEY:return e.HybridPrivateKey.newAndTakeCContext(r);case e.FoundationImplTag.HYBRID_KEY_ALG:return e.HybridKeyAlg.newAndTakeCContext(r);case e.FoundationImplTag.SIMPLE_ALG_INFO:return e.SimpleAlgInfo.newAndTakeCContext(r);case e.FoundationImplTag.HASH_BASED_ALG_INFO:return e.HashBasedAlgInfo.newAndTakeCContext(r);case e.FoundationImplTag.CIPHER_ALG_INFO:return e.CipherAlgInfo.newAndTakeCContext(r);case e.FoundationImplTag.SALTED_KDF_ALG_INFO:return e.SaltedKdfAlgInfo.newAndTakeCContext(r);case e.FoundationImplTag.PBE_ALG_INFO:return e.PbeAlgInfo.newAndTakeCContext(r);case e.FoundationImplTag.ECC_ALG_INFO:return e.EccAlgInfo.newAndTakeCContext(r);case e.FoundationImplTag.ALG_INFO_DER_SERIALIZER:return e.AlgInfoDerSerializer.newAndTakeCContext(r);case e.FoundationImplTag.ALG_INFO_DER_DESERIALIZER:return e.AlgInfoDerDeserializer.newAndTakeCContext(r);case e.FoundationImplTag.MESSAGE_INFO_DER_SERIALIZER:return e.MessageInfoDerSerializer.newAndTakeCContext(r);case e.FoundationImplTag.RANDOM_PADDING:return e.RandomPadding.newAndTakeCContext(r);default:throw new Error("Unexpected implementation tag found: "+n)}}static newAndUseCContext(r){return new e.FoundationInterface.newAndTakeCContext(t._vscf_impl_shallow_copy(r))}static isImplemented(e,r){return 0!=t._vscf_impl_api(e,r)}})(e,r),r.FoundationImplTag=Object.freeze({AES256_CBC:1,AES256_GCM:2,ALG_INFO_DER_DESERIALIZER:3,ALG_INFO_DER_SERIALIZER:4,ASN1RD:5,ASN1WR:6,CIPHER_ALG_INFO:7,COMPOUND_KEY_ALG:8,COMPOUND_KEY_ALG_INFO:9,COMPOUND_PRIVATE_KEY:10,COMPOUND_PUBLIC_KEY:11,CTR_DRBG:12,CURVE25519:13,ECC:14,ECC_ALG_INFO:15,ECC_PRIVATE_KEY:16,ECC_PUBLIC_KEY:17,ED25519:18,ENTROPY_ACCUMULATOR:19,FAKE_RANDOM:20,FALCON:21,HASH_BASED_ALG_INFO:22,HKDF:23,HMAC:24,HYBRID_KEY_ALG:25,HYBRID_KEY_ALG_INFO:26,HYBRID_PRIVATE_KEY:27,HYBRID_PUBLIC_KEY:28,KDF1:29,KDF2:30,KEY_ASN1_DESERIALIZER:31,KEY_ASN1_SERIALIZER:32,KEY_MATERIAL_RNG:33,MESSAGE_INFO_DER_SERIALIZER:34,PBE_ALG_INFO:35,PKCS5_PBES2:36,PKCS5_PBKDF2:37,PKCS8_SERIALIZER:38,RANDOM_PADDING:39,RAW_PRIVATE_KEY:40,RAW_PUBLIC_KEY:41,ROUND5:42,RSA:43,RSA_PRIVATE_KEY:44,RSA_PUBLIC_KEY:45,SALTED_KDF_ALG_INFO:46,SEC1_SERIALIZER:47,SEED_ENTROPY_SOURCE:48,SHA224:49,SHA256:50,SHA384:51,SHA512:52,SIMPLE_ALG_INFO:53}),r.FoundationError=s(),r.Asn1Tag=Object.freeze({BOOLEAN:0,INTEGER:1,BIT_STRING:2,OCTET_STRING:3,NULL:4,OID:5,UTF8_STRING:6,SEQUENCE:7,SET:8,PRINTABLE_STRING:9,T61_STRING:10,IA5_STRING:11,UTC_TIME:12,GENERALIZED_TIME:13,UNIVERSAL_STRING:14,BMP_STRING:15,PRIMITIVE:16,CONSTRUCTED:17,CONTEXT_SPECIFIC:18}),r.AlgId=Object.freeze({NONE:0,SHA224:1,SHA256:2,SHA384:3,SHA512:4,KDF1:5,KDF2:6,RSA:7,ED25519:8,CURVE25519:9,SECP256R1:10,AES256_GCM:11,AES256_CBC:12,HMAC:13,HKDF:14,PKCS5_PBKDF2:15,PKCS5_PBES2:16,COMPOUND_KEY:17,HYBRID_KEY:18,FALCON:19,ROUND5_ND_1CCA_5D:20,RANDOM_PADDING:21}),r.OidId=Object.freeze({NONE:0,RSA:1,ED25519:2,CURVE25519:3,SHA224:4,SHA256:5,SHA384:6,SHA512:7,KDF1:8,KDF2:9,AES256_GCM:10,AES256_CBC:11,PKCS5_PBKDF2:12,PKCS5_PBES2:13,CMS_DATA:14,CMS_ENVELOPED_DATA:15,HKDF_WITH_SHA256:16,HKDF_WITH_SHA384:17,HKDF_WITH_SHA512:18,HMAC_WITH_SHA224:19,HMAC_WITH_SHA256:20,HMAC_WITH_SHA384:21,HMAC_WITH_SHA512:22,EC_GENERIC_KEY:23,EC_DOMAIN_SECP256R1:24,COMPOUND_KEY:25,HYBRID_KEY:26,FALCON:27,ROUND5_ND_1CCA_5D:28,RANDOM_PADDING:29}),r.GroupMsgType=Object.freeze({GROUP_INFO:0,REGULAR:1}),r.CipherState=Object.freeze({INITIAL:0,ENCRYPTION:1,DECRYPTION:2}),r.Oid=((t,e)=>class{static fromAlgId(e){a.ensureNumber("algId",e);const r=t._vsc_data_ctx_size(),n=t._malloc(r);try{t._vscf_oid_from_alg_id(n,e);const r=t._vsc_data_len(n),s=t._vsc_data_bytes(n);return t.HEAPU8.slice(s,s+r)}finally{t._free(n)}}static toAlgId(e){a.ensureByteArray("oid",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const s=t._vsc_data_ctx_size(),_=t._malloc(s);let c;t._vsc_data(_,n,r);try{return c=t._vscf_oid_to_alg_id(_),c}finally{t._free(n),t._free(_)}}static fromId(e){a.ensureNumber("oidId",e);const r=t._vsc_data_ctx_size(),n=t._malloc(r);try{t._vscf_oid_from_id(n,e);const r=t._vsc_data_len(n),s=t._vsc_data_bytes(n);return t.HEAPU8.slice(s,s+r)}finally{t._free(n)}}static toId(e){a.ensureByteArray("oid",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const s=t._vsc_data_ctx_size(),_=t._malloc(s);let c;t._vsc_data(_,n,r);try{return c=t._vscf_oid_to_id(_),c}finally{t._free(n),t._free(_)}}static idToAlgId(e){let r;return a.ensureNumber("oidId",e),r=t._vscf_oid_id_to_alg_id(e),r}static equal(e,r){a.ensureByteArray("lhs",e),a.ensureByteArray("rhs",r);const n=e.length*e.BYTES_PER_ELEMENT,s=t._malloc(n);t.HEAP8.set(e,s);const _=t._vsc_data_ctx_size(),c=t._malloc(_);t._vsc_data(c,s,n);const i=r.length*r.BYTES_PER_ELEMENT,o=t._malloc(i);t.HEAP8.set(r,o);const l=t._vsc_data_ctx_size(),u=t._malloc(l);let f;t._vsc_data(u,o,i);try{return f=t._vscf_oid_equal(c,u),!!f}finally{t._free(s),t._free(c),t._free(o),t._free(u)}}})(e),r.Base64=((t,e)=>class{static encodedLen(e){let r;return a.ensureNumber("dataLen",e),r=t._vscf_base64_encoded_len(e),r}static encode(r){a.ensureByteArray("data",r);const n=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(n);t.HEAP8.set(r,s);const _=t._vsc_data_ctx_size(),c=t._malloc(_);t._vsc_data(c,s,n);const i=e.Base64.encodedLen(r.length),o=t._vsc_buffer_new_with_capacity(i);try{t._vscf_base64_encode(c,o);const e=t._vsc_buffer_bytes(o),r=t._vsc_buffer_len(o);return t.HEAPU8.slice(e,e+r)}finally{t._free(s),t._free(c),t._vsc_buffer_delete(o)}}static decodedLen(e){let r;return a.ensureNumber("strLen",e),r=t._vscf_base64_decoded_len(e),r}static decode(r){a.ensureByteArray("str",r);const n=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(n);t.HEAP8.set(r,s);const _=t._vsc_data_ctx_size(),c=t._malloc(_);t._vsc_data(c,s,n);const i=e.Base64.decodedLen(r.length),o=t._vsc_buffer_new_with_capacity(i);try{const r=t._vscf_base64_decode(c,o);e.FoundationError.handleStatusCode(r);const n=t._vsc_buffer_bytes(o),_=t._vsc_buffer_len(o);return t.HEAPU8.slice(n,n+_)}finally{t._free(s),t._free(c),t._vsc_buffer_delete(o)}}})(e,r),r.Pem=((t,e)=>class{static wrappedLen(e,r){let n;return a.ensureNumber("title",e),a.ensureNumber("dataLen",r),n=t._vscf_pem_wrapped_len(e,r),n}static wrap(r,n){a.ensureNumber("title",r),a.ensureByteArray("data",n);const s=n.length*n.BYTES_PER_ELEMENT,_=t._malloc(s);t.HEAP8.set(n,_);const c=t._vsc_data_ctx_size(),i=t._malloc(c);t._vsc_data(i,_,s);const o=e.Pem.wrappedLen(r,n.length),l=t._vsc_buffer_new_with_capacity(o);try{t._vscf_pem_wrap(r,i,l);const e=t._vsc_buffer_bytes(l),n=t._vsc_buffer_len(l);return t.HEAPU8.slice(e,e+n)}finally{t._free(_),t._free(i),t._vsc_buffer_delete(l)}}static unwrappedLen(e){let r;return a.ensureNumber("pemLen",e),r=t._vscf_pem_unwrapped_len(e),r}static unwrap(r){a.ensureByteArray("pem",r);const n=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(n);t.HEAP8.set(r,s);const _=t._vsc_data_ctx_size(),c=t._malloc(_);t._vsc_data(c,s,n);const i=e.Pem.unwrappedLen(r.length),o=t._vsc_buffer_new_with_capacity(i);try{const r=t._vscf_pem_unwrap(c,o);e.FoundationError.handleStatusCode(r);const n=t._vsc_buffer_bytes(o),_=t._vsc_buffer_len(o);return t.HEAPU8.slice(n,n+_)}finally{t._free(s),t._free(c),t._vsc_buffer_delete(o)}}static title(e){a.ensureByteArray("pem",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const s=t._vsc_data_ctx_size(),_=t._malloc(s);t._vsc_data(_,n,r);const c=t._vsc_data_ctx_size(),i=t._malloc(c);try{t._vscf_pem_title(i,_);const e=t._vsc_data_len(i),r=t._vsc_data_bytes(i);return t.HEAPU8.slice(r,r+e)}finally{t._free(n),t._free(_),t._free(i)}}})(e,r),r.MessageInfo=i(e,r),r.KeyRecipientInfo=o(e,r),r.KeyRecipientInfoList=l(e,r),r.PasswordRecipientInfo=u(e,r),r.PasswordRecipientInfoList=f(e,r),r.AlgFactory=((t,e)=>class{static createHashFromInfo(r){let n;return a.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface),n=t._vscf_alg_factory_create_hash_from_info(r.ctxPtr),e.FoundationInterface.newAndTakeCContext(n)}static createMacFromInfo(r){let n;return a.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface),n=t._vscf_alg_factory_create_mac_from_info(r.ctxPtr),e.FoundationInterface.newAndTakeCContext(n)}static createKdfFromInfo(r){let n;return a.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface),n=t._vscf_alg_factory_create_kdf_from_info(r.ctxPtr),e.FoundationInterface.newAndTakeCContext(n)}static createSaltedKdfFromInfo(r){let n;return a.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface),n=t._vscf_alg_factory_create_salted_kdf_from_info(r.ctxPtr),e.FoundationInterface.newAndTakeCContext(n)}static createCipherFromInfo(r){let n;return a.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface),n=t._vscf_alg_factory_create_cipher_from_info(r.ctxPtr),e.FoundationInterface.newAndTakeCContext(n)}static createPaddingFromInfo(r,n){let s;return a.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface),a.ensureImplementInterface("random",n,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface),s=t._vscf_alg_factory_create_padding_from_info(r.ctxPtr,n.ctxPtr),e.FoundationInterface.newAndTakeCContext(s)}})(e,r),r.KeyAlgFactory=((t,e)=>class{static createFromAlgId(r,n){a.ensureNumber("algId",r),a.ensureImplementInterface("random",n,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface);const s=t._vscf_error_ctx_size(),_=t._malloc(s);let c;t._vscf_error_reset(_);try{c=t._vscf_key_alg_factory_create_from_alg_id(r,n.ctxPtr,_);const s=t._vscf_error_status(_);return e.FoundationError.handleStatusCode(s),e.FoundationInterface.newAndTakeCContext(c)}finally{t._free(_)}}static createFromKey(r,n){a.ensureImplementInterface("key",r,"Foundation.Key",e.FoundationInterfaceTag.KEY,e.FoundationInterface),a.ensureImplementInterface("random",n,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface);const s=t._vscf_error_ctx_size(),_=t._malloc(s);let c;t._vscf_error_reset(_);try{c=t._vscf_key_alg_factory_create_from_key(r.ctxPtr,n.ctxPtr,_);const s=t._vscf_error_status(_);return e.FoundationError.handleStatusCode(s),e.FoundationInterface.newAndTakeCContext(c)}finally{t._free(_)}}static createFromRawPublicKey(r,n){a.ensureClass("publicKey",r,e.RawPublicKey),a.ensureImplementInterface("random",n,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface);const s=t._vscf_error_ctx_size(),_=t._malloc(s);let c;t._vscf_error_reset(_);try{c=t._vscf_key_alg_factory_create_from_raw_public_key(r.ctxPtr,n.ctxPtr,_);const s=t._vscf_error_status(_);return e.FoundationError.handleStatusCode(s),e.FoundationInterface.newAndTakeCContext(c)}finally{t._free(_)}}static createFromRawPrivateKey(r,n){a.ensureClass("privateKey",r,e.RawPrivateKey),a.ensureImplementInterface("random",n,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface);const s=t._vscf_error_ctx_size(),_=t._malloc(s);let c;t._vscf_error_reset(_);try{c=t._vscf_key_alg_factory_create_from_raw_private_key(r.ctxPtr,n.ctxPtr,_);const s=t._vscf_error_status(_);return e.FoundationError.handleStatusCode(s),e.FoundationInterface.newAndTakeCContext(c)}finally{t._free(_)}}})(e,r),r.Ecies=d(e,r),r.RecipientCipher=p(e,r),r.MessageInfoCustomParams=h(e,r),r.KeyProvider=y(e,r),r.Signer=v(e,r),r.Verifier=P(e,r),r.BrainkeyClient=m(e,r),r.BrainkeyServer=x(e,r),r.GroupSessionMessage=g(e,r),r.GroupSessionTicket=E(e,r),r.GroupSession=I(e,r),r.MessageInfoEditor=N(e,r),r.SignerInfo=w(e,r),r.SignerInfoList=b(e,r),r.MessageInfoFooter=A(e,r),r.SignedDataInfo=k(e,r),r.FooterInfo=C(e,r),r.KeyInfo=T(e,r),r.PaddingParams=F(e),r.Sha224=K(e,r),r.Sha256=S(e,r),r.Sha384=L(e,r),r.Sha512=R(e,r),r.Aes256Gcm=B(e,r),r.Aes256Cbc=z(e,r),r.Asn1rd=U(e,r),r.Asn1wr=D(e,r),r.RsaPublicKey=Y(e,r),r.RsaPrivateKey=M(e,r),r.Rsa=H(e,r),r.EccPublicKey=O(e,r),r.EccPrivateKey=G(e,r),r.Ecc=V(e,r),r.EntropyAccumulator=j(e,r),r.CtrDrbg=q(e,r),r.Hmac=X(e,r),r.Hkdf=W(e,r),r.Kdf1=Z(e,r),r.Kdf2=$(e,r),r.FakeRandom=J(e,r),r.Pkcs5Pbkdf2=Q(e,r),r.Pkcs5Pbes2=tt(e,r),r.SeedEntropySource=et(e,r),r.KeyMaterialRng=rt(e,r),r.RawPublicKey=nt(e,r),r.RawPrivateKey=st(e,r),r.Pkcs8Serializer=_t(e,r),r.Sec1Serializer=ct(e,r),r.KeyAsn1Serializer=at(e,r),r.KeyAsn1Deserializer=it(e,r),r.Ed25519=ot(e,r),r.Curve25519=lt(e,r),r.Falcon=ut(e,r),r.Round5=ft(e,r),r.CompoundKeyAlgInfo=dt(e,r),r.CompoundPublicKey=pt(e,r),r.CompoundPrivateKey=ht(e,r),r.CompoundKeyAlg=yt(e,r),r.HybridKeyAlgInfo=vt(e,r),r.HybridPublicKey=Pt(e,r),r.HybridPrivateKey=mt(e,r),r.HybridKeyAlg=xt(e,r),r.SimpleAlgInfo=gt(e),r.HashBasedAlgInfo=Et(e,r),r.CipherAlgInfo=It(e),r.SaltedKdfAlgInfo=Nt(e,r),r.PbeAlgInfo=wt(e,r),r.EccAlgInfo=bt(e),r.AlgInfoDerSerializer=At(e,r),r.AlgInfoDerDeserializer=kt(e,r),r.MessageInfoDerSerializer=Ct(e,r),r.RandomPadding=Tt(e,r),t(r)},e.onAbort=t=>{r(new Error(t))}})}),Mt.on("load",(t,e)=>{"foundation"===t&&(Yt(),(t=>{Rt=new t.CtrDrbg;try{Rt.setupDefaults()}catch(t){throw Rt.delete(),t}Bt=new t.KeyProvider,Bt.random=Rt;try{Bt.setupDefaults()}catch(t){throw Rt.delete(),Bt.delete(),t}})(e))}),Mt.on("remove",t=>{"foundation"===t&&Yt()});const Ht=()=>Mt.hasModule("foundation"),Ot=()=>Mt.getModule("foundation"),Gt=t=>{Mt.setModule("foundation",t)},Vt=Mt.loadModules;var jt,qt;!function(t){t.SHA224="SHA224",t.SHA256="SHA256",t.SHA384="SHA384",t.SHA512="SHA512"}(jt||(jt={})),function(t){t.DEFAULT="DEFAULT",t.ED25519="ED25519",t.CURVE25519="CURVE25519",t.SECP256R1="SECP256R1",t.RSA_2048="RSA_2048",t.RSA_3072="RSA_3072",t.RSA_4096="RSA_4096",t.RSA_8192="RSA_8192",t.CURVE25519_ROUND5_ED25519_FALCON="CURVE25519_ROUND5_ED25519_FALCON",t.CURVE25519_ED25519="CURVE25519_ED25519"}(qt||(qt={}));const Xt=t=>{const{AlgId:e}=Mt.getModule("foundation");switch(t){case qt.DEFAULT:return{type:qt.DEFAULT,algId:e.ED25519};case qt.ED25519:return{type:qt.ED25519,algId:e.ED25519};case qt.CURVE25519:return{type:qt.CURVE25519,algId:e.CURVE25519};case qt.SECP256R1:return{type:qt.SECP256R1,algId:e.SECP256R1};case qt.RSA_2048:return{type:qt.RSA_2048,algId:e.RSA,bitlen:2048};case qt.RSA_3072:return{type:qt.RSA_3072,algId:e.RSA,bitlen:3072};case qt.RSA_4096:return{type:qt.RSA_4096,algId:e.RSA,bitlen:4096};case qt.RSA_8192:return{type:qt.RSA_8192,algId:e.RSA,bitlen:8192};case qt.CURVE25519_ROUND5_ED25519_FALCON:return{type:qt.CURVE25519_ROUND5_ED25519_FALCON,cipherAlgIds:[e.CURVE25519,e.ROUND5_ND_1CCA_5D],signerAlgIds:[e.ED25519,e.FALCON]};case qt.CURVE25519_ED25519:return{type:qt.CURVE25519_ED25519,cipherAlgIds:[e.CURVE25519,e.NONE],signerAlgIds:[e.ED25519,e.NONE]};default:throw new TypeError(`Unknown key pair type '${t}'.`)}};for(var Wt=function(t){var e=se(t),r=e[0],n=e[1];return 3*(r+n)/4-n},Zt=function(t){var e,r,n=se(t),s=n[0],_=n[1],c=new te(function(t,e,r){return 3*(e+r)/4-r}(0,s,_)),a=0,i=_>0?s-4:s;for(r=0;r<i;r+=4)e=Qt[t.charCodeAt(r)]<<18|Qt[t.charCodeAt(r+1)]<<12|Qt[t.charCodeAt(r+2)]<<6|Qt[t.charCodeAt(r+3)],c[a++]=e>>16&255,c[a++]=e>>8&255,c[a++]=255&e;2===_&&(e=Qt[t.charCodeAt(r)]<<2|Qt[t.charCodeAt(r+1)]>>4,c[a++]=255&e);1===_&&(e=Qt[t.charCodeAt(r)]<<10|Qt[t.charCodeAt(r+1)]<<4|Qt[t.charCodeAt(r+2)]>>2,c[a++]=e>>8&255,c[a++]=255&e);return c},$t=function(t){for(var e,r=t.length,n=r%3,s=[],_=0,c=r-n;_<c;_+=16383)s.push(_e(t,_,_+16383>c?c:_+16383));1===n?(e=t[r-1],s.push(Jt[e>>2]+Jt[e<<4&63]+"==")):2===n&&(e=(t[r-2]<<8)+t[r-1],s.push(Jt[e>>10]+Jt[e>>4&63]+Jt[e<<2&63]+"="));return s.join("")},Jt=[],Qt=[],te="undefined"!=typeof Uint8Array?Uint8Array:Array,ee="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",re=0,ne=ee.length;re<ne;++re)Jt[re]=ee[re],Qt[ee.charCodeAt(re)]=re;function se(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function _e(t,e,r){for(var n,s,_=[],c=e;c<r;c+=3)n=(t[c]<<16&16711680)+(t[c+1]<<8&65280)+(255&t[c+2]),_.push(Jt[(s=n)>>18&63]+Jt[s>>12&63]+Jt[s>>6&63]+Jt[63&s]);return _.join("")}Qt["-".charCodeAt(0)]=62,Qt["_".charCodeAt(0)]=63;var ce,ae={byteLength:Wt,toByteArray:Zt,fromByteArray:$t},ie=function(t,e,r,n,s){var _,c,a=8*s-n-1,i=(1<<a)-1,o=i>>1,l=-7,u=r?s-1:0,f=r?-1:1,d=t[e+u];for(u+=f,_=d&(1<<-l)-1,d>>=-l,l+=a;l>0;_=256*_+t[e+u],u+=f,l-=8);for(c=_&(1<<-l)-1,_>>=-l,l+=n;l>0;c=256*c+t[e+u],u+=f,l-=8);if(0===_)_=1-o;else{if(_===i)return c?NaN:1/0*(d?-1:1);c+=Math.pow(2,n),_-=o}return(d?-1:1)*c*Math.pow(2,_-n)},oe=function(t,e,r,n,s,_){var c,a,i,o=8*_-s-1,l=(1<<o)-1,u=l>>1,f=23===s?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:_-1,p=n?1:-1,h=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,c=l):(c=Math.floor(Math.log(e)/Math.LN2),e*(i=Math.pow(2,-c))<1&&(c--,i*=2),(e+=c+u>=1?f/i:f*Math.pow(2,1-u))*i>=2&&(c++,i/=2),c+u>=l?(a=0,c=l):c+u>=1?(a=(e*i-1)*Math.pow(2,s),c+=u):(a=e*Math.pow(2,u-1)*Math.pow(2,s),c=0));s>=8;t[r+d]=255&a,d+=p,a/=256,s-=8);for(c=c<<s|a,o+=s;o>0;t[r+d]=255&c,d+=p,c/=256,o-=8);t[r+d-p]|=128*h},le=(function(t,e){var r="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function n(t){if(t>2147483647)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,s.prototype),e}function s(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return a(t)}return _(t,e,r)}function _(t,e,r){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!s.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=0|u(t,e),_=n(r),c=_.write(t,e);return c!==r&&(_=_.slice(0,c)),_}(t,e);if(ArrayBuffer.isView(t))return i(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(z(t,ArrayBuffer)||t&&z(t.buffer,ArrayBuffer))return o(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(z(t,SharedArrayBuffer)||t&&z(t.buffer,SharedArrayBuffer)))return o(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var _=t.valueOf&&t.valueOf();if(null!=_&&_!==t)return s.from(_,e,r);var c=function(t){if(s.isBuffer(t)){var e=0|l(t.length),r=n(e);return 0===r.length||t.copy(r,0,0,e),r}return void 0!==t.length?"number"!=typeof t.length||U(t.length)?n(0):i(t):"Buffer"===t.type&&Array.isArray(t.data)?i(t.data):void 0}(t);if(c)return c;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return s.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function a(t){return c(t),n(t<0?0:0|l(t))}function i(t){for(var e=t.length<0?0:0|l(t.length),r=n(e),s=0;s<e;s+=1)r[s]=255&t[s];return r}function o(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,s.prototype),n}function l(t){if(t>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|t}function u(t,e){if(s.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||z(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var _=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return L(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return R(t).length;default:if(_)return n?-1:L(t).length;e=(""+e).toLowerCase(),_=!0}}function f(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return b(this,e,r);case"utf8":case"utf-8":return I(this,e,r);case"ascii":return N(this,e,r);case"latin1":case"binary":return w(this,e,r);case"base64":return E(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function d(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function p(t,e,r,n,_){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),U(r=+r)&&(r=_?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(_)return-1;r=t.length-1}else if(r<0){if(!_)return-1;r=0}if("string"==typeof e&&(e=s.from(e,n)),s.isBuffer(e))return 0===e.length?-1:h(t,e,r,n,_);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?_?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):h(t,[e],r,n,_);throw new TypeError("val must be string, number or Buffer")}function h(t,e,r,n,s){var _,c=1,a=t.length,i=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;c=2,a/=2,i/=2,r/=2}function o(t,e){return 1===c?t[e]:t.readUInt16BE(e*c)}if(s){var l=-1;for(_=r;_<a;_++)if(o(t,_)===o(e,-1===l?0:_-l)){if(-1===l&&(l=_),_-l+1===i)return l*c}else-1!==l&&(_-=_-l),l=-1}else for(r+i>a&&(r=a-i),_=r;_>=0;_--){for(var u=!0,f=0;f<i;f++)if(o(t,_+f)!==o(e,f)){u=!1;break}if(u)return _}return-1}function y(t,e,r,n){r=Number(r)||0;var s=t.length-r;n?(n=Number(n))>s&&(n=s):n=s;var _=e.length;n>_/2&&(n=_/2);for(var c=0;c<n;++c){var a=parseInt(e.substr(2*c,2),16);if(U(a))return c;t[r+c]=a}return c}function v(t,e,r,n){return B(L(e,t.length-r),t,r,n)}function P(t,e,r,n){return B(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function m(t,e,r,n){return P(t,e,r,n)}function x(t,e,r,n){return B(R(e),t,r,n)}function g(t,e,r,n){return B(function(t,e){for(var r,n,s,_=[],c=0;c<t.length&&!((e-=2)<0);++c)r=t.charCodeAt(c),n=r>>8,s=r%256,_.push(s),_.push(n);return _}(e,t.length-r),t,r,n)}function E(t,e,r){return 0===e&&r===t.length?ae.fromByteArray(t):ae.fromByteArray(t.slice(e,r))}function I(t,e,r){r=Math.min(t.length,r);for(var n=[],s=e;s<r;){var _,c,a,i,o=t[s],l=null,u=o>239?4:o>223?3:o>191?2:1;if(s+u<=r)switch(u){case 1:o<128&&(l=o);break;case 2:128==(192&(_=t[s+1]))&&(i=(31&o)<<6|63&_)>127&&(l=i);break;case 3:_=t[s+1],c=t[s+2],128==(192&_)&&128==(192&c)&&(i=(15&o)<<12|(63&_)<<6|63&c)>2047&&(i<55296||i>57343)&&(l=i);break;case 4:_=t[s+1],c=t[s+2],a=t[s+3],128==(192&_)&&128==(192&c)&&128==(192&a)&&(i=(15&o)<<18|(63&_)<<12|(63&c)<<6|63&a)>65535&&i<1114112&&(l=i)}null===l?(l=65533,u=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),s+=u}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=4096));return r}(n)}function N(t,e,r){var n="";r=Math.min(t.length,r);for(var s=e;s<r;++s)n+=String.fromCharCode(127&t[s]);return n}function w(t,e,r){var n="";r=Math.min(t.length,r);for(var s=e;s<r;++s)n+=String.fromCharCode(t[s]);return n}function b(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var s="",_=e;_<r;++_)s+=D[t[_]];return s}function A(t,e,r){for(var n=t.slice(e,r),s="",_=0;_<n.length;_+=2)s+=String.fromCharCode(n[_]+256*n[_+1]);return s}function k(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function C(t,e,r,n,_,c){if(!s.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>_||e<c)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function T(t,e,r,n,s,_){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function F(t,e,r,n,s){return e=+e,r>>>=0,s||T(t,0,r,4),oe(t,e,r,n,23,4),r+4}function K(t,e,r,n,s){return e=+e,r>>>=0,s||T(t,0,r,8),oe(t,e,r,n,52,8),r+8}e.Buffer=s,e.SlowBuffer=function(t){return+t!=t&&(t=0),s.alloc(+t)},e.INSPECT_MAX_BYTES=50,e.kMaxLength=2147483647,s.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),s.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(t,e,r){return _(t,e,r)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(t,e,r){return function(t,e,r){return c(t),t<=0?n(t):void 0!==e?"string"==typeof r?n(t).fill(e,r):n(t).fill(e):n(t)}(t,e,r)},s.allocUnsafe=function(t){return a(t)},s.allocUnsafeSlow=function(t){return a(t)},s.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==s.prototype},s.compare=function(t,e){if(z(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),z(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(t)||!s.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,n=e.length,_=0,c=Math.min(r,n);_<c;++_)if(t[_]!==e[_]){r=t[_],n=e[_];break}return r<n?-1:n<r?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=s.allocUnsafe(e),_=0;for(r=0;r<t.length;++r){var c=t[r];if(z(c,Uint8Array)&&(c=s.from(c)),!s.isBuffer(c))throw new TypeError('"list" argument must be an Array of Buffers');c.copy(n,_),_+=c.length}return n},s.byteLength=u,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)d(this,e,e+1);return this},s.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)d(this,e,e+3),d(this,e+1,e+2);return this},s.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)d(this,e,e+7),d(this,e+1,e+6),d(this,e+2,e+5),d(this,e+3,e+4);return this},s.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?I(this,0,t):f.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},r&&(s.prototype[r]=s.prototype.inspect),s.prototype.compare=function(t,e,r,n,_){if(z(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===_&&(_=this.length),e<0||r>t.length||n<0||_>this.length)throw new RangeError("out of range index");if(n>=_&&e>=r)return 0;if(n>=_)return-1;if(e>=r)return 1;if(this===t)return 0;for(var c=(_>>>=0)-(n>>>=0),a=(r>>>=0)-(e>>>=0),i=Math.min(c,a),o=this.slice(n,_),l=t.slice(e,r),u=0;u<i;++u)if(o[u]!==l[u]){c=o[u],a=l[u];break}return c<a?-1:a<c?1:0},s.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},s.prototype.indexOf=function(t,e,r){return p(this,t,e,r,!0)},s.prototype.lastIndexOf=function(t,e,r){return p(this,t,e,r,!1)},s.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var s=this.length-e;if((void 0===r||r>s)&&(r=s),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var _=!1;;)switch(n){case"hex":return y(this,t,e,r);case"utf8":case"utf-8":return v(this,t,e,r);case"ascii":return P(this,t,e,r);case"latin1":case"binary":return m(this,t,e,r);case"base64":return x(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g(this,t,e,r);default:if(_)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),_=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},s.prototype.slice=function(t,e){var r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var n=this.subarray(t,e);return Object.setPrototypeOf(n,s.prototype),n},s.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||k(t,e,this.length);for(var n=this[t],s=1,_=0;++_<e&&(s*=256);)n+=this[t+_]*s;return n},s.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||k(t,e,this.length);for(var n=this[t+--e],s=1;e>0&&(s*=256);)n+=this[t+--e]*s;return n},s.prototype.readUInt8=function(t,e){return t>>>=0,e||k(t,1,this.length),this[t]},s.prototype.readUInt16LE=function(t,e){return t>>>=0,e||k(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUInt16BE=function(t,e){return t>>>=0,e||k(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUInt32LE=function(t,e){return t>>>=0,e||k(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUInt32BE=function(t,e){return t>>>=0,e||k(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||k(t,e,this.length);for(var n=this[t],s=1,_=0;++_<e&&(s*=256);)n+=this[t+_]*s;return n>=(s*=128)&&(n-=Math.pow(2,8*e)),n},s.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||k(t,e,this.length);for(var n=e,s=1,_=this[t+--n];n>0&&(s*=256);)_+=this[t+--n]*s;return _>=(s*=128)&&(_-=Math.pow(2,8*e)),_},s.prototype.readInt8=function(t,e){return t>>>=0,e||k(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},s.prototype.readInt16LE=function(t,e){t>>>=0,e||k(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt16BE=function(t,e){t>>>=0,e||k(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt32LE=function(t,e){return t>>>=0,e||k(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,e){return t>>>=0,e||k(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readFloatLE=function(t,e){return t>>>=0,e||k(t,4,this.length),ie(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,e){return t>>>=0,e||k(t,4,this.length),ie(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,e){return t>>>=0,e||k(t,8,this.length),ie(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,e){return t>>>=0,e||k(t,8,this.length),ie(this,t,!1,52,8)},s.prototype.writeUIntLE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||C(this,t,e,r,Math.pow(2,8*r)-1,0);var s=1,_=0;for(this[e]=255&t;++_<r&&(s*=256);)this[e+_]=t/s&255;return e+r},s.prototype.writeUIntBE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||C(this,t,e,r,Math.pow(2,8*r)-1,0);var s=r-1,_=1;for(this[e+s]=255&t;--s>=0&&(_*=256);)this[e+s]=t/_&255;return e+r},s.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,1,255,0),this[e]=255&t,e+1},s.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},s.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},s.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},s.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},s.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var s=Math.pow(2,8*r-1);C(this,t,e,r,s-1,-s)}var _=0,c=1,a=0;for(this[e]=255&t;++_<r&&(c*=256);)t<0&&0===a&&0!==this[e+_-1]&&(a=1),this[e+_]=(t/c>>0)-a&255;return e+r},s.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var s=Math.pow(2,8*r-1);C(this,t,e,r,s-1,-s)}var _=r-1,c=1,a=0;for(this[e+_]=255&t;--_>=0&&(c*=256);)t<0&&0===a&&0!==this[e+_+1]&&(a=1),this[e+_]=(t/c>>0)-a&255;return e+r},s.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},s.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},s.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},s.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},s.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},s.prototype.writeFloatLE=function(t,e,r){return F(this,t,e,!0,r)},s.prototype.writeFloatBE=function(t,e,r){return F(this,t,e,!1,r)},s.prototype.writeDoubleLE=function(t,e,r){return K(this,t,e,!0,r)},s.prototype.writeDoubleBE=function(t,e,r){return K(this,t,e,!1,r)},s.prototype.copy=function(t,e,r,n){if(!s.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var _=n-r;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,r,n);else if(this===t&&r<e&&e<n)for(var c=_-1;c>=0;--c)t[c+e]=this[c+r];else Uint8Array.prototype.set.call(t,this.subarray(r,n),e);return _},s.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!s.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){var _=t.charCodeAt(0);("utf8"===n&&_<128||"latin1"===n)&&(t=_)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var c;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(c=e;c<r;++c)this[c]=t;else{var a=s.isBuffer(t)?t:s.from(t,n),i=a.length;if(0===i)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(c=0;c<r-e;++c)this[c+e]=a[c%i]}return this};var S=/[^+/0-9A-Za-z-_]/g;function L(t,e){var r;e=e||1/0;for(var n=t.length,s=null,_=[],c=0;c<n;++c){if((r=t.charCodeAt(c))>55295&&r<57344){if(!s){if(r>56319){(e-=3)>-1&&_.push(239,191,189);continue}if(c+1===n){(e-=3)>-1&&_.push(239,191,189);continue}s=r;continue}if(r<56320){(e-=3)>-1&&_.push(239,191,189),s=r;continue}r=65536+(s-55296<<10|r-56320)}else s&&(e-=3)>-1&&_.push(239,191,189);if(s=null,r<128){if((e-=1)<0)break;_.push(r)}else if(r<2048){if((e-=2)<0)break;_.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;_.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;_.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return _}function R(t){return ae.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(S,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function B(t,e,r,n){for(var s=0;s<n&&!(s+r>=e.length||s>=t.length);++s)e[s+r]=t[s];return s}function z(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function U(t){return t!=t}var D=function(){for(var t=new Array(256),e=0;e<16;++e)for(var r=16*e,n=0;n<16;++n)t[r+n]="0123456789abcdef"[e]+"0123456789abcdef"[n];return t}()}(ce={exports:{}},ce.exports),ce.exports),ue=le.Buffer;le.SlowBuffer,le.INSPECT_MAX_BYTES,le.kMaxLength;const fe=(de=ue,(t,e)=>{if("string"==typeof t){if("string"==typeof e&&!de.isEncoding(e))throw new TypeError("Invalid default encoding.");return de.from(t,e)}if(t instanceof Uint8Array)return t;if("object"==typeof t&&"string"==typeof t.value&&de.isEncoding(t.encoding))return de.from(t.value,t.encoding);throw new TypeError("Invalid format of 'Data'.")});var de;const pe=(t=>e=>{let r=t.from(e.buffer);return e.byteLength!==e.buffer.byteLength&&(r=r.slice(e.byteOffset,e.byteOffset+e.byteLength)),r})(ue),he=ue.from("VIRGIL-DATA-SIGNATURE","utf8"),ye=ue.from("VIRGIL-DATA-SIGNER-ID","utf8");class ve{constructor(t,e){this.identifier=pe(t),this.lowLevelPrivateKey=e,this._isDisposed=!1}get isDisposed(){return this._isDisposed}dispose(){this.lowLevelPrivateKey.delete(),this._isDisposed=!0}}class Pe{constructor(t,e){this.identifier=pe(t),this.lowLevelPublicKey=e,this._isDisposed=!1}get isDisposed(){return this._isDisposed}get key(){const t=new(Ot().KeyAsn1Serializer);try{return t.setupDefaults(),t.serializePublicKey(this.lowLevelPublicKey)}finally{t.delete()}}dispose(){this.lowLevelPublicKey.delete(),this._isDisposed=!0}}function me(t){if(!(t instanceof ve))throw new TypeError("An argument is not an instance of 'VirgilPrivateKey' class.");if(t.isDisposed)throw new TypeError("Cannot use an instance of 'VirgilPrivateKey' class after it was disposed.")}function xe(t){if(!(t instanceof Pe))throw new TypeError("An argument is not a 'VirgilPublicKey'.");if(t.isDisposed)throw new TypeError("Cannot use an instance of 'VirgilPublicKey' class after it was disposed.")}function ge(t){if(!Array.isArray(t))throw new TypeError("An argument is not an array.");if(!t.length)throw new TypeError("An array of 'VirgilPublicKey' instances should not be empty.");t.forEach(xe)}function Ee(t){if(!(t instanceof Uint8Array))throw new TypeError("An argument is not an instance of 'Uint8Array' class.");if(t.byteLength<10)throw new TypeError("An argument byte length is too small. Expected to be at least '10' bytes.")}function Ie(t){const e=Ot().GroupSessionMessage.deserialize(t),r={epochNumber:e.getEpoch(),sessionId:pe(e.getSessionId()).toString("hex"),data:pe(t).toString("base64")};return e.delete(),r}function Ne(t){const e=Ot().GroupSessionMessage.deserialize(t),r=e.getEpoch();return e.delete(),r}function we(t){const e=new(Ot().GroupSession);e.rng=Ut();const r=[];try{for(const n of t){const t=Ot().GroupSessionMessage.deserialize(n);r.push(t),e.addEpoch(t)}return e}finally{for(;r.length;){const t=r.pop();t&&t.delete()}}}function be(t){const e=new(Ot().Sha512);try{return e.hash(t).subarray(0,32)}finally{e.delete()}}function Ae(t){return t=t.slice().sort((t,e)=>Ne(t)-Ne(e)),{getSessionId(){const e=we(t),r=e.getSessionId();return e.delete(),pe(r).toString("hex")},getCurrentEpochNumber:()=>Ne(t[t.length-1]),encrypt(e,r){const n=fe(e,"utf8");let s;me(r);try{s=we(t);const e=s.encrypt(n,r.lowLevelPrivateKey),_=e.serialize();return e.delete(),pe(_)}finally{s&&s.delete()}},decrypt(e,r){const n=fe(e,"base64");let s,_;xe(r);try{return s=we(t),_=Ot().GroupSessionMessage.deserialize(n),pe(s.decrypt(_,r.lowLevelPublicKey))}finally{_&&_.delete(),s&&s.delete()}},addNewEpoch(){const e=we(t);try{const r=e.createGroupTicket(),n=r.getTicketMessage(),s=n.serialize();return t.push(s),n.delete(),r.delete(),Ie(s)}finally{e.delete()}},export:()=>t.map(pe),parseMessage:t=>Ie(fe(t,"base64"))}}const ke=t=>null==t?[]:Array.isArray(t)?t:[t];var Ce;!function(t){t.STREAM_ILLEGAL_STATE="STREAM_ILLEGAL_STATE",t.DATA_NOT_SIGNED="DATA_NOT_SIGNED",t.SIGNER_NOT_FOUND="SIGNER_NOT_FOUND",t.INVALID_SIGNATURE="INVALID_SIGNATURE"}(Ce||(Ce={}));class Te extends Error{constructor(t,e){super(e||Te.DEFAULT_MESSAGE),Object.setPrototypeOf(this,Te.prototype),this.name="VirgilCryptoError",this.status=t}}Te.DEFAULT_MESSAGE="Use the 'status' property and 'VirgilCryptoErrorStatus' enum to check for specific error.";class Fe{constructor(t,e){const r=Ot(),n=ke(t);if(ge(n),this.recipientCipher=new r.RecipientCipher,this.aes256Gcm=new r.Aes256Gcm,this.recipientCipher.encryptionCipher=this.aes256Gcm,this.recipientCipher.random=Ut(),n.forEach(t=>{this.recipientCipher.addKeyRecipient(t.identifier,t.lowLevelPublicKey)}),e){const t=fe(e,"base64");this.messageInfoCustomParams=this.recipientCipher.customParams(),this.messageInfoCustomParams.addData(he,t)}this._isFinished=!1,this._isRunning=!1,this._isDisposed=!1}get isRunning(){return this._isRunning}get isFinished(){return this._isFinished}get isDisposed(){return this._isDisposed}start(){return this.ensureLegalState(),this.recipientCipher.startEncryption(),this._isRunning=!0,pe(this.recipientCipher.packMessageInfo())}update(t){this.ensureLegalState(),this.ensureIsRunning();const e=fe(t,"utf8");return pe(this.recipientCipher.processEncryption(e))}final(t=!0){this.ensureLegalState(),this.ensureIsRunning();try{return pe(this.recipientCipher.finishEncryption())}finally{this._isFinished=!0,this._isRunning=!1,t&&this.dispose()}}dispose(){this.messageInfoCustomParams&&this.messageInfoCustomParams.delete(),this.aes256Gcm.delete(),this.recipientCipher.delete(),this._isDisposed=!0}ensureLegalState(){if(this._isDisposed)throw new Te(Ce.STREAM_ILLEGAL_STATE,"Illegal state. Cannot use cipher after the 'dispose' method has been called.");if(this._isFinished)throw new Te(Ce.STREAM_ILLEGAL_STATE,"Illegal state. Cannot use cipher after the 'final' method has been called.")}ensureIsRunning(){if(!this._isRunning)throw new Te(Ce.STREAM_ILLEGAL_STATE,"Illegal state. Cannot use cipher before the 'start' method.")}}class Ke{constructor(t){this._isFinished=!1,this._isDisposed=!1;const e=Ot();me(t),this.recipientCipher=new e.RecipientCipher;try{this.recipientCipher.startDecryptionWithKey(t.identifier,t.lowLevelPrivateKey,new Uint8Array)}catch(t){throw this.recipientCipher.delete(),t}}get isFinished(){return this._isFinished}get isDisposed(){return this._isDisposed}getSignature(){if(this._isDisposed)throw new Te(Ce.STREAM_ILLEGAL_STATE,"Illegal state. Cannot get signature after the 'dispose' method has been called.");if(!this._isFinished)throw new Te(Ce.STREAM_ILLEGAL_STATE,"Illegal state. Cannot get signature before the 'final' method has been called.");const t=this.recipientCipher.customParams();try{return pe(t.findData(he))}finally{t.delete()}}update(t){this.ensureLegalState();const e=fe(t,"utf8");return pe(this.recipientCipher.processDecryption(e))}final(t=!0){this.ensureLegalState();try{return pe(this.recipientCipher.finishDecryption())}finally{this._isFinished=!0,t&&this.dispose()}}dispose(){this.recipientCipher.delete(),this._isDisposed=!0}ensureLegalState(){if(this._isDisposed)throw new Te(Ce.STREAM_ILLEGAL_STATE,"Illegal state. Cannot use cipher after the 'dispose' method has been called.");if(this._isFinished)throw new Te(Ce.STREAM_ILLEGAL_STATE,"Illegal state. Cannot use cipher after the 'final' method has been called.")}}class Se{constructor(){const t=Ot();this.paddingParams=t.PaddingParams.newWithConstraints(160,160),this.recipientCipher=new t.RecipientCipher,this.recipientCipher.random=Ut(),this.recipientCipher.paddingParams=this.paddingParams,this._isDisposed=!1,this._isFinished=!1}start(t){this.ensureLegalState(),me(t),this.recipientCipher.startDecryptionWithKey(t.identifier,t.lowLevelPrivateKey,new Uint8Array)}update(t){this.ensureLegalState();const e=fe(t),r=this.recipientCipher.processDecryption(e);return pe(r)}final(){this.ensureLegalState();const t=this.recipientCipher.finishDecryption();try{return pe(t)}finally{this._isFinished=!0}}verify(t,e=!0){const r=ke(t);if(ge(r),this._isDisposed)throw new Te(Ce.STREAM_ILLEGAL_STATE,"Illegal state. Cannot verify signature after the 'dispose' method has been called.");if(!this._isFinished)throw new Te(Ce.STREAM_ILLEGAL_STATE,"Illegal state. Cannot verify signature before the 'final' method has been called.");let n;try{if(!this.recipientCipher.isDataSigned())throw new Te(Ce.DATA_NOT_SIGNED);if(n=this.recipientCipher.signerInfos(),!n.hasItem())throw new Te(Ce.DATA_NOT_SIGNED);const t=n.item();let s;for(let e=0;e<r.length;e+=1){if(0===ue.compare(t.signerId(),r[e].identifier)){s=r[e];break}if(e===r.length-1)throw new Te(Ce.SIGNER_NOT_FOUND)}if(!this.recipientCipher.verifySignerInfo(t,s.lowLevelPublicKey))throw new Te(Ce.INVALID_SIGNATURE)}finally{n&&n.delete(),e&&this.dispose()}}dispose(){this.paddingParams.delete(),this.recipientCipher.delete(),this._isDisposed=!0}ensureLegalState(){if(this._isDisposed)throw new Te(Ce.STREAM_ILLEGAL_STATE,"Illegal state. Cannot use cipher after the 'dispose' method has been called.");if(this._isFinished)throw new Te(Ce.STREAM_ILLEGAL_STATE,"Illegal state. Cannot use cipher after the 'final' method has been called.")}}class Le{constructor(t,e,r){me(t);const n=ke(e);ge(n);const s=Ot(),_=Ut();this.recipientCipher=new s.RecipientCipher,this.aes256Gcm=new s.Aes256Gcm,this.sha512=new s.Sha512,this.recipientCipher.encryptionCipher=this.aes256Gcm,this.recipientCipher.random=_,this.recipientCipher.signerHash=this.sha512,r&&(this.randomPadding=new s.RandomPadding,this.randomPadding.random=_,this.recipientCipher.encryptionPadding=this.randomPadding,this.paddingParams=s.PaddingParams.newWithConstraints(160,160),this.recipientCipher.paddingParams=this.paddingParams),n.forEach(t=>{this.recipientCipher.addKeyRecipient(t.identifier,t.lowLevelPublicKey)});try{this.recipientCipher.addSigner(t.identifier,t.lowLevelPrivateKey),this._isDisposed=!1,this._isRunning=!1,this._isFinished=!1}catch(t){throw this.dispose(),t}}get isRunning(){return this._isRunning}get isFinished(){return this._isFinished}get isDisposed(){return this._isDisposed}start(t){this.ensureLegalState(),this.recipientCipher.startSignedEncryption(t);const e=this.recipientCipher.packMessageInfo();return this._isRunning=!0,pe(e)}update(t){this.ensureLegalState(),this.ensureIsRunning();const e=fe(t),r=this.recipientCipher.processEncryption(e);return pe(r)}final(t=!0){this.ensureLegalState(),this.ensureIsRunning();const e=this.recipientCipher.finishEncryption(),r=this.recipientCipher.packMessageInfoFooter();try{return ue.concat([e,r])}finally{this._isFinished=!0,this._isRunning=!1,t&&this.dispose()}}dispose(){this.sha512.delete(),this.aes256Gcm.delete(),this.randomPadding&&this.randomPadding.delete(),this.paddingParams&&this.paddingParams.delete(),this.recipientCipher.delete(),this._isDisposed=!0}ensureLegalState(){if(this._isDisposed)throw new Te(Ce.STREAM_ILLEGAL_STATE,"Illegal state. Cannot use cipher after the 'dispose' method has been called.");if(this._isFinished)throw new Te(Ce.STREAM_ILLEGAL_STATE,"Illegal state. Cannot use cipher after the 'final' method has been called.")}ensureIsRunning(){if(!this._isRunning)throw new Te(Ce.STREAM_ILLEGAL_STATE,"Illegal state. Cannot use cipher before the 'start' method.")}}class Re{constructor(){this._isDisposed=!1;const t=Ot();this.signer=new t.Signer,this.sha512=new t.Sha512,this.signer.hash=this.sha512,this.signer.random=Ut(),this.signer.reset()}get isDisposed(){return this._isDisposed}update(t){if(this._isDisposed)throw new Te(Ce.STREAM_ILLEGAL_STATE,"Illegal state. Cannot use signer after the 'dispose' method has been called.");const e=fe(t,"utf8");return this.signer.appendData(e),this}sign(t,e=!0){if(this._isDisposed)throw new Te(Ce.STREAM_ILLEGAL_STATE,"Illegal state. The VirgilStreamSigner has been disposed. Pass 'false' as the second argument to the 'sign' method if you need to generate more than one signature.");me(t);const r=this.signer.sign(t.lowLevelPrivateKey);return e&&this.dispose(),pe(r)}dispose(){this.sha512.delete(),this.signer.delete(),this._isDisposed=!0}}class Be{constructor(t){this._isDisposed=!1;const e=Ot(),r=fe(t,"base64");this.verifier=new e.Verifier;try{this.verifier.reset(r)}catch(t){throw this.verifier.delete(),t}}get isDisposed(){return this._isDisposed}update(t){if(this._isDisposed)throw new Te(Ce.STREAM_ILLEGAL_STATE,"Illegal state. Cannot use signer after the 'dispose' method has been called.");const e=fe(t,"utf8");return this.verifier.appendData(e),this}verify(t,e=!0){if(this._isDisposed)throw new Te(Ce.STREAM_ILLEGAL_STATE,"Illegal state. The VirgilStreamVerifier has been disposed. Pass 'false' as the second argument to the 'verify' method if you need to verify with more than one public key.");xe(t);const r=this.verifier.verify(t.lowLevelPublicKey);return e&&this.dispose(),r}dispose(){this.verifier.delete(),this._isDisposed=!0}}class ze{constructor(t={}){this.hashAlgorithm=jt,this.keyPairType=qt,this.defaultKeyPairType=t.defaultKeyPairType||qt.DEFAULT,this.useSha256Identifiers=t.useSha256Identifiers||!1}generateKeys(t){const e=t||this.defaultKeyPairType,r=Xt(e);return this.generateKeyPair(Dt(),r)}generateKeysFromKeyMaterial(t,e){const r=e||this.defaultKeyPairType,n=Xt(r),s=fe(t,"base64"),_=Ot(),c=new _.KeyMaterialRng;c.resetKeyMaterial(s);const a=new _.KeyProvider;a.random=c;try{a.setupDefaults()}catch(t){throw c.delete(),a.delete(),t}try{return this.generateKeyPair(a,n)}finally{c.delete(),a.delete()}}importPrivateKey(t){const e=Dt(),r=fe(t,"base64"),n=e.importPrivateKey(r),s=n.extractPublicKey();try{const t=e.exportPublicKey(s),r=this.calculateKeyPairIdentifier(t);return new ve(r,n)}finally{s.delete()}}exportPrivateKey(t){me(t);const e=Dt().exportPrivateKey(t.lowLevelPrivateKey);return pe(e)}importPublicKey(t){const e=fe(t,"base64"),r=Dt().importPublicKey(e),n=this.calculateKeyPairIdentifier(e);return new Pe(n,r)}exportPublicKey(t){xe(t);const e=Dt().exportPublicKey(t.lowLevelPublicKey);return pe(e)}encrypt(t,e,r){const n=fe(t,"utf8"),s=ke(e);ge(s);const _=Ot(),c=Ut(),a=new _.RecipientCipher,i=new _.Aes256Gcm;let o,l;a.encryptionCipher=i,a.random=c,r&&(o=new _.RandomPadding,o.random=c,a.encryptionPadding=o,l=_.PaddingParams.newWithConstraints(160,160),a.paddingParams=l),s.forEach(({identifier:t},e)=>{a.addKeyRecipient(t,s[e].lowLevelPublicKey)});try{a.startEncryption();const t=a.packMessageInfo(),e=a.processEncryption(n),r=a.finishEncryption();return ue.concat([t,e,r])}finally{i.delete(),l&&l.delete(),o&&o.delete(),a.delete()}}decrypt(t,e){const r=fe(t,"base64");me(e);const n=Ot(),s=new n.RecipientCipher;s.random=Ut();const _=n.PaddingParams.newWithConstraints(160,160);s.paddingParams=_;try{s.startDecryptionWithKey(e.identifier,e.lowLevelPrivateKey,new Uint8Array);const t=s.processDecryption(r),n=s.finishDecryption();return ue.concat([t,n])}finally{_.delete(),s.delete()}}calculateHash(t,e=jt.SHA512){const r=fe(t,"utf8");let n;switch(e){case jt.SHA224:n=this.createHash(r,Ot().Sha224);break;case jt.SHA256:n=this.createHash(r,Ot().Sha256);break;case jt.SHA384:n=this.createHash(r,Ot().Sha384);break;case jt.SHA512:n=this.createHash(r,Ot().Sha512);break;default:throw new TypeError("Unknown hash algorithm")}return pe(n)}extractPublicKey(t){me(t);const e=t.lowLevelPrivateKey.extractPublicKey();return new Pe(t.identifier,e)}calculateSignature(t,e){const r=fe(t,"utf8");me(e);const n=Ot(),s=new n.Signer,_=new n.Sha512;s.random=Ut(),s.hash=_,s.reset(),s.appendData(r);try{const t=s.sign(e.lowLevelPrivateKey);return pe(t)}finally{s.delete(),_.delete()}}verifySignature(t,e,r){const n=fe(t,"utf8"),s=fe(e,"base64");xe(r);const _=new(Ot().Verifier);try{_.reset(s)}catch(t){throw _.delete(),t}_.appendData(n);const c=_.verify(r.lowLevelPublicKey);return _.delete(),c}signAndEncrypt(t,e,r,n){const s=fe(t,"utf8");me(e);const _=ke(r);ge(_);const{messageInfo:c,processEncryption:a,finishEncryption:i,messageInfoFooter:o}=this._signAndEncrypt(s,e,_,n);return ue.concat([c,a,i,o])}signThenEncrypt(t,e,r,n){const s=fe(t,"utf8");me(e);const _=ke(r);ge(_);const{messageInfo:c,processEncryption:a,finishEncryption:i}=this._signThenEncrypt(s,e,_,n);return ue.concat([c,a,i])}decryptAndVerify(t,e,r){const n=fe(t,"base64");me(e);const s=ke(r);return ge(s),this._decryptAndVerify(n,new Uint8Array,e,s)}decryptThenVerify(t,e,r){const n=fe(t,"base64");me(e);const s=ke(r);return ge(s),this._decryptThenVerify(n,new Uint8Array,e,s)}getRandomBytes(t){!function(t){if("number"!=typeof t)throw new TypeError("An argument is not a number.");if(t<=0)throw new TypeError(`An argument should be greater that '0', but received '${t}'.`)}(t);const e=Ut().random(t);return pe(e)}signThenEncryptDetached(t,e,r,n){const s=fe(t,"utf8");me(e);const _=ke(r);ge(_);const{messageInfo:c,processEncryption:a,finishEncryption:i}=this._signThenEncrypt(s,e,_,n);return{encryptedData:ue.concat([a,i]),metadata:pe(c)}}decryptThenVerifyDetached(t,e,r,n){const s=fe(t,"base64"),_=fe(e,"base64");me(r);const c=ke(n);return ge(c),this._decryptThenVerify(s,_,r,c)}createStreamCipher(t,e){return new Fe(t,e)}createStreamDecipher(t){return new Ke(t)}createStreamSignAndEncrypt(t,e,r){return new Le(t,e,r)}createStreamDecryptAndVerify(){return new Se}createStreamSigner(){return new Re}createStreamVerifier(t){return new Be(t)}generateGroupSession(t){const e=fe(t,"utf8");Ee(e);const r=function(t){const e=new(Ot().GroupSessionTicket);e.rng=Ut();try{return e.setupTicketAsNew(t),e.getTicketMessage()}finally{e.delete()}}(be(e)),n=r.serialize();return r.delete(),Ae([n])}importGroupSession(t){if(!Array.isArray(t))throw new TypeError("Epoch messages must be an array.");if(0===t.length)throw new TypeError("Epoch messages must not be empty.");return Ae(t.map(t=>fe(t,"base64")))}calculateGroupSessionId(t){const e=fe(t,"utf8");return Ee(e),pe(be(e)).toString("hex")}createHash(t,e){const r=new e,n=r.hash(t);return r.delete(),n}calculateKeyPairIdentifier(t){return this.useSha256Identifiers?this.createHash(t,Ot().Sha256):this.createHash(t,Ot().Sha512).slice(0,8)}generateKeyPair(t,e){let r;if((n=e.type)===qt.CURVE25519_ROUND5_ED25519_FALCON||n===qt.CURVE25519_ED25519){const[n,s]=e.cipherAlgIds,[_,c]=e.signerAlgIds;r=t.generateCompoundHybridPrivateKey(n,s,_,c)}else(t=>t===qt.RSA_2048||t===qt.RSA_3072||t===qt.RSA_4096||t===qt.RSA_8192)(e.type)&&t.setRsaParams(e.bitlen),r=t.generatePrivateKey(e.algId);var n;const s=r.extractPublicKey();let _;try{_=t.exportPublicKey(s)}catch(t){throw r.delete(),s.delete(),t}const c=this.calculateKeyPairIdentifier(_);return{privateKey:new ve(c,r),publicKey:new Pe(c,s)}}_signAndEncrypt(t,e,r,n){const s=Ot(),_=Ut(),c=new s.RecipientCipher,a=new s.Aes256Gcm,i=new s.Sha512;let o,l;c.encryptionCipher=a,c.random=_,c.signerHash=i,n&&(o=new s.RandomPadding,o.random=_,c.encryptionPadding=o,l=s.PaddingParams.newWithConstraints(160,160),c.paddingParams=l),r.forEach(({identifier:t},e)=>{c.addKeyRecipient(t,r[e].lowLevelPublicKey)});try{return c.addSigner(e.identifier,e.lowLevelPrivateKey),c.startSignedEncryption(t.length),{messageInfo:c.packMessageInfo(),processEncryption:c.processEncryption(t),finishEncryption:c.finishEncryption(),messageInfoFooter:c.packMessageInfoFooter()}}finally{i.delete(),a.delete(),o&&o.delete(),l&&l.delete(),c.delete()}}_signThenEncrypt(t,e,r,n){const s=Ot(),_=Ut(),c=new s.RecipientCipher,a=new s.Aes256Gcm;let i,o;c.encryptionCipher=a,c.random=_,n&&(i=new s.RandomPadding,i.random=_,c.encryptionPadding=i,o=s.PaddingParams.newWithConstraints(160,160),c.paddingParams=o),r.forEach(({identifier:t},e)=>{c.addKeyRecipient(t,r[e].lowLevelPublicKey)});const l=c.customParams();try{const r=this.calculateSignature(t,e);return l.addData(he,r),l.addData(ye,e.identifier),c.startEncryption(),{messageInfo:c.packMessageInfo(),processEncryption:c.processEncryption(t),finishEncryption:c.finishEncryption()}}finally{l.delete(),a.delete(),i&&i.delete(),o&&o.delete(),c.delete()}}_decryptAndVerify(t,e,r,n){const s=Ot(),_=s.PaddingParams.newWithConstraints(160,160),c=new s.RecipientCipher;let a;c.random=Ut(),c.paddingParams=_;try{c.startDecryptionWithKey(r.identifier,r.lowLevelPrivateKey,e);const n=c.processDecryption(t),s=c.finishDecryption();a=ue.concat([n,s])}catch(t){throw _.delete(),c.delete(),t}if(!c.isDataSigned())throw _.delete(),c.delete(),new Te(Ce.DATA_NOT_SIGNED);const i=c.signerInfos();if(!i.hasItem())throw _.delete(),i.delete(),c.delete(),new Te(Ce.DATA_NOT_SIGNED);const o=i.item();let l;for(let t=0;t<n.length;t+=1){if(0===ue.compare(o.signerId(),n[t].identifier)){l=n[t];break}if(t===n.length-1)throw _.delete(),o.delete(),i.delete(),c.delete(),new Te(Ce.SIGNER_NOT_FOUND)}if(!c.verifySignerInfo(o,l.lowLevelPublicKey))throw _.delete(),o.delete(),i.delete(),c.delete(),new Te(Ce.INVALID_SIGNATURE);return _.delete(),o.delete(),i.delete(),c.delete(),a}_decryptThenVerify(t,e,r,n){const s=Ot(),_=s.PaddingParams.newWithConstraints(160,160),c=new s.RecipientCipher;let a;c.random=Ut(),c.paddingParams=_;try{c.startDecryptionWithKey(r.identifier,r.lowLevelPrivateKey,e);const n=c.processDecryption(t),s=c.finishDecryption();a=ue.concat([n,s])}catch(t){throw _.delete(),c.delete(),t}const i=c.customParams();let o;if(1===n.length)o=n[0];else{let t;try{t=i.findData(ye)}catch(t){throw _.delete(),c.delete(),i.delete(),t}for(let e=0;e<n.length;e+=1)if(0===ue.compare(t,n[e].identifier)){o=n[e];break}if(!o)throw i.delete(),_.delete(),c.delete(),new Te(Ce.SIGNER_NOT_FOUND)}try{const t=i.findData(he);if(!this.verifySignature(a,t,o))throw new Te(Ce.INVALID_SIGNATURE);return a}finally{i.delete(),_.delete(),c.delete()}}}export{jt as HashAlgorithm,qt as KeyPairType,t as VirgilAccessTokenSigner,e as VirgilCardCrypto,ze as VirgilCrypto,Te as VirgilCryptoError,Ce as VirgilCryptoErrorStatus,ve as VirgilPrivateKey,r as VirgilPrivateKeyExporter,Pe as VirgilPublicKey,Fe as VirgilStreamCipher,Ke as VirgilStreamDecipher,Re as VirgilStreamSigner,Be as VirgilStreamVerifier,Ot as getFoundationModules,Ht as hasFoundationModules,Vt as initCrypto,Mt as moduleInitializer,Gt as setFoundationModules};
